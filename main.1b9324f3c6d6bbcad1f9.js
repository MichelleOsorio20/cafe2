(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(t,e,n){t.exports=n("zUnb")},"6Joi":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n("uXP2"),o=(r=n("wj3C"))&&"object"==typeof r&&"default"in r?r.default:r,s=n("q/0M"),a=n("zVF4"),u=n("x7I3"),c=n("S+S0"),l=new s.Logger("@firebase/firestore");function h(){return l.logLevel}function f(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(l.logLevel<=s.LogLevel.DEBUG){var r=e.map(g);l.debug.apply(l,i.__spreadArrays(["Firestore (7.19.0): "+t],r))}}function d(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(l.logLevel<=s.LogLevel.ERROR){var r=e.map(g);l.error.apply(l,i.__spreadArrays(["Firestore (7.19.0): "+t],r))}}function p(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(l.logLevel<=s.LogLevel.WARN){var r=e.map(g);l.warn.apply(l,i.__spreadArrays(["Firestore (7.19.0): "+t],r))}}function g(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(i){return t}}function v(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (7.19.0) INTERNAL ASSERTION FAILED: "+t;throw d(e),new Error(e)}function m(t,e){t||v()}function y(t,e){return t}function b(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var w=function(){function t(){}return t.t=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=b(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function _(t,e){return t<e?-1:t>e?1:0}function E(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function I(t){return t+"\0"}var T=function(t,e,n,r,i){this.s=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i},S=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"i",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t.prototype.o=function(t){return _(this.projectId,t.projectId)||_(this.database,t.database)},t}();function A(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function C(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function k(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var x=function(){function t(t,e){this.h=t,this.u=e,this.l={}}return t.prototype.get=function(t){var e=this.h(t),n=this.l[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[1];if(this.u(o[0],t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.h(t),r=this.l[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.u(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.l[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.h(t),n=this.l[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.u(n[r][0],t))return 1===n.length?delete this.l[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){C(this.l,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}}))},t.prototype._=function(){return k(this.l)},t}(),O={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},N=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return i.__extends(e,t),e}(Error),R=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new N(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new N(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new N(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new N(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.T=function(t){return this.seconds===t.seconds?_(this.nanoseconds,t.nanoseconds):_(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),P=function(){function t(t){this.timestamp=t}return t.m=function(e){return new t(e)},t.min=function(){return new t(new R(0,0))},t.prototype.o=function(t){return this.timestamp.T(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.I=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.A=function(){return this.timestamp},t}(),D=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&v(),void 0===n?n=t.length-e:n>t.length-e&&v(),this.segments=t,this.offset=e,this.R=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.R},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.P(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.g(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.V=function(t){return this.g(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.p=function(){return this.g(this.segments,this.offset,this.length-1)},t.prototype.v=function(){return this.segments[this.offset]},t.prototype.S=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype._=function(){return 0===this.length},t.prototype.D=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.C=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.N=function(){return this.segments.slice(this.offset,this.limit())},t.P=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),L=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.g=function(t,n,r){return new e(t,n,r)},e.prototype.F=function(){return this.N().join("/")},e.prototype.toString=function(){return this.F()},e.k=function(t){if(t.indexOf("//")>=0)throw new N(O.INVALID_ARGUMENT,"Invalid path ("+t+"). Paths must not contain // in them.");return new e(t.split("/").filter((function(t){return t.length>0})))},e.$=function(){return new e([])},e}(D),V=/^[_a-zA-Z][_a-zA-Z0-9]*$/,U=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.g=function(t,n,r){return new e(t,n,r)},e.O=function(t){return V.test(t)},e.prototype.F=function(){return this.N().map((function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),e.O(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.F()},e.prototype.M=function(){return 1===this.length&&"__name__"===this.get(0)},e.L=function(){return new e(["__name__"])},e.q=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new N(O.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new N(O.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new N(O.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new N(O.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.$=function(){return new e([])},e}(D),M=function(){function t(t){this.path=t}return t.B=function(e){return new t(L.k(e))},t.U=function(e){return new t(L.k(e).V(5))},t.prototype.W=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===L.P(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.P=function(t,e){return L.P(t.path,e.path)},t.j=function(t){return t.length%2==0},t.K=function(e){return new t(new L(e.slice()))},t}();function j(t){return null==t}function F(t){return-0===t&&1/t==-1/0}function q(t){return"number"==typeof t&&Number.isInteger(t)&&!F(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var H=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.G=null};function B(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new H(t,e,n,r,i,o,s)}function z(t){var e=y(t);if(null===e.G){var n=e.path.F();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.F()+t.op.toString()+Lt(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return(e=t).field.F()+e.dir;var e})).join(","),j(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Rn(e.startAt)),e.endAt&&(n+="|ub:",n+=Rn(e.endAt)),e.G=n}return e.G}function G(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Un(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!Nt(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Dn(t.startAt,e.startAt)&&Dn(t.endAt,e.endAt)}function W(t){return M.j(t.path)&&null===t.collectionGroup&&0===t.filters.length}var $=function(){function t(t){this.H=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.H)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.H)},t.prototype.Y=function(){return 2*this.H.length},t.prototype.o=function(t){return _(this.H,t.H)},t.prototype.isEqual=function(t){return this.H===t.H},t}();$.J=new $("");var K,X,Z=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=P.min()),void 0===o&&(o=P.min()),void 0===s&&(s=$.J),this.target=t,this.targetId=e,this.X=n,this.sequenceNumber=r,this.Z=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.tt=function(e){return new t(this.target,this.targetId,this.X,e,this.Z,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.et=function(e,n){return new t(this.target,this.targetId,this.X,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.nt=function(e){return new t(this.target,this.targetId,this.X,this.sequenceNumber,this.Z,e,this.resumeToken)},t}(),Y=function(t){this.count=t};function J(t){switch(t){case O.OK:return v();case O.CANCELLED:case O.UNKNOWN:case O.DEADLINE_EXCEEDED:case O.RESOURCE_EXHAUSTED:case O.INTERNAL:case O.UNAVAILABLE:case O.UNAUTHENTICATED:return!1;case O.INVALID_ARGUMENT:case O.NOT_FOUND:case O.ALREADY_EXISTS:case O.PERMISSION_DENIED:case O.FAILED_PRECONDITION:case O.ABORTED:case O.OUT_OF_RANGE:case O.UNIMPLEMENTED:case O.DATA_LOSS:return!0;default:return v()}}function Q(t){if(void 0===t)return d("GRPC error has no .code"),O.UNKNOWN;switch(t){case K.OK:return O.OK;case K.CANCELLED:return O.CANCELLED;case K.UNKNOWN:return O.UNKNOWN;case K.DEADLINE_EXCEEDED:return O.DEADLINE_EXCEEDED;case K.RESOURCE_EXHAUSTED:return O.RESOURCE_EXHAUSTED;case K.INTERNAL:return O.INTERNAL;case K.UNAVAILABLE:return O.UNAVAILABLE;case K.UNAUTHENTICATED:return O.UNAUTHENTICATED;case K.INVALID_ARGUMENT:return O.INVALID_ARGUMENT;case K.NOT_FOUND:return O.NOT_FOUND;case K.ALREADY_EXISTS:return O.ALREADY_EXISTS;case K.PERMISSION_DENIED:return O.PERMISSION_DENIED;case K.FAILED_PRECONDITION:return O.FAILED_PRECONDITION;case K.ABORTED:return O.ABORTED;case K.OUT_OF_RANGE:return O.OUT_OF_RANGE;case K.UNIMPLEMENTED:return O.UNIMPLEMENTED;case K.DATA_LOSS:return O.DATA_LOSS;default:return v()}}(X=K||(K={}))[X.OK=0]="OK",X[X.CANCELLED=1]="CANCELLED",X[X.UNKNOWN=2]="UNKNOWN",X[X.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",X[X.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",X[X.NOT_FOUND=5]="NOT_FOUND",X[X.ALREADY_EXISTS=6]="ALREADY_EXISTS",X[X.PERMISSION_DENIED=7]="PERMISSION_DENIED",X[X.UNAUTHENTICATED=16]="UNAUTHENTICATED",X[X.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",X[X.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",X[X.ABORTED=10]="ABORTED",X[X.OUT_OF_RANGE=11]="OUT_OF_RANGE",X[X.UNIMPLEMENTED=12]="UNIMPLEMENTED",X[X.INTERNAL=13]="INTERNAL",X[X.UNAVAILABLE=14]="UNAVAILABLE",X[X.DATA_LOSS=15]="DATA_LOSS";var tt=function(){function t(t,e){this.P=t,this.root=e||nt.EMPTY}return t.prototype.st=function(e,n){return new t(this.P,this.root.st(e,n,this.P).copy(null,null,nt.it,null,null))},t.prototype.remove=function(e){return new t(this.P,this.root.remove(e,this.P).copy(null,null,nt.it,null,null))},t.prototype.get=function(t){for(var e=this.root;!e._();){var n=this.P(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n._();){var r=this.P(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype._=function(){return this.root._()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.rt=function(){return this.root.rt()},t.prototype.ot=function(){return this.root.ot()},t.prototype.ht=function(t){return this.root.ht(t)},t.prototype.forEach=function(t){this.ht((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.ht((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.at=function(t){return this.root.at(t)},t.prototype.ct=function(){return new et(this.root,null,this.P,!1)},t.prototype.ut=function(t){return new et(this.root,t,this.P,!1)},t.prototype.lt=function(){return new et(this.root,null,this.P,!0)},t.prototype._t=function(t){return new et(this.root,t,this.P,!0)},t}(),et=function(){function t(t,e,n,r){this.ft=r,this.dt=[];for(var i=1;!t._();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.ft?t.left:t.right;else{if(0===i){this.dt.push(t);break}this.dt.push(t),t=this.ft?t.right:t.left}}return t.prototype.wt=function(){var t=this.dt.pop(),e={key:t.key,value:t.value};if(this.ft)for(t=t.left;!t._();)this.dt.push(t),t=t.right;else for(t=t.right;!t._();)this.dt.push(t),t=t.left;return e},t.prototype.Tt=function(){return this.dt.length>0},t.prototype.Et=function(){if(0===this.dt.length)return null;var t=this.dt[this.dt.length-1];return{key:t.key,value:t.value}},t}(),nt=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype._=function(){return!1},t.prototype.ht=function(t){return this.left.ht(t)||t(this.key,this.value)||this.right.ht(t)},t.prototype.at=function(t){return this.right.at(t)||t(this.key,this.value)||this.left.at(t)},t.prototype.min=function(){return this.left._()?this:this.left.min()},t.prototype.rt=function(){return this.min().key},t.prototype.ot=function(){return this.right._()?this.key:this.right.ot()},t.prototype.st=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.st(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.st(t,e,n))).It()},t.prototype.At=function(){if(this.left._())return t.EMPTY;var e=this;return e.left.Rt()||e.left.left.Rt()||(e=e.Pt()),(e=e.copy(null,null,null,e.left.At(),null)).It()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left._()||i.left.Rt()||i.left.left.Rt()||(i=i.Pt()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.Rt()&&(i=i.gt()),i.right._()||i.right.Rt()||i.right.left.Rt()||(i=i.Vt()),0===n(e,i.key)){if(i.right._())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.At())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.It()},t.prototype.Rt=function(){return this.color},t.prototype.It=function(){var t=this;return t.right.Rt()&&!t.left.Rt()&&(t=t.yt()),t.left.Rt()&&t.left.left.Rt()&&(t=t.gt()),t.left.Rt()&&t.right.Rt()&&(t=t.pt()),t},t.prototype.Pt=function(){var t=this.pt();return t.right.left.Rt()&&(t=(t=(t=t.copy(null,null,null,null,t.right.gt())).yt()).pt()),t},t.prototype.Vt=function(){var t=this.pt();return t.left.left.Rt()&&(t=(t=t.gt()).pt()),t},t.prototype.yt=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.gt=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.pt=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.bt=function(){var t=this.vt();return Math.pow(2,t)<=this.size+1},t.prototype.vt=function(){if(this.Rt()&&this.left.Rt())throw v();if(this.right.Rt())throw v();var t=this.left.vt();if(t!==this.right.vt())throw v();return t+(this.Rt()?0:1)},t}();nt.EMPTY=null,nt.RED=!0,nt.it=!1,nt.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw v()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw v()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw v()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw v()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw v()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.st=function(t,e,n){return new nt(t,e)},t.prototype.remove=function(t,e){return this},t.prototype._=function(){return!0},t.prototype.ht=function(t){return!1},t.prototype.at=function(t){return!1},t.prototype.rt=function(){return null},t.prototype.ot=function(){return null},t.prototype.Rt=function(){return!1},t.prototype.bt=function(){return!0},t.prototype.vt=function(){return 0},t}());var rt=function(){function t(t){this.P=t,this.data=new tt(this.P)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.rt()},t.prototype.last=function(){return this.data.ot()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.ht((function(e,n){return t(e),!1}))},t.prototype.St=function(t,e){for(var n=this.data.ut(t[0]);n.Tt();){var r=n.wt();if(this.P(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Dt=function(t,e){var n;for(n=void 0!==e?this.data.ut(e):this.data.ct();n.Tt();)if(!t(n.wt().key))return},t.prototype.Ct=function(t){var e=this.data.ut(t);return e.Tt()?e.wt().key:null},t.prototype.ct=function(){return new it(this.data.ct())},t.prototype.ut=function(t){return new it(this.data.ut(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).st(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype._=function(){return this.data._()},t.prototype.Nt=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.ct(),r=e.data.ct();n.Tt();){var i=n.wt().key,o=r.wt().key;if(0!==this.P(i,o))return!1}return!0},t.prototype.N=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.P);return n.data=e,n},t}(),it=function(){function t(t){this.Ft=t}return t.prototype.wt=function(){return this.Ft.wt().key},t.prototype.Tt=function(){return this.Ft.Tt()},t}(),ot=new tt(M.P);function st(){return ot}function at(){return st()}var ut=new tt(M.P);function ct(){return ut}var lt=new tt(M.P),ht=new rt(M.P);function ft(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=ht,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var dt=new rt(_);function pt(){return dt}var gt=function(){function t(t){this.P=t?function(e,n){return t(e,n)||M.P(e.key,n.key)}:function(t,e){return M.P(t.key,e.key)},this.kt=ct(),this.$t=new tt(this.P)}return t.xt=function(e){return new t(e.P)},t.prototype.has=function(t){return null!=this.kt.get(t)},t.prototype.get=function(t){return this.kt.get(t)},t.prototype.first=function(){return this.$t.rt()},t.prototype.last=function(){return this.$t.ot()},t.prototype._=function(){return this.$t._()},t.prototype.indexOf=function(t){var e=this.kt.get(t);return e?this.$t.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.$t.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.$t.ht((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.kt.st(t.key,t),e.$t.st(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.kt.remove(t),this.$t.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.$t.ct(),r=e.$t.ct();n.Tt();){var i=n.wt().key,o=r.wt().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.P=this.P,r.kt=e,r.$t=n,r},t}(),vt=function(){function t(){this.Ot=new tt(M.P)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Ot.get(e);n?0!==t.type&&3===n.type?this.Ot=this.Ot.st(e,t):3===t.type&&1!==n.type?this.Ot=this.Ot.st(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Ot=this.Ot.st(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Ot=this.Ot.st(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Ot=this.Ot.remove(e):1===t.type&&2===n.type?this.Ot=this.Ot.st(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Ot=this.Ot.st(e,{type:2,doc:t.doc}):v():this.Ot=this.Ot.st(e,t)},t.prototype.Mt=function(){var t=[];return this.Ot.ht((function(e,n){t.push(n)})),t},t}(),mt=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.Lt=n,this.docChanges=r,this.qt=i,this.fromCache=o,this.Bt=s,this.Ut=a}return t.Qt=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,gt.xt(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.qt._()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.Bt===t.Bt&&this.qt.isEqual(t.qt)&&mn(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.Lt.isEqual(t.Lt)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),yt=function(){function t(t,e,n,r,i){this.Z=t,this.Wt=e,this.jt=n,this.Kt=r,this.Gt=i}return t.zt=function(e,n){var r=new Map;return r.set(e,bt.Ht(e,n)),new t(P.min(),r,pt(),st(),ft())},t}(),bt=function(){function t(t,e,n,r,i){this.resumeToken=t,this.Yt=e,this.Jt=n,this.Xt=r,this.Zt=i}return t.Ht=function(e,n){return new t($.J,n,ft(),ft(),ft())},t}(),wt=function(t,e,n,r){this.te=t,this.removedTargetIds=e,this.key=n,this.ee=r},_t=function(t,e){this.targetId=t,this.ne=e},Et=function(t,e,n,r){void 0===n&&(n=$.J),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},It=function(){function t(){this.se=0,this.ie=At(),this.re=$.J,this.oe=!1,this.he=!0}return Object.defineProperty(t.prototype,"Yt",{get:function(){return this.oe},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.re},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ae",{get:function(){return 0!==this.se},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ce",{get:function(){return this.he},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){t.Y()>0&&(this.he=!0,this.re=t)},t.prototype.le=function(){var t=ft(),e=ft(),n=ft();return this.ie.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:v()}})),new bt(this.re,this.oe,t,e,n)},t.prototype._e=function(){this.he=!1,this.ie=At()},t.prototype.fe=function(t,e){this.he=!0,this.ie=this.ie.st(t,e)},t.prototype.de=function(t){this.he=!0,this.ie=this.ie.remove(t)},t.prototype.we=function(){this.se+=1},t.prototype.Te=function(){this.se-=1},t.prototype.Ee=function(){this.he=!0,this.oe=!0},t}(),Tt=function(){function t(t){this.me=t,this.Ie=new Map,this.Ae=st(),this.Re=St(),this.Pe=new rt(_)}return t.prototype.ge=function(t){for(var e=0,n=t.te;e<n.length;e++){var r=n[e];t.ee instanceof rn?this.Ve(r,t.ee):t.ee instanceof on&&this.ye(r,t.key,t.ee)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.ye(o[i],t.key,t.ee)},t.prototype.pe=function(t){var e=this;this.be(t,(function(n){var r=e.ve(n);switch(t.state){case 0:e.Se(n)&&r.ue(t.resumeToken);break;case 1:r.Te(),r.ae||r._e(),r.ue(t.resumeToken);break;case 2:r.Te(),r.ae||e.removeTarget(n);break;case 3:e.Se(n)&&(r.Ee(),r.ue(t.resumeToken));break;case 4:e.Se(n)&&(e.De(n),r.ue(t.resumeToken));break;default:v()}}))},t.prototype.be=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.Ie.forEach((function(t,r){n.Se(r)&&e(r)}))},t.prototype.Ce=function(t){var e=t.targetId,n=t.ne.count,r=this.Ne(e);if(r){var i=r.target;if(W(i))if(0===n){var o=new M(i.path);this.ye(e,o,new on(o,P.min()))}else m(1===n);else this.Fe(e)!==n&&(this.De(e),this.Pe=this.Pe.add(e))}},t.prototype.ke=function(t){var e=this,n=new Map;this.Ie.forEach((function(r,i){var o=e.Ne(i);if(o){if(r.Yt&&W(o.target)){var s=new M(o.target.path);null!==e.Ae.get(s)||e.$e(i,s)||e.ye(i,s,new on(s,t))}r.ce&&(n.set(i,r.le()),r._e())}}));var r=ft();this.Re.forEach((function(t,n){var i=!0;n.Dt((function(t){var n=e.Ne(t);return!n||2===n.X||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new yt(t,n,this.Pe,this.Ae,r);return this.Ae=st(),this.Re=St(),this.Pe=new rt(_),i},t.prototype.Ve=function(t,e){if(this.Se(t)){var n=this.$e(t,e.key)?2:0;this.ve(t).fe(e.key,n),this.Ae=this.Ae.st(e.key,e),this.Re=this.Re.st(e.key,this.xe(e.key).add(t))}},t.prototype.ye=function(t,e,n){if(this.Se(t)){var r=this.ve(t);this.$e(t,e)?r.fe(e,1):r.de(e),this.Re=this.Re.st(e,this.xe(e).delete(t)),n&&(this.Ae=this.Ae.st(e,n))}},t.prototype.removeTarget=function(t){this.Ie.delete(t)},t.prototype.Fe=function(t){var e=this.ve(t).le();return this.me.Oe(t).size+e.Jt.size-e.Zt.size},t.prototype.we=function(t){this.ve(t).we()},t.prototype.ve=function(t){var e=this.Ie.get(t);return e||(e=new It,this.Ie.set(t,e)),e},t.prototype.xe=function(t){var e=this.Re.get(t);return e||(e=new rt(_),this.Re=this.Re.st(t,e)),e},t.prototype.Se=function(t){var e=null!==this.Ne(t);return e||f("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.Ne=function(t){var e=this.Ie.get(t);return e&&e.ae?null:this.me.Me(t)},t.prototype.De=function(t){var e=this;this.Ie.set(t,new It),this.me.Oe(t).forEach((function(n){e.ye(t,n,null)}))},t.prototype.$e=function(t,e){return this.me.Oe(t).has(e)},t}();function St(){return new tt(M.P)}function At(){return new tt(M.P)}function Ct(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function kt(t){var e=Vt(t.mapValue.fields.__local_write_time__.timestampValue);return new R(e.seconds,e.nanos)}var xt=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ot(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ct(t)?4:10:v()}function Nt(t,e){var n=Ot(t);if(n!==Ot(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return kt(t).isEqual(kt(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=Vt(t.timestampValue),r=Vt(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Mt(t.bytesValue).isEqual(Mt(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Ut(t.geoPointValue.latitude)===Ut(e.geoPointValue.latitude)&&Ut(t.geoPointValue.longitude)===Ut(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Ut(t.integerValue)===Ut(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=Ut(t.doubleValue),r=Ut(e.doubleValue);return n===r?F(n)===F(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return E(t.arrayValue.values||[],e.arrayValue.values||[],Nt);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(A(n)!==A(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Nt(n[i],r[i])))return!1;return!0}(t,e);default:return v()}}function Rt(t,e){return void 0!==(t.values||[]).find((function(t){return Nt(t,e)}))}function Pt(t,e){var n=Ot(t),r=Ot(e);if(n!==r)return _(n,r);switch(n){case 0:return 0;case 1:return _(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=Ut(t.integerValue||t.doubleValue),r=Ut(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return Dt(t.timestampValue,e.timestampValue);case 4:return Dt(kt(t),kt(e));case 5:return _(t.stringValue,e.stringValue);case 6:return function(t,e){var n=Mt(t),r=Mt(e);return n.o(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=_(n[i],r[i]);if(0!==o)return o}return _(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=_(Ut(t.latitude),Ut(e.latitude));return 0!==n?n:_(Ut(t.longitude),Ut(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=Pt(n[i],r[i]);if(o)return o}return _(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=_(r[s],o[s]);if(0!==a)return a;var u=Pt(n[r[s]],i[o[s]]);if(0!==u)return u}return _(r.length,o.length)}(t.mapValue,e.mapValue);default:throw v()}}function Dt(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return _(t,e);var n=Vt(t),r=Vt(e),i=_(n.seconds,r.seconds);return 0!==i?i:_(n.nanos,r.nanos)}function Lt(t){return function t(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(t){var e=Vt(t);return"time("+e.seconds+","+e.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Mt(e.bytesValue).toBase64():"referenceValue"in e?M.U(e.referenceValue).toString():"geoPointValue"in e?"geo("+(n=e.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in e?function(e){for(var n="[",r=!0,i=0,o=e.values||[];i<o.length;i++)r?r=!1:n+=",",n+=t(o[i]);return n+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var n="{",r=!0,i=0,o=Object.keys(e.fields||{}).sort();i<o.length;i++){var s=o[i];r?r=!1:n+=",",n+=s+":"+t(e.fields[s])}return n+"}"}(e.mapValue):v();var n}(t)}function Vt(t){if(m(!!t),"string"==typeof t){var e=0,n=xt.exec(t);if(m(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Ut(t.seconds),nanos:Ut(t.nanos)}}function Ut(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Mt(t){return"string"==typeof t?$.fromBase64String(t):$.fromUint8Array(t)}function jt(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.F()}}function Ft(t){return!!t&&"integerValue"in t}function qt(t){return!!t&&"arrayValue"in t}function Ht(t){return!!t&&"nullValue"in t}function Bt(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function zt(t){return!!t&&"mapValue"in t}var Gt={asc:"ASCENDING",desc:"DESCENDING"},Wt={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$t=function(t,e){this.s=t,this.Le=e};function Kt(t){return{integerValue:""+t}}function Xt(t,e){if(t.Le){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:F(e)?"-0":e}}function Zt(t,e){return q(e)?Kt(e):Xt(t,e)}function Yt(t,e){return t.Le?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Jt(t,e){return t.Le?e.toBase64():e.toUint8Array()}function Qt(t,e){return Yt(t,e.A())}function te(t){return m(!!t),P.m(function(t){var e=Vt(t);return new R(e.seconds,e.nanos)}(t))}function ee(t,e){return function(t){return new L(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).F()}function ne(t){var e=L.k(t);return m(_e(e)),e}function re(t,e){return ee(t.s,e.path)}function ie(t,e){var n=ne(e);return m(n.get(1)===t.s.projectId),m(!n.get(3)&&!t.s.database||n.get(3)===t.s.database),new M(ue(n))}function oe(t,e){return ee(t.s,e)}function se(t){var e=ne(t);return 4===e.length?L.$():ue(e)}function ae(t){return new L(["projects",t.s.projectId,"databases",t.s.database]).F()}function ue(t){return m(t.length>4&&"documents"===t.get(4)),t.V(5)}function ce(t,e,n){return{name:re(t,e),fields:n.proto.mapValue.fields}}function le(t,e){var n;if(e instanceof Ge)n={update:ce(t,e.key,e.value)};else if(e instanceof Ye)n={delete:re(t,e.key)};else if(e instanceof We)n={update:ce(t,e.key,e.data),updateMask:we(e.qe)};else if(e instanceof Ke)n={transform:{document:re(t,e.key),fieldTransforms:e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof Ae)return{fieldPath:e.field.F(),setToServerValue:"REQUEST_TIME"};if(n instanceof Ce)return{fieldPath:e.field.F(),appendMissingElements:{values:n.elements}};if(n instanceof xe)return{fieldPath:e.field.F(),removeAllFromArray:{values:n.elements}};if(n instanceof Ne)return{fieldPath:e.field.F(),increment:n.Be};throw v()}(0,t)}))}};else{if(!(e instanceof Je))return v();n={verify:re(t,e.key)}}return e.Qe.Ue||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Qt(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:v()}(t,e.Qe)),n}function he(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Ue.updateTime(te(t.updateTime)):void 0!==t.exists?Ue.exists(t.exists):Ue.We()}(e.currentDocument):Ue.We();if(e.update){var r=ie(t,e.update.name),i=new Qe({mapValue:{fields:e.update.fields}});if(e.updateMask){var o=function(t){return new De((t.fieldPaths||[]).map((function(t){return U.q(t)})))}(e.updateMask);return new We(r,i,o,n)}return new Ge(r,i,n)}if(e.delete){var s=ie(t,e.delete);return new Ye(s,n)}if(e.transform){var a=ie(t,e.transform.document),u=e.transform.fieldTransforms.map((function(e){return function(t,e){var n=null;"setToServerValue"in e?(m("REQUEST_TIME"===e.setToServerValue),n=new Ae):"appendMissingElements"in e?n=new Ce(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new xe(e.removeAllFromArray.values||[]):"increment"in e?n=new Ne(t,e.increment):v();var r=U.q(e.fieldPath);return new Le(r,n)}(t,e)}));return m(!0===n.exists),new Ke(a,u)}if(e.verify){var c=ie(t,e.verify);return new Je(c,n)}return v()}function fe(t,e){return{documents:[oe(t,e.path)]}}function de(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=oe(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=oe(t,r.p()),n.structuredQuery.from=[{collectionId:r.S()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(Bt(t.value))return{unaryFilter:{field:ve(t.field),op:"IS_NAN"}};if(Ht(t.value))return{unaryFilter:{field:ve(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Bt(t.value))return{unaryFilter:{field:ve(t.field),op:"IS_NOT_NAN"}};if(Ht(t.value))return{unaryFilter:{field:ve(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ve(t.field),op:(e=t.op,Wt[e]),value:t.value}};var e}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map((function(t){return{field:ve((e=t).field),direction:(n=e.dir,Gt[n])};var e,n}))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.Le||j(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=pe(e.startAt)),e.endAt&&(n.structuredQuery.endAt=pe(e.endAt)),n}function pe(t){return{before:t.before,values:t.position}}function ge(t){return new Nn(t.values||[],!!t.before)}function ve(t){return{fieldPath:t.F()}}function me(t){return U.q(t.fieldPath)}function ye(t){return En.create(me(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return v()}}(t.fieldFilter.op),t.fieldFilter.value)}function be(t){switch(t.unaryFilter.op){case"IS_NAN":var e=me(t.unaryFilter.field);return En.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=me(t.unaryFilter.field);return En.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=me(t.unaryFilter.field);return En.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=me(t.unaryFilter.field);return En.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return v()}}function we(t){var e=[];return t.fields.forEach((function(t){return e.push(t.F())})),{fieldPaths:e}}function _e(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var Ee=function(){this.je=void 0};function Ie(t,e,n){return t instanceof Ae?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Ce?ke(t,e):t instanceof xe?Oe(t,e):function(t,e){var n=Se(t,e),r=Re(n)+Re(t.Be);return Ft(n)&&Ft(t.Be)?Kt(r):Xt(t.serializer,r)}(t,e)}function Te(t,e,n){return t instanceof Ce?ke(t,e):t instanceof xe?Oe(t,e):n}function Se(t,e){return t instanceof Ne?Ft(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var Ae=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e}(Ee),Ce=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return i.__extends(e,t),e}(Ee);function ke(t,e){for(var n=Pe(e),r=function(t){n.some((function(e){return Nt(e,t)}))||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var xe=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return i.__extends(e,t),e}(Ee);function Oe(t,e){for(var n=Pe(e),r=function(t){n=n.filter((function(e){return!Nt(e,t)}))},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Ne=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).serializer=e,r.Be=n,r}return i.__extends(e,t),e}(Ee);function Re(t){return Ut(t.integerValue||t.doubleValue)}function Pe(t){return qt(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var De=function(){function t(t){this.fields=t,t.sort(U.P)}return t.prototype.Ke=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].D(t))return!0;return!1},t.prototype.isEqual=function(t){return E(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),Le=function(t,e){this.field=t,this.transform=e},Ve=function(t,e){this.version=t,this.transformResults=e},Ue=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.We=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"Ue",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Me(t,e){return void 0!==t.updateTime?e instanceof rn&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof rn}var je=function(){};function Fe(t,e,n){return t instanceof Ge?function(t,e,n){return new rn(t.key,n.version,t.value,{hasCommittedMutations:!0})}(t,0,n):t instanceof We?function(t,e,n){if(!Me(t.Qe,e))return new sn(t.key,n.version);var r=$e(t,e);return new rn(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof Ke?function(t,e,n){if(m(null!=n.transformResults),!Me(t.Qe,e))return new sn(t.key,n.version);var r=Xe(0,e),i=function(t,e,n){var r=[];m(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,a=null;e instanceof rn&&(a=e.field(o.field)),r.push(Te(s,a,n[i]))}return r}(t.fieldTransforms,e,n.transformResults),o=n.version,s=Ze(t,r.data(),i);return new rn(t.key,o,s,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new on(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function qe(t,e,n,r){return t instanceof Ge?function(t,e){if(!Me(t.Qe,e))return e;var n=ze(e);return new rn(t.key,n,t.value,{Ge:!0})}(t,e):t instanceof We?function(t,e){if(!Me(t.Qe,e))return e;var n=ze(e),r=$e(t,e);return new rn(t.key,n,r,{Ge:!0})}(t,e):t instanceof Ke?function(t,e,n,r){if(!Me(t.Qe,e))return e;var i=Xe(0,e),o=function(t,e,n,r){for(var i=[],o=0,s=t;o<s.length;o++){var a=s[o],u=a.transform,c=null;n instanceof rn&&(c=n.field(a.field)),null===c&&r instanceof rn&&(c=r.field(a.field)),i.push(Ie(u,c,e))}return i}(t.fieldTransforms,n,e,r),s=Ze(t,i.data(),o);return new rn(t.key,i.version,s,{Ge:!0})}(t,e,r,n):function(t,e){return Me(t.Qe,e)?new on(t.key,P.min()):e}(t,e)}function He(t,e){return t instanceof Ke?function(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],s=e instanceof rn?e.field(o.field):void 0,a=Se(o.transform,s||null);null!=a&&(n=null==n?(new tn).set(o.field,a):n.set(o.field,a))}return n?n.ze():null}(t,e):null}function Be(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.Qe.isEqual(e.Qe)&&(0===t.type?t.value.isEqual(e.value):1===t.type?t.data.isEqual(e.data)&&t.qe.isEqual(e.qe):2!==t.type||E(t.fieldTransforms,t.fieldTransforms,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Ce&&e instanceof Ce||t instanceof xe&&e instanceof xe?E(t.elements,e.elements,Nt):t instanceof Ne&&e instanceof Ne?Nt(t.Be,e.Be):t instanceof Ae&&e instanceof Ae}(t.transform,e.transform)}(t,e)})))}function ze(t){return t instanceof rn?t.version:P.min()}var Ge=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).key=e,i.value=n,i.Qe=r,i.type=0,i}return i.__extends(e,t),e}(je),We=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this)||this).key=e,o.data=n,o.qe=r,o.Qe=i,o.type=1,o}return i.__extends(e,t),e}(je);function $e(t,e){return function(t,e){var n=new tn(e);return t.qe.fields.forEach((function(e){if(!e._()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}})),n.ze()}(t,e instanceof rn?e.data():Qe.empty())}var Ke=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.fieldTransforms=n,r.type=2,r.Qe=Ue.exists(!0),r}return i.__extends(e,t),e}(je);function Xe(t,e){return e}function Ze(t,e,n){for(var r=new tn(e),i=0;i<t.fieldTransforms.length;i++)r.set(t.fieldTransforms[i].field,n[i]);return r.ze()}var Ye=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Qe=n,r.type=3,r}return i.__extends(e,t),e}(je),Je=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Qe=n,r.type=4,r}return i.__extends(e,t),e}(je),Qe=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t._())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!zt(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.S()])||null},t.prototype.isEqual=function(t){return Nt(this.proto,t.proto)},t}(),tn=function(){function t(t){void 0===t&&(t=Qe.empty()),this.He=t,this.Ye=new Map}return t.prototype.set=function(t,e){return this.Je(t,e),this},t.prototype.delete=function(t){return this.Je(t,null),this},t.prototype.Je=function(t,e){for(var n=this.Ye,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===Ot(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.S(),e)},t.prototype.ze=function(){var t=this.Xe(U.$(),this.Ye);return null!=t?new Qe(t):this.He},t.prototype.Xe=function(t,e){var n=this,r=!1,i=this.He.field(t),o=zt(i)?Object.assign({},i.mapValue.fields):{};return e.forEach((function(e,i){if(e instanceof Map){var s=n.Xe(t.child(i),e);null!=s&&(o[i]=s,r=!0)}else null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)})),r?{mapValue:{fields:o}}:null},t}();function en(t){var e=[];return C(t.fields||{},(function(t,n){var r=new U([t]);if(zt(n)){var i=en(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++)e.push(r.child(s[o]))}else e.push(r)})),new De(e)}var nn=function(t,e){this.key=t,this.version=e},rn=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).Ze=r,o.Ge=!!i.Ge,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return i.__extends(e,t),e.prototype.field=function(t){return this.Ze.field(t)},e.prototype.data=function(){return this.Ze},e.prototype.tn=function(){return this.Ze.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.Ge===t.Ge&&this.hasCommittedMutations===t.hasCommittedMutations&&this.Ze.isEqual(t.Ze)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.Ze.toString()+", {hasLocalMutations: "+this.Ge+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.Ge||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(nn),on=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return i.__extends(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(nn),sn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(nn);function an(t,e){if(!(t instanceof e))throw new N(O.INVALID_ARGUMENT,e.name===t.constructor.name?"Type does not match the expected instance. Did you pass '"+e.name+"' from a different Firestore SDK?":"Expected type '"+e.name+"', but was '"+t.constructor.name+"'");return t}var un=function(){function t(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.en=n,this.filters=r,this.limit=i,this.nn=o,this.startAt=s,this.endAt=a,this.sn=null,this.rn=null}return t.prototype.on=function(e){return new t(e,null,this.en.slice(),this.filters.slice(),this.limit,this.nn,this.startAt,this.endAt)},t.prototype.hn=function(){return 0===this.filters.length&&null===this.limit&&null==this.startAt&&null==this.endAt&&(0===this.en.length||1===this.en.length&&this.en[0].field.M())},t.prototype.an=function(){return!j(this.limit)&&"F"===this.nn},t.prototype.cn=function(){return!j(this.limit)&&"L"===this.nn},t.prototype.un=function(){return this.en.length>0?this.en[0].field:null},t.prototype.ln=function(){for(var t=0,e=this.filters;t<e.length;t++){var n=e[t];if(n._n())return n.field}return null},t.prototype.fn=function(t){for(var e=0,n=this.filters;e<n.length;e++){var r=n[e];if(t.indexOf(r.op)>=0)return r.op}return null},t}();function cn(t,e,n,r,i,o,s,a){return new un(t,e,n,r,i,o,s,a)}function ln(t){return new un(t)}function hn(t){return null!==t.collectionGroup}function fn(t){var e=an(t,un);if(null===e.sn){e.sn=[];var n=e.ln(),r=e.un();if(null!==n&&null===r)n.M()||e.sn.push(new Ln(n)),e.sn.push(new Ln(U.L(),"asc"));else{for(var i=!1,o=0,s=e.en;o<s.length;o++){var a=s[o];e.sn.push(a),a.field.M()&&(i=!0)}if(!i){var u=e.en.length>0?e.en[e.en.length-1].dir:"asc";e.sn.push(new Ln(U.L(),u))}}}return e.sn}function dn(t){var e=an(t,un);if(!e.rn)if("F"===e.nn)e.rn=B(e.path,e.collectionGroup,fn(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=fn(e);r<i.length;r++){var o=i[r];n.push(new Ln(o.field,"desc"===o.dir?"asc":"desc"))}var s=e.endAt?new Nn(e.endAt.position,!e.endAt.before):null,a=e.startAt?new Nn(e.startAt.position,!e.startAt.before):null;e.rn=B(e.path,e.collectionGroup,n,e.filters,e.limit,s,a)}return e.rn}function pn(t,e,n){return new un(t.path,t.collectionGroup,t.en.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function gn(t,e){return new un(t.path,t.collectionGroup,t.en.slice(),t.filters.slice(),t.limit,t.nn,e,t.endAt)}function vn(t,e){return new un(t.path,t.collectionGroup,t.en.slice(),t.filters.slice(),t.limit,t.nn,t.startAt,e)}function mn(t,e){return G(dn(t),dn(e))&&t.nn===e.nn}function yn(t){return z(dn(t))+"|lt:"+t.nn}function bn(t){return"Query(target="+function(t){var e=t.path.F();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.F()+" "+e.op+" "+Lt(e.value);var e})).join(", ")+"]"),j(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return(e=t).field.F()+" ("+e.dir+")";var e})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Rn(t.startAt)),t.endAt&&(e+=", endAt: "+Rn(t.endAt)),"Target("+e+")"}(dn(t))+"; limitType="+t.nn+")"}function wn(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.W(t.collectionGroup)&&t.path.D(n):M.j(t.path)?t.path.isEqual(n):t.path.C(n)}(t,e)&&function(t,e){for(var n=0,r=t.en;n<r.length;n++){var i=r[n];if(!i.field.M()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Pn(t.startAt,fn(t),e)||t.endAt&&Pn(t.endAt,fn(t),e))}(t,e)}function _n(t){return function(e,n){for(var r=!1,i=0,o=fn(t);i<o.length;i++){var s=o[i],a=Vn(s,e,n);if(0!==a)return a;r=r||s.field.M()}return 0}}var En=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return i.__extends(e,t),e.create=function(t,n,r){if(t.M())return"in"===n||"not-in"===n?this.dn(t,n,r):new In(t,n,r);if(Ht(r)){if("=="!==n&&"!="!==n)throw new N(O.INVALID_ARGUMENT,"Invalid query. Null supports only equality comparisons.");return new e(t,n,r)}if(Bt(r)){if("=="!==n&&"!="!==n)throw new N(O.INVALID_ARGUMENT,"Invalid query. NaN supports only equality comparisons.");return new e(t,n,r)}return"array-contains"===n?new Cn(t,r):"in"===n?new kn(t,r):"not-in"===n?new xn(t,r):"array-contains-any"===n?new On(t,r):new e(t,n,r)},e.dn=function(t,e,n){return"in"===e?new Tn(t,n):new Sn(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.wn(Pt(e,this.value)):null!==e&&Ot(this.value)===Ot(e)&&this.wn(Pt(e,this.value))},e.prototype.wn=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return v()}},e.prototype._n=function(){return["<","<=",">",">=","!="].indexOf(this.op)>=0},e}((function(){})),In=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=M.U(r.referenceValue),i}return i.__extends(e,t),e.prototype.matches=function(t){var e=M.P(t.key,this.key);return this.wn(e)},e}(En),Tn=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=An(0,n),r}return i.__extends(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(En),Sn=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=An(0,n),r}return i.__extends(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(En);function An(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return M.U(t.referenceValue)}))}var Cn=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return i.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return qt(e)&&Rt(e.arrayValue,this.value)},e}(En),kn=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return i.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&Rt(this.value.arrayValue,e)},e}(En),xn=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return i.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&!Rt(this.value.arrayValue,e)},e}(En),On=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return i.__extends(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!qt(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return Rt(e.value.arrayValue,t)}))},e}(En),Nn=function(t,e){this.position=t,this.before=e};function Rn(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return Lt(t)})).join(",")}function Pn(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.M()?M.P(M.U(s.referenceValue),n.key):Pt(s,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Dn(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Nt(t.position[n],e.position[n]))return!1;return!0}var Ln=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Vn(t,e,n){var r=t.field.M()?M.P(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?Pt(r,i):v()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return v()}}function Un(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Mn=function(){function t(t,e,n,r){this.batchId=t,this.Tn=e,this.baseMutations=n,this.mutations=r}return t.prototype.En=function(t,e,n){for(var r=n.mn,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=Fe(o,e,r[i]))}return e},t.prototype.In=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++){var i=r[n];i.key.isEqual(t)&&(e=qe(i,e,e,this.Tn))}for(var o=e,s=0,a=this.mutations;s<a.length;s++){var u=a[s];u.key.isEqual(t)&&(e=qe(u,e,o,this.Tn))}return e},t.prototype.An=function(t){var e=this,n=t;return this.mutations.forEach((function(r){var i=e.In(r.key,t.get(r.key));i&&(n=n.st(r.key,i))})),n},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),ft())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&E(this.mutations,t.mutations,(function(t,e){return Be(t,e)}))&&E(this.baseMutations,t.baseMutations,(function(t,e){return Be(t,e)}))},t}(),jn=function(){function t(t,e,n,r){this.batch=t,this.Rn=e,this.mn=n,this.Pn=r}return t.from=function(e,n,r){m(e.mutations.length===r.length);for(var i=lt,o=e.mutations,s=0;s<o.length;s++)i=i.st(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),Fn=function(){function t(t){var e=this;this.gn=null,this.Vn=null,this.result=void 0,this.error=void 0,this.yn=!1,this.pn=!1,t((function(t){e.yn=!0,e.result=t,e.gn&&e.gn(t)}),(function(t){e.yn=!0,e.error=t,e.Vn&&e.Vn(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.pn&&v(),this.pn=!0,this.yn?this.error?this.bn(n,this.error):this.vn(e,this.result):new t((function(t,i){r.gn=function(n){r.vn(e,n).next(t,i)},r.Vn=function(e){r.bn(n,e).next(t,i)}}))},t.prototype.Sn=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.Dn=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.vn=function(e,n){return e?this.Dn((function(){return e(n)})):t.resolve(n)},t.prototype.bn=function(e,n){return e?this.Dn((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.Cn=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.Nn=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.Cn(r)},t}(),qn=function(){function t(){this.Fn=new x((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.kn=!1}return Object.defineProperty(t.prototype,"readTime",{get:function(){return this.$n},set:function(t){this.$n=t},enumerable:!1,configurable:!0}),t.prototype.xn=function(t,e){this.On(),this.readTime=e,this.Fn.set(t.key,t)},t.prototype.Mn=function(t,e){this.On(),e&&(this.readTime=e),this.Fn.set(t,null)},t.prototype.Ln=function(t,e){this.On();var n=this.Fn.get(e);return void 0!==n?Fn.resolve(n):this.qn(t,e)},t.prototype.getEntries=function(t,e){return this.Bn(t,e)},t.prototype.apply=function(t){return this.On(),this.kn=!0,this.Un(t)},t.prototype.On=function(){},t}(),Hn="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Bn=function(){function t(){this.Qn=[]}return t.prototype.Wn=function(t){this.Qn.push(t)},t.prototype.jn=function(){this.Qn.forEach((function(t){return t()}))},t}(),zn=function(){function t(t,e,n){this.Kn=t,this.Gn=e,this.zn=n}return t.prototype.Hn=function(t,e){var n=this;return this.Gn.Yn(t,e).next((function(r){return n.Jn(t,e,r)}))},t.prototype.Jn=function(t,e,n){return this.Kn.Ln(t,e).next((function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].In(e,t);return t}))},t.prototype.Xn=function(t,e,n){var r=at();return e.forEach((function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].In(t,e);r=r.st(t,e)})),r},t.prototype.Zn=function(t,e){var n=this;return this.Kn.getEntries(t,e).next((function(e){return n.ts(t,e)}))},t.prototype.ts=function(t,e){var n=this;return this.Gn.es(t,e).next((function(r){var i=n.Xn(t,e,r),o=st();return i.forEach((function(t,e){e||(e=new on(t,P.min())),o=o.st(t,e)})),o}))},t.prototype.ns=function(t,e,n){return function(t){return M.j(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.ss(t,e.path):hn(e)?this.rs(t,e,n):this.os(t,e,n)},t.prototype.ss=function(t,e){return this.Hn(t,new M(e)).next((function(t){var e=ct();return t instanceof rn&&(e=e.st(t.key,t)),e}))},t.prototype.rs=function(t,e,n){var r=this,i=e.collectionGroup,o=ct();return this.zn.hs(t,i).next((function(s){return Fn.forEach(s,(function(s){var a=e.on(s.child(i));return r.os(t,a,n).next((function(t){t.forEach((function(t,e){o=o.st(t,e)}))}))})).next((function(){return o}))}))},t.prototype.os=function(t,e,n){var r,i,o=this;return this.Kn.ns(t,e,n).next((function(n){return r=n,o.Gn.as(t,e)})).next((function(e){return o.cs(t,i=e,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var u=a[s],c=u.key,l=r.get(c),h=qe(u,l,l,o.Tn);r=h instanceof rn?r.st(c,h):r.remove(c)}}))})).next((function(){return r.forEach((function(t,n){wn(e,n)||(r=r.remove(t))})),r}))},t.prototype.cs=function(t,e,n){for(var r=ft(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof We&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Kn.getEntries(t,r).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof rn&&(c=c.st(t,e))})),c}))},t}(),Gn=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.us=n,this.ls=r}return t._s=function(e,n){for(var r=ft(),i=ft(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),Wn=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.fs=function(t){return n.ds(t)},this.ws=function(t){return e.Ts(t)})}return t.prototype.ds=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.ws&&this.ws(t),t},t}();Wn.Es=-1;var $n=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},Kn=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.ms=t,this.Is=e,this.As=n,this.Rs=r,this.Ps=i,this.gs=0,this.Vs=null,this.ys=Date.now(),this.reset()}return t.prototype.reset=function(){this.gs=0},t.prototype.ps=function(){this.gs=this.Ps},t.prototype.bs=function(t){var e=this;this.cancel();var n=Math.floor(this.gs+this.vs()),r=Math.max(0,Date.now()-this.ys),i=Math.max(0,n-r);i>0&&f("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.gs+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Vs=this.ms.Ss(this.Is,i,(function(){return e.ys=Date.now(),t()})),this.gs*=this.Rs,this.gs<this.As&&(this.gs=this.As),this.gs>this.Ps&&(this.gs=this.Ps)},t.prototype.Ds=function(){null!==this.Vs&&(this.Vs.Cs(),this.Vs=null)},t.prototype.cancel=function(){null!==this.Vs&&(this.Vs.cancel(),this.Vs=null)},t.prototype.vs=function(){return(Math.random()-.5)*this.gs},t}(),Xn=function(){function t(e,n,r){this.name=e,this.version=n,this.Ns=r,12.2===t.Fs(a.getUA())&&d("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return f("SimpleDb","Removing database:",t),er(window.indexedDB.deleteDatabase(t)).Sn()},t.ks=function(){if("undefined"==typeof indexedDB)return!1;if(t.$s())return!0;var e=a.getUA(),n=t.Fs(e),r=0<n&&n<10,i=t.xs(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.$s=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Os)},t.Ms=function(t,e){return t.store(e)},t.Fs=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.xs=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Ls=function(){return i.__awaiter(this,void 0,void 0,(function(){var t,e=this;return i.__generator(this,(function(n){switch(n.label){case 0:return this.db?[3,2]:(f("SimpleDb","Opening database:",this.name),t=this,[4,new Promise((function(t,n){var r=indexedDB.open(e.name,e.version);r.onsuccess=function(e){t(e.target.result)},r.onblocked=function(){n(new Yn("Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=function(t){var e=t.target.error;n("VersionError"===e.name?new N(O.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Yn(e))},r.onupgradeneeded=function(t){f("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',t.oldVersion),e.Ns.createOrUpgrade(t.target.result,r.transaction,t.oldVersion,e.version).next((function(){f("SimpleDb","Database upgrade to version "+e.version+" complete")}))}}))]);case 1:t.db=n.sent(),n.label=2;case 2:return[2,(this.qs&&(this.db.onversionchange=function(t){return e.qs(t)}),this.db)]}}))}))},t.prototype.Bs=function(t){this.qs=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n){return i.__awaiter(this,void 0,void 0,(function(){var r,o,s,a,u;return i.__generator(this,(function(c){switch(c.label){case 0:r="readonly"===t,o=0,s=function(){var t,s,u,c,l;return i.__generator(this,(function(i){switch(i.label){case 0:++o,i.label=1;case 1:return i.trys.push([1,4,,5]),[4,a.Ls()];case 2:return a.db=i.sent(),t=Qn.open(a.db,r?"readonly":"readwrite",e),s=n(t).catch((function(e){return t.abort(e),Fn.reject(e)})).Sn(),u={},s.catch((function(){})),[4,t.Us];case 3:return[2,(u.value=(i.sent(),s),u)];case 4:return f("SimpleDb","Transaction failed with error: %s. Retrying: %s.",(c=i.sent()).message,l="FirebaseError"!==c.name&&o<3),a.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},a=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),Zn=function(){function t(t){this.Qs=t,this.Ws=!1,this.js=null}return Object.defineProperty(t.prototype,"yn",{get:function(){return this.Ws},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Ks",{get:function(){return this.js},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Qs=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Ws=!0},t.prototype.Gs=function(t){this.js=t},t.prototype.delete=function(){return er(this.Qs.delete())},t}(),Yn=function(t){function e(e){var n=this;return(n=t.call(this,O.UNAVAILABLE,"IndexedDB transaction failed: "+e)||this).name="IndexedDbTransactionError",n}return i.__extends(e,t),e}(N);function Jn(t){return"IndexedDbTransactionError"===t.name}var Qn=function(){function t(t){var e=this;this.transaction=t,this.aborted=!1,this.zs=new $n,this.transaction.oncomplete=function(){e.zs.resolve()},this.transaction.onabort=function(){t.error?e.zs.reject(new Yn(t.error)):e.zs.resolve()},this.transaction.onerror=function(t){var n=rr(t.target.error);e.zs.reject(new Yn(n))}}return t.open=function(e,n,r){try{return new t(e.transaction(r,n))}catch(e){throw new Yn(e)}},Object.defineProperty(t.prototype,"Us",{get:function(){return this.zs.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.zs.reject(t),this.aborted||(f("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new tr(e)},t}(),tr=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(f("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(f("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),er(n)},t.prototype.add=function(t){return f("SimpleDb","ADD",this.store.name,t,t),er(this.store.add(t))},t.prototype.get=function(t){var e=this;return er(this.store.get(t)).next((function(n){return void 0===n&&(n=null),f("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return f("SimpleDb","DELETE",this.store.name,t),er(this.store.delete(t))},t.prototype.count=function(){return f("SimpleDb","COUNT",this.store.name),er(this.store.count())},t.prototype.Hs=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.Ys(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.Js=function(t,e){f("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.Xs=!1;var r=this.cursor(n);return this.Ys(r,(function(t,e,n){return n.delete()}))},t.prototype.Zs=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.Ys(r,e)},t.prototype.ti=function(t){var e=this.cursor({});return new Fn((function(n,r){e.onerror=function(t){var e=rr(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.Ys=function(t,e){var n=[];return new Fn((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new Zn(i),s=e(i.primaryKey,i.value,o);if(s instanceof Fn){var a=s.catch((function(t){return o.done(),Fn.reject(t)}));n.push(a)}o.yn?r():null===o.Ks?i.continue():i.continue(o.Ks)}else r()}})).next((function(){return Fn.Cn(n)}))},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.Xs?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function er(t){return new Fn((function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=rr(t.target.error);n(e)}}))}var nr=!1;function rr(t){var e=Xn.Fs(a.getUA());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new N("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return nr||(nr=!0,setTimeout((function(){throw r}),0)),r}}return t}function ir(){return"undefined"!=typeof window?window:null}function or(){return"undefined"!=typeof document?document:null}var sr=function(){function t(t,e,n,r,i){this.ei=t,this.Is=e,this.ni=n,this.op=r,this.si=i,this.ii=new $n,this.then=this.ii.promise.then.bind(this.ii.promise),this.ii.promise.catch((function(t){}))}return t.ri=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.oi=setTimeout((function(){return e.hi()}),t)},t.prototype.Cs=function(){return this.hi()},t.prototype.cancel=function(t){null!==this.oi&&(this.clearTimeout(),this.ii.reject(new N(O.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.hi=function(){var t=this;this.ei.ai((function(){return null!==t.oi?(t.clearTimeout(),t.op().then((function(e){return t.ii.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.oi&&(this.si(this),clearTimeout(this.oi),this.oi=null)},t}(),ar=function(){function t(){var t=this;this.ci=Promise.resolve(),this.ui=[],this.li=!1,this._i=[],this.fi=null,this.di=!1,this.wi=[],this.Ti=new Kn(this,"async_queue_retry"),this.Ei=function(){var e=or();e&&f("AsyncQueue","Visibility state changed to  ",e.visibilityState),t.Ti.Ds()};var e=or();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ei)}return Object.defineProperty(t.prototype,"mi",{get:function(){return this.li},enumerable:!1,configurable:!0}),t.prototype.ai=function(t){this.enqueue(t)},t.prototype.Ii=function(t){this.Ai(),this.Ri(t)},t.prototype.Pi=function(){if(!this.li){this.li=!0;var t=or();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ei)}},t.prototype.enqueue=function(t){return this.Ai(),this.li?new Promise((function(t){})):this.Ri(t)},t.prototype.gi=function(t){var e=this;this.ui.push(t),this.ai((function(){return e.Vi()}))},t.prototype.Vi=function(){return i.__awaiter(this,void 0,void 0,(function(){var t,e=this;return i.__generator(this,(function(n){switch(n.label){case 0:if(0===this.ui.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.ui[0]()];case 2:return n.sent(),this.ui.shift(),this.Ti.reset(),[3,4];case 3:if(!Jn(t=n.sent()))throw t;return f("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.ui.length>0&&this.Ti.bs((function(){return e.Vi()})),n.label=5;case 5:return[2]}}))}))},t.prototype.Ri=function(t){var e=this,n=this.ci.then((function(){return e.di=!0,t().catch((function(t){throw e.fi=t,e.di=!1,d("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.di=!1,t}))}));return this.ci=n,n},t.prototype.Ss=function(t,e,n){var r=this;this.Ai(),this.wi.indexOf(t)>-1&&(e=0);var i=sr.ri(this,t,e,n,(function(t){return r.yi(t)}));return this._i.push(i),i},t.prototype.Ai=function(){this.fi&&v()},t.prototype.pi=function(){},t.prototype.bi=function(){return i.__awaiter(this,void 0,void 0,(function(){var t;return i.__generator(this,(function(e){switch(e.label){case 0:return[4,t=this.ci];case 1:e.sent(),e.label=2;case 2:if(t!==this.ci)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.vi=function(t){for(var e=0,n=this._i;e<n.length;e++)if(n[e].Is===t)return!0;return!1},t.prototype.Si=function(t){var e=this;return this.bi().then((function(){e._i.sort((function(t,e){return t.ni-e.ni}));for(var n=0,r=e._i;n<r.length;n++){var i=r[n];if(i.Cs(),"all"!==t&&i.Is===t)break}return e.bi()}))},t.prototype.Di=function(t){this.wi.push(t)},t.prototype.yi=function(t){var e=this._i.indexOf(t);this._i.splice(e,1)},t}();function ur(t,e){if(d("AsyncQueue",e+": "+t),Jn(t))return new N(O.UNAVAILABLE,e+": "+t);throw t}function cr(t,e){var n=t[1],r=e[1],i=_(t[0],e[0]);return 0===i?_(n,r):i}var lr=function(){function t(t){this.Ci=t,this.buffer=new rt(cr),this.Ni=0}return t.prototype.Fi=function(){return++this.Ni},t.prototype.ki=function(t){var e=[t,this.Fi()];if(this.buffer.size<this.Ci)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();cr(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),hr={$i:!1,xi:0,Oi:0,Mi:0},fr=function(){function t(t,e,n){this.Li=t,this.qi=e,this.Bi=n}return t.Ui=function(e){return new t(e,t.Qi,t.Wi)},t}();fr.ji=-1,fr.Ki=1048576,fr.Gi=41943040,fr.Qi=10,fr.Wi=1e3,fr.zi=new fr(fr.Gi,fr.Qi,fr.Wi),fr.Hi=new fr(fr.ji,0,0);var dr=function(){function t(t,e){this.Yi=t,this.ei=e,this.Ji=!1,this.Xi=null}return t.prototype.start=function(t){this.Yi.params.Li!==fr.ji&&this.Zi(t)},t.prototype.stop=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},Object.defineProperty(t.prototype,"tr",{get:function(){return null!==this.Xi},enumerable:!1,configurable:!0}),t.prototype.Zi=function(t){var e=this,n=this.Ji?3e5:6e4;f("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.Xi=this.ei.Ss("lru_garbage_collection",n,(function(){return i.__awaiter(e,void 0,void 0,(function(){var e;return i.__generator(this,(function(n){switch(n.label){case 0:this.Xi=null,this.Ji=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.er(this.Yi)];case 2:return n.sent(),[3,7];case 3:return Jn(e=n.sent())?(f("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,xi(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.Zi(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),pr=function(){function t(t,e){this.nr=t,this.params=e}return t.prototype.sr=function(t,e){return this.nr.ir(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.rr=function(t,e){var n=this;if(0===e)return Fn.resolve(Wn.Es);var r=new lr(e);return this.nr.be(t,(function(t){return r.ki(t.sequenceNumber)})).next((function(){return n.nr.or(t,(function(t){return r.ki(t)}))})).next((function(){return r.maxValue}))},t.prototype.hr=function(t,e,n){return this.nr.hr(t,e,n)},t.prototype.ar=function(t,e){return this.nr.ar(t,e)},t.prototype.cr=function(t,e){var n=this;return this.params.Li===fr.ji?(f("LruGarbageCollector","Garbage collection skipped; disabled"),Fn.resolve(hr)):this.ur(t).next((function(r){return r<n.params.Li?(f("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.Li),hr):n.lr(t,e)}))},t.prototype.ur=function(t){return this.nr.ur(t)},t.prototype.lr=function(t,e){var n,r,i,o,a,u,c,l=this,d=Date.now();return this.sr(t,this.params.qi).next((function(e){return e>l.params.Bi?(f("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+l.params.Bi+" from "+e),r=l.params.Bi):r=e,o=Date.now(),l.rr(t,r)})).next((function(r){return n=r,a=Date.now(),l.hr(t,n,e)})).next((function(e){return i=e,u=Date.now(),l.ar(t,n)})).next((function(t){return c=Date.now(),h()<=s.LogLevel.DEBUG&&f("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-d)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(u-a)+"ms\n\tRemoved "+t+" documents in "+(c-u)+"ms\nTotal Duration: "+(c-d)+"ms"),Fn.resolve({$i:!0,xi:r,Oi:i,Mi:t})}))},t}();function gr(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=mr(e)),e=vr(t.get(n),e);return mr(e)}function vr(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function mr(t){return t+"\x01\x01"}function yr(t){var e=t.length;if(m(e>=2),2===e)return m("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),L.$();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||s>n)&&v(),t.charAt(s+1)){case"\x01":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:v()}o=s+2}return new L(r)}var br=function(t){this._r=t};function wr(t,e){if(e.document)return function(t,e,n){var r=ie(t,e.name),i=te(e.updateTime),o=new Qe({mapValue:{fields:e.fields}});return new rn(r,i,o,{hasCommittedMutations:!!n})}(t._r,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=M.K(e.noDocument.path),r=Sr(e.noDocument.readTime);return new on(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=M.K(e.unknownDocument.path),o=Sr(e.unknownDocument.version);return new sn(i,o)}return v()}function _r(t,e,n){var r=Er(n),i=e.key.path.p().N();if(e instanceof rn){var o=function(t,e){return{name:re(t,e.key),fields:e.tn().mapValue.fields,updateTime:Yt(t,e.version.A())}}(t._r,e);return new Zr(null,null,o,e.hasCommittedMutations,r,i)}if(e instanceof on){var s=e.key.path.N(),a=Tr(e.version),u=e.hasCommittedMutations;return new Zr(null,new Kr(s,a),null,u,r,i)}if(e instanceof sn){var c=e.key.path.N(),l=Tr(e.version);return new Zr(new Xr(c,l),null,null,!0,r,i)}return v()}function Er(t){var e=t.A();return[e.seconds,e.nanoseconds]}function Ir(t){var e=new R(t[0],t[1]);return P.m(e)}function Tr(t){var e=t.A();return new Br(e.seconds,e.nanoseconds)}function Sr(t){var e=new R(t.seconds,t.nanoseconds);return P.m(e)}function Ar(t,e){var n=(e.baseMutations||[]).map((function(e){return he(t._r,e)})),r=e.mutations.map((function(e){return he(t._r,e)})),i=R.fromMillis(e.localWriteTimeMs);return new Mn(e.batchId,i,n,r)}function Cr(t){var e,n,r=Sr(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Sr(t.lastLimboFreeSnapshotVersion):P.min();return void 0!==t.query.documents?(m(1===(n=t.query).documents.length),e=dn(ln(se(n.documents[0])))):e=function(t){var e=se(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){m(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=function t(e){return e?void 0!==e.unaryFilter?[be(e)]:void 0!==e.fieldFilter?[ye(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return t(e)})).reduce((function(t,e){return t.concat(e)})):v():[]}(n.where));var a=[];n.orderBy&&(a=n.orderBy.map((function(t){return new Ln(me((e=t).field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction));var e})));var u=null;n.limit&&(u=function(t){var e;return j(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=ge(n.startAt));var l=null;return n.endAt&&(l=ge(n.endAt)),dn(cn(e,i,a,s,u,"F",c,l))}(t.query),new Z(e,t.targetId,0,t.lastListenSequenceNumber,r,i,$.fromBase64String(t.resumeToken))}function kr(t,e){var n,r=Tr(e.Z),i=Tr(e.lastLimboFreeSnapshotVersion);n=W(e.target)?fe(t._r,e.target):de(t._r,e.target);var o=e.resumeToken.toBase64();return new Jr(e.targetId,z(e.target),r,o,e.sequenceNumber,i,n)}var xr=function(){function t(t,e,n,r){this.userId=t,this.serializer=e,this.zn=n,this.dr=r,this.wr={}}return t.Tr=function(e,n,r,i){return m(""!==e.uid),new t(e.Er()?e.uid:"",n,r,i)},t.prototype.mr=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Rr(t).Zs({index:Wr.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.Ir=function(t,e,n,r){var i=this,o=Pr(t),s=Rr(t);return s.add({}).next((function(a){m("number"==typeof a);for(var u=new Mn(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map((function(e){return le(t._r,e)})),i=n.mutations.map((function(e){return le(t._r,e)}));return new Wr(e,n.batchId,n.Tn.toMillis(),r,i)}(i.serializer,i.userId,u),l=[],h=new rt((function(t,e){return _(t.F(),e.F())})),f=0,d=r;f<d.length;f++){var p=d[f],g=$r.key(i.userId,p.key.path,a);h=h.add(p.key.path.p()),l.push(s.put(c)),l.push(o.put(g,$r.PLACEHOLDER))}return h.forEach((function(e){l.push(i.zn.Ar(t,e))})),t.Wn((function(){i.wr[a]=u.keys()})),Fn.Cn(l).next((function(){return u}))}))},t.prototype.Rr=function(t,e){var n=this;return Rr(t).get(e).next((function(t){return t?(m(t.userId===n.userId),Ar(n.serializer,t)):null}))},t.prototype.Pr=function(t,e){var n=this;return this.wr[e]?Fn.resolve(this.wr[e]):this.Rr(t,e).next((function(t){if(t){var r=t.keys();return n.wr[e]=r,r}return null}))},t.prototype.gr=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Rr(t).Zs({index:Wr.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(m(e.batchId>=r),o=Ar(n.serializer,e)),i.done()})).next((function(){return o}))},t.prototype.Vr=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Rr(t).Zs({index:Wr.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.yr=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Rr(t).Hs(Wr.userMutationsIndex,n).next((function(t){return t.map((function(t){return Ar(e.serializer,t)}))}))},t.prototype.Yn=function(t,e){var n=this,r=$r.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return Pr(t).Zs({range:i},(function(r,i,s){var a=r[0],u=r[2],c=yr(r[1]);if(a===n.userId&&e.path.isEqual(c))return Rr(t).get(u).next((function(t){if(!t)throw v();m(t.userId===n.userId),o.push(Ar(n.serializer,t))}));s.done()})).next((function(){return o}))},t.prototype.es=function(t,e){var n=this,r=new rt(_),i=[];return e.forEach((function(e){var o=$r.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=Pr(t).Zs({range:s},(function(t,i,o){var s=t[0],a=t[2],u=yr(t[1]);s===n.userId&&e.path.isEqual(u)?r=r.add(a):o.done()}));i.push(a)})),Fn.Cn(i).next((function(){return n.pr(t,r)}))},t.prototype.as=function(t,e){var n=this,r=e.path,i=r.length+1,o=$r.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new rt(_);return Pr(t).Zs({range:s},(function(t,e,o){var s=t[0],u=t[2],c=yr(t[1]);s===n.userId&&r.D(c)?c.length===i&&(a=a.add(u)):o.done()})).next((function(){return n.pr(t,a)}))},t.prototype.pr=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(Rr(t).get(e).next((function(t){if(null===t)throw v();m(t.userId===n.userId),r.push(Ar(n.serializer,t))})))})),Fn.Cn(i).next((function(){return r}))},t.prototype.br=function(t,e){var n=this;return Nr(t.vr,this.userId,e).next((function(r){return t.Wn((function(){n.Sr(e.batchId)})),Fn.forEach(r,(function(e){return n.dr.Dr(t,e)}))}))},t.prototype.Sr=function(t){delete this.wr[t]},t.prototype.Cr=function(t){var e=this;return this.mr(t).next((function(n){if(!n)return Fn.resolve();var r=IDBKeyRange.lowerBound($r.prefixForUser(e.userId)),i=[];return Pr(t).Zs({range:r},(function(t,n,r){if(t[0]===e.userId){var o=yr(t[1]);i.push(o)}else r.done()})).next((function(){m(0===i.length)}))}))},t.prototype.Nr=function(t,e){return Or(t,this.userId,e)},t.prototype.Fr=function(t){var e=this;return Dr(t).get(this.userId).next((function(t){return t||new Gr(e.userId,-1,"")}))},t}();function Or(t,e,n){var r=$r.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return Pr(t).Zs({range:o,Xs:!0},(function(t,n,r){t[0]===e&&t[1]===i&&(s=!0),r.done()})).next((function(){return s}))}function Nr(t,e,n){var r=t.store(Wr.store),i=t.store($r.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.Zs({range:s},(function(t,e,n){return a++,n.delete()}));o.push(u.next((function(){m(1===a)})));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=$r.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return Fn.Cn(o).next((function(){return c}))}function Rr(t){return pi.Ms(t,Wr.store)}function Pr(t){return pi.Ms(t,$r.store)}function Dr(t){return pi.Ms(t,Gr.store)}var Lr=function(){function t(t,e){this.serializer=t,this.zn=e}return t.prototype.xn=function(t,e,n){return Ur(t).put(Mr(e),n)},t.prototype.Mn=function(t,e){var n=Ur(t),r=Mr(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.kr(t,r)}))},t.prototype.Ln=function(t,e){var n=this;return Ur(t).get(Mr(e)).next((function(t){return n.$r(t)}))},t.prototype.xr=function(t,e){var n=this;return Ur(t).get(Mr(e)).next((function(t){var e=n.$r(t);return e?{Or:e,size:jr(t)}:null}))},t.prototype.getEntries=function(t,e){var n=this,r=at();return this.Mr(t,e,(function(t,e){var i=n.$r(e);r=r.st(t,i)})).next((function(){return r}))},t.prototype.Lr=function(t,e){var n=this,r=at(),i=new tt(M.P);return this.Mr(t,e,(function(t,e){var o=n.$r(e);o?(r=r.st(t,o),i=i.st(t,jr(e))):(r=r.st(t,null),i=i.st(t,0))})).next((function(){return{qr:r,Br:i}}))},t.prototype.Mr=function(t,e,n){if(e._())return Fn.resolve();var r=IDBKeyRange.bound(e.first().path.N(),e.last().path.N()),i=e.ct(),o=i.wt();return Ur(t).Zs({range:r},(function(t,e,r){for(var s=M.K(t);o&&M.P(o,s)<0;)n(o,null),o=i.wt();o&&o.isEqual(s)&&(n(o,e),o=i.Tt()?i.wt():null),o?r.Gs(o.path.N()):r.done()})).next((function(){for(;o;)n(o,null),o=i.Tt()?i.wt():null}))},t.prototype.ns=function(t,e,n){var r=this,i=ct(),o=e.path.length+1,s={};if(n.isEqual(P.min())){var a=e.path.N();s.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.N(),c=Er(n);s.range=IDBKeyRange.lowerBound([u,c],!0),s.index=Zr.collectionReadTimeIndex}return Ur(t).Zs(s,(function(t,n,s){if(t.length===o){var a=wr(r.serializer,n);e.path.D(a.key.path)?a instanceof rn&&wn(e,a)&&(i=i.st(a.key,a)):s.done()}})).next((function(){return i}))},t.prototype.Ur=function(t,e){var n=this,r=st(),i=Er(e),o=Ur(t),s=IDBKeyRange.lowerBound(i,!0);return o.Zs({index:Zr.readTimeIndex,range:s},(function(t,e){var o=wr(n.serializer,e);r=r.st(o.key,o),i=e.readTime})).next((function(){return{Qr:r,readTime:Ir(i)}}))},t.prototype.Wr=function(t){var e=Ur(t),n=P.min();return e.Zs({index:Zr.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=Ir(e.readTime)),r.done()})).next((function(){return n}))},t.prototype.jr=function(e){return new t.Kr(this,!!e&&e.Gr)},t.prototype.zr=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return Vr(t).get(Yr.key).next((function(t){return m(!!t),t}))},t.prototype.kr=function(t,e){return Vr(t).put(Yr.key,e)},t.prototype.$r=function(t){if(t){var e=wr(this.serializer,t);return e instanceof on&&e.version.isEqual(P.min())?null:e}return null},t}();function Vr(t){return pi.Ms(t,Yr.store)}function Ur(t){return pi.Ms(t,Zr.store)}function Mr(t){return t.path.N()}function jr(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw v();e=t.noDocument}return JSON.stringify(e).length}Lr.Kr=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Hr=e,r.Gr=n,r.Yr=new x((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return i.__extends(e,t),e.prototype.Un=function(t){var e=this,n=[],r=0,i=new rt((function(t,e){return _(t.F(),e.F())}));return this.Fn.forEach((function(o,s){var a=e.Yr.get(o);if(s){var u=_r(e.Hr.serializer,s,e.readTime);i=i.add(o.path.p());var c=jr(u);r+=c-a,n.push(e.Hr.xn(t,o,u))}else if(r-=a,e.Gr){var l=_r(e.Hr.serializer,new on(o,P.min()),e.readTime);n.push(e.Hr.xn(t,o,l))}else n.push(e.Hr.Mn(t,o))})),i.forEach((function(r){n.push(e.Hr.zn.Ar(t,r))})),n.push(this.Hr.updateMetadata(t,r)),Fn.Cn(n)},e.prototype.qn=function(t,e){var n=this;return this.Hr.xr(t,e).next((function(t){return null===t?(n.Yr.set(e,0),null):(n.Yr.set(e,t.size),t.Or)}))},e.prototype.Bn=function(t,e){var n=this;return this.Hr.Lr(t,e).next((function(t){var e=t.qr;return t.Br.forEach((function(t,e){n.Yr.set(t,e)})),e}))},e}(qn);var Fr=function(){function t(){this.Jr=new qr}return t.prototype.Ar=function(t,e){return this.Jr.add(e),Fn.resolve()},t.prototype.hs=function(t,e){return Fn.resolve(this.Jr.getEntries(e))},t}(),qr=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.S(),n=t.p(),r=this.index[e]||new rt(L.P),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.S(),n=t.p(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new rt(L.P)).N()},t}(),Hr=function(){function t(t){this.serializer=t}return t.prototype.createOrUpgrade=function(t,e,n,r){var i=this;m(n<r&&n>=0&&r<=10);var o=new Qn(e);n<1&&r>=1&&(function(t){t.createObjectStore(zr.store)}(t),function(t){t.createObjectStore(Gr.store,{keyPath:Gr.keyPath}),t.createObjectStore(Wr.store,{keyPath:Wr.keyPath,autoIncrement:!0}).createIndex(Wr.userMutationsIndex,Wr.userMutationsKeyPath,{unique:!0}),t.createObjectStore($r.store)}(t),ni(t),function(t){t.createObjectStore(Zr.store)}(t));var s=Fn.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Qr.store),t.deleteObjectStore(Jr.store),t.deleteObjectStore(ti.store)}(t),ni(t)),s=s.next((function(){return function(t){var e=t.store(ti.store),n=new ti(0,0,P.min().A(),0);return e.put(ti.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(s=s.next((function(){return function(t,e){return e.store(Wr.store).Hs().next((function(n){t.deleteObjectStore(Wr.store),t.createObjectStore(Wr.store,{keyPath:Wr.keyPath,autoIncrement:!0}).createIndex(Wr.userMutationsIndex,Wr.userMutationsKeyPath,{unique:!0});var r=e.store(Wr.store),i=n.map((function(t){return r.put(t)}));return Fn.Cn(i)}))}(t,o)}))),s=s.next((function(){!function(t){t.createObjectStore(ri.store,{keyPath:ri.keyPath})}(t)}))),n<5&&r>=5&&(s=s.next((function(){return i.removeAcknowledgedMutations(o)}))),n<6&&r>=6&&(s=s.next((function(){return function(t){t.createObjectStore(Yr.store)}(t),i.addDocumentGlobal(o)}))),n<7&&r>=7&&(s=s.next((function(){return i.ensureSequenceNumbers(o)}))),n<8&&r>=8&&(s=s.next((function(){return i.createCollectionParentIndex(t,o)}))),n<9&&r>=9&&(s=s.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Zr.store);e.createIndex(Zr.readTimeIndex,Zr.readTimeIndexPath,{unique:!1}),e.createIndex(Zr.collectionReadTimeIndex,Zr.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(s=s.next((function(){return i.rewriteCanonicalIds(o)}))),s},t.prototype.addDocumentGlobal=function(t){var e=0;return t.store(Zr.store).Zs((function(t,n){e+=jr(n)})).next((function(){var n=new Yr(e);return t.store(Yr.store).put(Yr.key,n)}))},t.prototype.removeAcknowledgedMutations=function(t){var e=this,n=t.store(Gr.store),r=t.store(Wr.store);return n.Hs().next((function(n){return Fn.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Hs(Wr.userMutationsIndex,i).next((function(r){return Fn.forEach(r,(function(r){m(r.userId===n.userId);var i=Ar(e.serializer,r);return Nr(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.ensureSequenceNumbers=function(t){var e=t.store(Qr.store),n=t.store(Zr.store);return t.store(ti.store).get(ti.key).next((function(t){var r=[];return n.Zs((function(n,i){var o=new L(n),s=function(t){return[0,gr(t)]}(o);r.push(e.get(s).next((function(n){return n?Fn.resolve():function(n){return e.put(new Qr(0,gr(n),t.highestListenSequenceNumber))}(o)})))})).next((function(){return Fn.Cn(r)}))}))},t.prototype.createCollectionParentIndex=function(t,e){t.createObjectStore(ei.store,{keyPath:ei.keyPath});var n=e.store(ei.store),r=new qr,i=function(t){if(r.add(t)){var e=t.S(),i=t.p();return n.put({collectionId:e,parent:gr(i)})}};return e.store(Zr.store).Zs({Xs:!0},(function(t,e){var n=new L(t);return i(n.p())})).next((function(){return e.store($r.store).Zs({Xs:!0},(function(t,e){var n=yr(t[1]);return i(n.p())}))}))},t.prototype.rewriteCanonicalIds=function(t){var e=this,n=t.store(Jr.store);return n.Zs((function(t,r){var i=Cr(r),o=kr(e.serializer,i);return n.put(o)}))},t}(),Br=function(t,e){this.seconds=t,this.nanoseconds=e},zr=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};zr.store="owner",zr.key="owner";var Gr=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Gr.store="mutationQueues",Gr.keyPath="userId";var Wr=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Wr.store="mutations",Wr.keyPath="batchId",Wr.userMutationsIndex="userMutationsIndex",Wr.userMutationsKeyPath=["userId","batchId"];var $r=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,gr(e)]},t.key=function(t,e,n){return[t,gr(e),n]},t}();$r.store="documentMutations",$r.PLACEHOLDER=new $r;var Kr=function(t,e){this.path=t,this.readTime=e},Xr=function(t,e){this.path=t,this.version=e},Zr=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Zr.store="remoteDocuments",Zr.readTimeIndex="readTimeIndex",Zr.readTimeIndexPath="readTime",Zr.collectionReadTimeIndex="collectionReadTimeIndex",Zr.collectionReadTimeIndexPath=["parentPath","readTime"];var Yr=function(t){this.byteSize=t};Yr.store="remoteDocumentGlobal",Yr.key="remoteDocumentGlobalKey";var Jr=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};Jr.store="targets",Jr.keyPath="targetId",Jr.queryTargetsIndexName="queryTargetsIndex",Jr.queryTargetsKeyPath=["canonicalId","targetId"];var Qr=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Qr.store="targetDocuments",Qr.keyPath=["targetId","path"],Qr.documentTargetsIndex="documentTargetsIndex",Qr.documentTargetsKeyPath=["path","targetId"];var ti=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};ti.key="targetGlobalKey",ti.store="targetGlobal";var ei=function(t,e){this.collectionId=t,this.parent=e};function ni(t){t.createObjectStore(Qr.store,{keyPath:Qr.keyPath}).createIndex(Qr.documentTargetsIndex,Qr.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Jr.store,{keyPath:Jr.keyPath}).createIndex(Jr.queryTargetsIndexName,Jr.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(ti.store)}ei.store="collectionParents",ei.keyPath=["collectionId","parent"];var ri=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};ri.store="clientMetadata",ri.keyPath="clientId";var ii=i.__spreadArrays(i.__spreadArrays(i.__spreadArrays([Gr.store,Wr.store,$r.store,Zr.store,Jr.store,zr.store,ti.store,Qr.store],[ri.store]),[Yr.store]),[ei.store]),oi=function(){function t(){this.Xr=new qr}return t.prototype.Ar=function(t,e){var n=this;if(!this.Xr.has(e)){var r=e.S(),i=e.p();t.Wn((function(){n.Xr.add(e)}));var o={collectionId:r,parent:gr(i)};return si(t).put(o)}return Fn.resolve()},t.prototype.hs=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[I(e),""],!1,!0);return si(t).Hs(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(yr(o.parent))}return n}))},t}();function si(t){return pi.Ms(t,ei.store)}var ai=function(){function t(t){this.Zr=t}return t.prototype.next=function(){return this.Zr+=2,this.Zr},t.to=function(){return new t(0)},t.eo=function(){return new t(-1)},t}(),ui=function(){function t(t,e){this.dr=t,this.serializer=e}return t.prototype.no=function(t){var e=this;return this.so(t).next((function(n){var r=new ai(n.highestTargetId);return n.highestTargetId=r.next(),e.io(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.ro=function(t){return this.so(t).next((function(t){return P.m(new R(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.oo=function(t){return this.so(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.ho=function(t,e,n){var r=this;return this.so(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.A()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.io(t,i)}))},t.prototype.ao=function(t,e){var n=this;return this.co(t,e).next((function(){return n.so(t).next((function(r){return r.targetCount+=1,n.uo(e,r),n.io(t,r)}))}))},t.prototype.lo=function(t,e){return this.co(t,e)},t.prototype._o=function(t,e){var n=this;return this.fo(t,e.targetId).next((function(){return ci(t).delete(e.targetId)})).next((function(){return n.so(t)})).next((function(e){return m(e.targetCount>0),e.targetCount-=1,n.io(t,e)}))},t.prototype.hr=function(t,e,n){var r=this,i=0,o=[];return ci(t).Zs((function(s,a){var u=Cr(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r._o(t,u)))})).next((function(){return Fn.Cn(o)})).next((function(){return i}))},t.prototype.be=function(t,e){return ci(t).Zs((function(t,n){var r=Cr(n);e(r)}))},t.prototype.so=function(t){return li(t).get(ti.key).next((function(t){return m(null!==t),t}))},t.prototype.io=function(t,e){return li(t).put(ti.key,e)},t.prototype.co=function(t,e){return ci(t).put(kr(this.serializer,e))},t.prototype.uo=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.do=function(t){return this.so(t).next((function(t){return t.targetCount}))},t.prototype.wo=function(t,e){var n=z(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return ci(t).Zs({range:r,index:Jr.queryTargetsIndexName},(function(t,n,r){var o=Cr(n);G(e,o.target)&&(i=o,r.done())})).next((function(){return i}))},t.prototype.To=function(t,e,n){var r=this,i=[],o=hi(t);return e.forEach((function(e){var s=gr(e.path);i.push(o.put(new Qr(n,s))),i.push(r.dr.Eo(t,n,e))})),Fn.Cn(i)},t.prototype.mo=function(t,e,n){var r=this,i=hi(t);return Fn.forEach(e,(function(e){var o=gr(e.path);return Fn.Cn([i.delete([n,o]),r.dr.Io(t,n,e)])}))},t.prototype.fo=function(t,e){var n=hi(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.Ao=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=hi(t),i=ft();return r.Zs({range:n,Xs:!0},(function(t,e,n){var r=yr(t[1]),o=new M(r);i=i.add(o)})).next((function(){return i}))},t.prototype.Nr=function(t,e){var n=gr(e.path),r=IDBKeyRange.bound([n],[I(n)],!1,!0),i=0;return hi(t).Zs({index:Qr.documentTargetsIndex,Xs:!0,range:r},(function(t,e,n){0!==t[0]&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.Me=function(t,e){return ci(t).get(e).next((function(t){return t?Cr(t):null}))},t}();function ci(t){return pi.Ms(t,Jr.store)}function li(t){return pi.Ms(t,ti.store)}function hi(t){return pi.Ms(t,Qr.store)}var fi="Failed to obtain exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",di=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).vr=e,r.Ro=n,r}return i.__extends(e,t),e}(Bn),pi=function(){function t(e,n,r,i,o,s,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.ms=o,this.window=s,this.document=a,this.Po=c,this.Vo=l,this.yo=null,this.po=!1,this.isPrimary=!1,this.networkEnabled=!0,this.bo=null,this.inForeground=!1,this.vo=null,this.So=null,this.Do=Number.NEGATIVE_INFINITY,this.Co=function(t){return Promise.resolve()},!t.ks())throw new N(O.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.dr=new mi(this,i),this.No=n+"main",this.serializer=new br(u),this.Fo=new Xn(this.No,10,new Hr(this.serializer)),this.ko=new ui(this.dr,this.serializer),this.zn=new oi,this.Kn=new Lr(this.serializer,this.zn),this.window&&this.window.localStorage?this.$o=this.window.localStorage:(this.$o=null,!1===l&&d("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.Ms=function(t,e){if(t instanceof di)return Xn.Ms(t.vr,e);throw v()},t.prototype.start=function(){var t=this;return this.xo().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new N(O.FAILED_PRECONDITION,fi);return t.Oo(),t.Mo(),t.Lo(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.ko.oo(e)}))})).then((function(e){t.yo=new Wn(e,t.Po)})).then((function(){t.po=!0})).catch((function(e){return t.Fo&&t.Fo.close(),Promise.reject(e)}))},t.prototype.qo=function(t){var e=this;return this.Co=function(n){return i.__awaiter(e,void 0,void 0,(function(){return i.__generator(this,(function(e){return this.tr?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.Bo=function(t){var e=this;this.Fo.Bs((function(n){return i.__awaiter(e,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.Uo=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.ms.ai((function(){return i.__awaiter(e,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return this.tr?[4,this.xo()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.xo=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return vi(e).put(new ri(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.Qo(e).next((function(e){e||(t.isPrimary=!1,t.ms.gi((function(){return t.Co(!1)})))}))})).next((function(){return t.Wo(e)})).next((function(n){return t.isPrimary&&!n?t.jo(e).next((function(){return!1})):!!n&&t.Ko(e).next((function(){return!0}))}))})).catch((function(e){if(Jn(e))return f("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return f("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.ms.gi((function(){return t.Co(e)})),t.isPrimary=e}))},t.prototype.Qo=function(t){var e=this;return gi(t).get(zr.key).next((function(t){return Fn.resolve(e.Go(t))}))},t.prototype.zo=function(t){return vi(t).delete(this.clientId)},t.prototype.Ho=function(){return i.__awaiter(this,void 0,void 0,(function(){var e,n,r,o=this;return i.__generator(this,(function(i){switch(i.label){case 0:return!this.isPrimary||this.Yo(this.Do,18e5)?[3,2]:(this.Do=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var n=t.Ms(e,ri.store);return n.Hs().next((function(t){var e=o.Jo(t,18e5),r=t.filter((function(t){return-1===e.indexOf(t)}));return Fn.forEach(r,(function(t){return n.delete(t.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(e=i.sent(),this.$o)for(n=0,r=e;n<r.length;n++)this.$o.removeItem(this.Xo(r[n].clientId));i.label=2;case 2:return[2]}}))}))},t.prototype.Lo=function(){var t=this;this.So=this.ms.Ss("client_metadata_refresh",4e3,(function(){return t.xo().then((function(){return t.Ho()})).then((function(){return t.Lo()}))}))},t.prototype.Go=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Wo=function(t){var e=this;return this.Vo?Fn.resolve(!0):gi(t).get(zr.key).next((function(n){if(null!==n&&e.Yo(n.leaseTimestampMs,5e3)&&!e.Zo(n.ownerId)){if(e.Go(n)&&e.networkEnabled)return!0;if(!e.Go(n)){if(!n.allowTabSynchronization)throw new N(O.FAILED_PRECONDITION,fi);return!1}}return!(!e.networkEnabled||!e.inForeground)||vi(t).Hs().next((function(t){return void 0===e.Jo(t,5e3).find((function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))}))}))})).next((function(t){return e.isPrimary!==t&&f("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.th=function(){return i.__awaiter(this,void 0,void 0,(function(){var t=this;return i.__generator(this,(function(e){switch(e.label){case 0:return this.po=!1,this.eh(),this.So&&(this.So.cancel(),this.So=null),this.nh(),this.sh(),[4,this.Fo.runTransaction("readwrite",[zr.store,ri.store],(function(e){var n=new di(e,Wn.Es);return t.jo(n).next((function(){return t.zo(n)}))}))];case 1:return e.sent(),this.Fo.close(),this.ih(),[2]}}))}))},t.prototype.Jo=function(t,e){var n=this;return t.filter((function(t){return n.Yo(t.updateTimeMs,e)&&!n.Zo(t.clientId)}))},t.prototype.rh=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return vi(e).Hs().next((function(e){return t.Jo(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"tr",{get:function(){return this.po},enumerable:!1,configurable:!0}),t.prototype.oh=function(t){return xr.Tr(t,this.serializer,this.zn,this.dr)},t.prototype.hh=function(){return this.ko},t.prototype.ah=function(){return this.Kn},t.prototype.uh=function(){return this.zn},t.prototype.runTransaction=function(t,e,n){var r,i=this;return f("IndexedDbPersistence","Starting transaction:",t),this.Fo.runTransaction("readonly"===e?"readonly":"readwrite",ii,(function(o){return r=new di(o,i.yo?i.yo.next():Wn.Es),"readwrite-primary"===e?i.Qo(r).next((function(t){return!!t||i.Wo(r)})).next((function(e){if(!e)throw d("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.ms.gi((function(){return i.Co(!1)})),new N(O.FAILED_PRECONDITION,Hn);return n(r)})).next((function(t){return i.Ko(r).next((function(){return t}))})):i.lh(r).next((function(){return n(r)}))})).then((function(t){return r.jn(),t}))},t.prototype.lh=function(t){var e=this;return gi(t).get(zr.key).next((function(t){if(null!==t&&e.Yo(t.leaseTimestampMs,5e3)&&!e.Zo(t.ownerId)&&!e.Go(t)&&!(e.Vo||e.allowTabSynchronization&&t.allowTabSynchronization))throw new N(O.FAILED_PRECONDITION,fi)}))},t.prototype.Ko=function(t){var e=new zr(this.clientId,this.allowTabSynchronization,Date.now());return gi(t).put(zr.key,e)},t.ks=function(){return Xn.ks()},t.prototype.jo=function(t){var e=this,n=gi(t);return n.get(zr.key).next((function(t){return e.Go(t)?(f("IndexedDbPersistence","Releasing primary lease."),n.delete(zr.key)):Fn.resolve()}))},t.prototype.Yo=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(d("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.Oo=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.vo=function(){t.ms.ai((function(){return t.inForeground="visible"===t.document.visibilityState,t.xo()}))},this.document.addEventListener("visibilitychange",this.vo),this.inForeground="visible"===this.document.visibilityState)},t.prototype.nh=function(){this.vo&&(this.document.removeEventListener("visibilitychange",this.vo),this.vo=null)},t.prototype.Mo=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.bo=function(){e.eh(),e.ms.ai((function(){return e.th()}))},this.window.addEventListener("unload",this.bo))},t.prototype.sh=function(){this.bo&&(this.window.removeEventListener("unload",this.bo),this.bo=null)},t.prototype.Zo=function(t){var e;try{var n=null!==(null===(e=this.$o)||void 0===e?void 0:e.getItem(this.Xo(t)));return f("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return d("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.eh=function(){if(this.$o)try{this.$o.setItem(this.Xo(this.clientId),String(Date.now()))}catch(t){d("Failed to set zombie client id.",t)}},t.prototype.ih=function(){if(this.$o)try{this.$o.removeItem(this.Xo(this.clientId))}catch(t){}},t.prototype.Xo=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function gi(t){return pi.Ms(t,zr.store)}function vi(t){return pi.Ms(t,ri.store)}var mi=function(){function t(t,e){this.db=t,this.Yi=new pr(this,e)}return t.prototype.ir=function(t){var e=this._h(t);return this.db.hh().do(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype._h=function(t){var e=0;return this.or(t,(function(t){e++})).next((function(){return e}))},t.prototype.be=function(t,e){return this.db.hh().be(t,e)},t.prototype.or=function(t,e){return this.fh(t,(function(t,n){return e(n)}))},t.prototype.Eo=function(t,e,n){return yi(t,n)},t.prototype.Io=function(t,e,n){return yi(t,n)},t.prototype.hr=function(t,e,n){return this.db.hh().hr(t,e,n)},t.prototype.Dr=function(t,e){return yi(t,e)},t.prototype.dh=function(t,e){return function(t,e){var n=!1;return Dr(t).ti((function(r){return Or(t,r,e).next((function(t){return t&&(n=!0),Fn.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.ar=function(t,e){var n=this,r=this.db.ah().jr(),i=[],o=0;return this.fh(t,(function(s,a){if(a<=e){var u=n.dh(t,s).next((function(e){if(!e)return o++,r.Ln(t,s).next((function(){return r.Mn(s),hi(t).delete([0,gr(s.path)])}))}));i.push(u)}})).next((function(){return Fn.Cn(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.tt(t.Ro);return this.db.hh().lo(t,n)},t.prototype.wh=function(t,e){return yi(t,e)},t.prototype.fh=function(t,e){var n,r=hi(t),i=Wn.Es;return r.Zs({index:Qr.documentTargetsIndex},(function(t,r){var o=r.path,s=r.sequenceNumber;0===t[0]?(i!==Wn.Es&&e(new M(yr(n)),i),i=s,n=o):i=Wn.Es})).next((function(){i!==Wn.Es&&e(new M(yr(n)),i)}))},t.prototype.ur=function(t){return this.db.ah().zr(t)},t}();function yi(t,e){return hi(t).put(function(t,e){return new Qr(0,gr(t.path),e)}(e,t.Ro))}function bi(t,e){var n=t.projectId;return t.i||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var wi=function(){function t(t,e,n){this.persistence=t,this.Th=e,this.Eh=new tt(_),this.mh=new x((function(t){return z(t)}),G),this.Ih=P.min(),this.Gn=t.oh(n),this.Ah=t.ah(),this.ko=t.hh(),this.Rh=new zn(this.Ah,this.Gn,this.persistence.uh()),this.Th.Ph(this.Rh)}return t.prototype.er=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.cr(n,e.Eh)}))},t}();function _i(t,e){var n=y(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r=e.batch.keys(),i=n.Ah.jr({Gr:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),s=Fn.resolve();return o.forEach((function(t){s=s.next((function(){return r.Ln(e,t)})).next((function(e){var o=e,s=n.Pn.get(t);m(null!==s),(!o||o.version.o(s)<0)&&(o=i.En(t,o,n))&&r.xn(o,n.Rn)}))})),s.next((function(){return t.Gn.br(e,i)}))}(n,t,e,i).next((function(){return i.apply(t)})).next((function(){return n.Gn.Cr(t)})).next((function(){return n.Rh.Zn(t,r)}))}))}function Ei(t){var e=y(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.ko.ro(t)}))}function Ii(t,e){var n=y(t),r=e.Z,i=n.Eh;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var o=n.Ah.jr({Gr:!0});i=n.Eh;var s=[];e.Wt.forEach((function(e,o){var a=i.get(o);if(a){s.push(n.ko.mo(t,e.Zt,o).next((function(){return n.ko.To(t,e.Jt,o)})));var u=e.resumeToken;if(u.Y()>0){var c=a.et(u,r).tt(t.Ro);i=i.st(o,c),function(t,e,n){return m(e.resumeToken.Y()>0),0===t.resumeToken.Y()||e.Z.I()-t.Z.I()>=3e8||n.Jt.size+n.Xt.size+n.Zt.size>0}(a,c,e)&&s.push(n.ko.lo(t,c))}}}));var a=st(),u=ft();if(e.Kt.forEach((function(t,e){u=u.add(t)})),s.push(o.getEntries(t,u).next((function(i){e.Kt.forEach((function(u,c){var l=i.get(u);c instanceof on&&c.version.isEqual(P.min())?(o.Mn(u,r),a=a.st(u,c)):null==l||c.version.o(l.version)>0||0===c.version.o(l.version)&&l.hasPendingWrites?(o.xn(c,r),a=a.st(u,c)):f("LocalStore","Ignoring outdated watch update for ",u,". Current version:",l.version," Watch version:",c.version),e.Gt.has(u)&&s.push(n.persistence.dr.wh(t,u))}))}))),!r.isEqual(P.min())){var c=n.ko.ro(t).next((function(e){return n.ko.ho(t,t.Ro,r)}));s.push(c)}return Fn.Cn(s).next((function(){return o.apply(t)})).next((function(){return n.Rh.ts(t,a)}))})).then((function(t){return n.Eh=i,t}))}function Ti(t,e){var n=y(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n.Gn.gr(t,e)}))}function Si(t,e){var n=y(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n.ko.wo(t,e).next((function(i){return i?Fn.resolve(r=i):n.ko.no(t).next((function(i){return r=new Z(e,i,0,t.Ro),n.ko.ao(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.Eh.get(t.targetId);return(null===r||t.Z.o(r.Z)>0)&&(n.Eh=n.Eh.st(t.targetId,t),n.mh.set(e,t.targetId)),t}))}function Ai(t,e,n){return i.__awaiter(this,void 0,void 0,(function(){var r,o,s,a;return i.__generator(this,(function(i){switch(i.label){case 0:r=y(t),o=r.Eh.get(e),s=n?"readwrite":"readwrite-primary",i.label=1;case 1:return i.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",s,(function(t){return r.persistence.dr.removeTarget(t,o)}))];case 2:i.sent(),i.label=3;case 3:return[3,5];case 4:if(!Jn(a=i.sent()))throw a;return f("LocalStore","Failed to update sequence numbers for target "+e+": "+a),[3,5];case 5:return r.Eh=r.Eh.remove(e),r.mh.delete(o.target),[2]}}))}))}function Ci(t,e,n){var r=y(t),i=P.min(),o=ft();return r.persistence.runTransaction("Execute query","readonly",(function(t){return function(t,e,n){var r=y(t),i=r.mh.get(n);return void 0!==i?Fn.resolve(r.Eh.get(i)):r.ko.wo(e,n)}(r,t,dn(e)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.ko.Ao(t,e.targetId).next((function(t){o=t}))})).next((function(){return r.Th.ns(t,e,n?i:P.min(),n?o:ft())})).next((function(t){return{documents:t,gh:o}}))}))}function ki(t,e){var n=y(t),r=y(n.ko),i=n.Eh.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.Me(t,e).next((function(t){return t?t.target:null}))}))}function xi(t){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){if(t.code!==O.FAILED_PRECONDITION||t.message!==Hn)throw t;return f("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}var Oi=function(){function t(){this.Vh=new rt(Ni.yh),this.ph=new rt(Ni.bh)}return t.prototype._=function(){return this.Vh._()},t.prototype.Eo=function(t,e){var n=new Ni(t,e);this.Vh=this.Vh.add(n),this.ph=this.ph.add(n)},t.prototype.vh=function(t,e){var n=this;t.forEach((function(t){return n.Eo(t,e)}))},t.prototype.Io=function(t,e){this.Sh(new Ni(t,e))},t.prototype.Dh=function(t,e){var n=this;t.forEach((function(t){return n.Io(t,e)}))},t.prototype.Ch=function(t){var e=this,n=new M(new L([])),r=new Ni(n,t),i=new Ni(n,t+1),o=[];return this.ph.St([r,i],(function(t){e.Sh(t),o.push(t.key)})),o},t.prototype.Nh=function(){var t=this;this.Vh.forEach((function(e){return t.Sh(e)}))},t.prototype.Sh=function(t){this.Vh=this.Vh.delete(t),this.ph=this.ph.delete(t)},t.prototype.Fh=function(t){var e=new M(new L([])),n=new Ni(e,t),r=new Ni(e,t+1),i=ft();return this.ph.St([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.Nr=function(t){var e=new Ni(t,0),n=this.Vh.Ct(e);return null!==n&&t.isEqual(n.key)},t}(),Ni=function(){function t(t,e){this.key=t,this.kh=e}return t.yh=function(t,e){return M.P(t.key,e.key)||_(t.kh,e.kh)},t.bh=function(t,e){return _(t.kh,e.kh)||M.P(t.key,e.key)},t}(),Ri=function(){function t(t){this.uid=t}return t.prototype.Er=function(){return null!=this.uid},t.prototype.$h=function(){return this.Er()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();Ri.UNAUTHENTICATED=new Ri(null),Ri.xh=new Ri("google-credentials-uid"),Ri.Oh=new Ri("first-party-uid");var Pi=function(t,e){this.user=e,this.type="OAuth",this.Mh={},this.Mh.Authorization="Bearer "+t},Di=function(){function t(){this.Lh=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.qh=function(){},t.prototype.Bh=function(t){this.Lh=t,t(Ri.UNAUTHENTICATED)},t.prototype.Uh=function(){this.Lh=null},t}(),Li=function(){function t(t){var e=this;this.Qh=null,this.currentUser=Ri.UNAUTHENTICATED,this.Wh=!1,this.jh=0,this.Lh=null,this.forceRefresh=!1,this.Qh=function(){e.jh++,e.currentUser=e.Kh(),e.Wh=!0,e.Lh&&e.Lh(e.currentUser)},this.jh=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.Qh):(this.Qh(null),t.get().then((function(t){e.auth=t,e.Qh&&e.auth.addAuthTokenListener(e.Qh)}),(function(){})))}return t.prototype.getToken=function(){var t=this,e=this.jh,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.jh!==e?(f("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(m("string"==typeof n.accessToken),new Pi(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.qh=function(){this.forceRefresh=!0},t.prototype.Bh=function(t){this.Lh=t,this.Wh&&t(this.currentUser)},t.prototype.Uh=function(){this.auth&&this.auth.removeAuthTokenListener(this.Qh),this.Qh=null,this.Lh=null},t.prototype.Kh=function(){var t=this.auth&&this.auth.getUid();return m(null===t||"string"==typeof t),new Ri(t)},t}(),Vi=function(){function t(t,e){this.Gh=t,this.zh=e,this.type="FirstParty",this.user=Ri.Oh}return Object.defineProperty(t.prototype,"Mh",{get:function(){var t={"X-Goog-AuthUser":this.zh},e=this.Gh.auth.Hh([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),Ui=function(){function t(t,e){this.Gh=t,this.zh=e}return t.prototype.getToken=function(){return Promise.resolve(new Vi(this.Gh,this.zh))},t.prototype.Bh=function(t){t(Ri.Oh)},t.prototype.Uh=function(){},t.prototype.qh=function(){},t}(),Mi=function(){function t(t,e,n,r,i,o){this.ms=t,this.Yh=n,this.Jh=r,this.Xh=i,this.listener=o,this.state=0,this.Zh=0,this.ta=null,this.stream=null,this.Ti=new Kn(t,e)}return t.prototype.ea=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.na=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.sa()},t.prototype.stop=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return this.ea()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.ia=function(){this.state=0,this.Ti.reset()},t.prototype.ra=function(){var t=this;this.na()&&null===this.ta&&(this.ta=this.ms.Ss(this.Yh,6e4,(function(){return t.oa()})))},t.prototype.ha=function(t){this.aa(),this.stream.send(t)},t.prototype.oa=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){return this.na()?[2,this.close(0)]:[2]}))}))},t.prototype.aa=function(){this.ta&&(this.ta.cancel(),this.ta=null)},t.prototype.close=function(t,e){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(n){switch(n.label){case 0:return this.aa(),this.Ti.cancel(),this.Zh++,3!==t?this.Ti.reset():e&&e.code===O.RESOURCE_EXHAUSTED?(d(e.toString()),d("Using maximum backoff delay to prevent overloading the backend."),this.Ti.ps()):e&&e.code===O.UNAUTHENTICATED&&this.Xh.qh(),null!==this.stream&&(this.ca(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.ua(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.ca=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.la(this.Zh),n=this.Zh;this.Xh.getToken().then((function(e){t.Zh===n&&t._a(e)}),(function(n){e((function(){var e=new N(O.UNKNOWN,"Fetching auth token failed: "+n.message);return t.fa(e)}))}))},t.prototype._a=function(t){var e=this,n=this.la(this.Zh);this.stream=this.da(t),this.stream.wa((function(){n((function(){return e.state=2,e.listener.wa()}))})),this.stream.ua((function(t){n((function(){return e.fa(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.sa=function(){var t=this;this.state=4,this.Ti.bs((function(){return i.__awaiter(t,void 0,void 0,(function(){return i.__generator(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.fa=function(t){return f("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.la=function(t){var e=this;return function(n){e.ms.ai((function(){return e.Zh===t?n():(f("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),ji=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).serializer=i,s}return i.__extends(e,t),e.prototype.da=function(t){return this.Jh.Ta("Listen",t)},e.prototype.onMessage=function(t){this.Ti.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:v()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.Le?(m(void 0===e||"string"==typeof e),$.fromBase64String(e||"")):(m(void 0===e||e instanceof Uint8Array),$.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(t){var e=void 0===t.code?O.UNKNOWN:Q(t.code);return new N(e,t.message||"")}(s);n=new Et(r,i,o,a||null)}else if("documentChange"in e){var u=e.documentChange,c=ie(t,u.document.name),l=te(u.document.updateTime),h=new Qe({mapValue:{fields:u.document.fields}}),f=new rn(c,l,h,{});n=new wt(u.targetIds||[],u.removedTargetIds||[],f.key,f)}else if("documentDelete"in e){var d=e.documentDelete,p=ie(t,d.document),g=d.readTime?te(d.readTime):P.min(),y=new on(p,g);n=new wt([],d.removedTargetIds||[],y.key,y)}else if("documentRemove"in e){var b=e.documentRemove,w=ie(t,b.document);n=new wt([],b.removedTargetIds||[],w,null)}else{if(!("filter"in e))return v();var _=e.filter,E=new Y(_.count||0);n=new _t(_.targetId,E)}return n}(this.serializer,t),n=function(t){if(!("targetChange"in t))return P.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?P.min():e.readTime?te(e.readTime):P.min()}(t);return this.listener.Ea(e,n)},e.prototype.ma=function(t){var e={};e.database=ae(this.serializer),e.addTarget=function(t,e){var n,r=e.target;return(n=W(r)?{documents:fe(t,r)}:{query:de(t,r)}).targetId=e.targetId,e.resumeToken.Y()>0&&(n.resumeToken=Jt(t,e.resumeToken)),n}(this.serializer,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return v()}}(0,e.X);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.ha(e)},e.prototype.Ia=function(t){var e={};e.database=ae(this.serializer),e.removeTarget=t,this.ha(e)},e}(Mi),Fi=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).serializer=i,s.Aa=!1,s}return i.__extends(e,t),Object.defineProperty(e.prototype,"Ra",{get:function(){return this.Aa},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.Aa=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ca=function(){this.Aa&&this.Pa([])},e.prototype.da=function(t){return this.Jh.Ta("Write",t)},e.prototype.onMessage=function(t){if(m(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Aa){this.Ti.reset();var e=function(t,e){return t&&t.length>0?(m(void 0!==e),t.map((function(t){return function(t,e){var n=te(t.updateTime?t.updateTime:e);n.isEqual(P.min())&&(n=te(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new Ve(n,r)}(t,e)}))):[]}(t.writeResults,t.commitTime),n=te(t.commitTime);return this.listener.ga(n,e)}return m(!t.writeResults||0===t.writeResults.length),this.Aa=!0,this.listener.Va()},e.prototype.ya=function(){var t={};t.database=ae(this.serializer),this.ha(t)},e.prototype.Pa=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return le(e.serializer,t)}))};this.ha(n)},e}(Mi),qi=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Jh=n,i.serializer=r,i.pa=!1,i}return i.__extends(e,t),e.prototype.ba=function(){if(this.pa)throw new N(O.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.va=function(t,e,n){var r=this;return this.ba(),this.credentials.getToken().then((function(i){return r.Jh.va(t,e,n,i)})).catch((function(t){throw t.code===O.UNAUTHENTICATED&&r.credentials.qh(),t}))},e.prototype.Sa=function(t,e,n){var r=this;return this.ba(),this.credentials.getToken().then((function(i){return r.Jh.Sa(t,e,n,i)})).catch((function(t){throw t.code===O.UNAUTHENTICATED&&r.credentials.qh(),t}))},e.prototype.terminate=function(){this.pa=!1},e}((function(){})),Hi=function(){function t(t,e){this.ei=t,this.Da=e,this.state="Unknown",this.Ca=0,this.Na=null,this.Fa=!0}return t.prototype.ka=function(){var t=this;0===this.Ca&&(this.$a("Unknown"),this.Na=this.ei.Ss("online_state_timeout",1e4,(function(){return t.Na=null,t.xa("Backend didn't respond within 10 seconds."),t.$a("Offline"),Promise.resolve()})))},t.prototype.Oa=function(t){"Online"===this.state?this.$a("Unknown"):(this.Ca++,this.Ca>=1&&(this.Ma(),this.xa("Connection failed 1 times. Most recent error: "+t.toString()),this.$a("Offline")))},t.prototype.set=function(t){this.Ma(),this.Ca=0,"Online"===t&&(this.Fa=!1),this.$a(t)},t.prototype.$a=function(t){t!==this.state&&(this.state=t,this.Da(t))},t.prototype.xa=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Fa?(d(e),this.Fa=!1):f("OnlineStateTracker",e)},t.prototype.Ma=function(){null!==this.Na&&(this.Na.cancel(),this.Na=null)},t}(),Bi=function(){function t(t,e,n,r,o){var s=this;this.La=t,this.qa=e,this.ei=n,this.Ba=[],this.Ua=new Map,this.Qa=null,this.Wa=new Set,this.ja=o,this.ja.Ka((function(t){n.ai((function(){return i.__awaiter(s,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return this.Ga()?(f("RemoteStore","Restarting streams for network reachability change."),[4,this.za()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.Ha=new Hi(n,r),this.Ya=function(t,e,n){var r=y(t);return r.ba(),new ji(e,r.Jh,r.credentials,r.serializer,n)}(this.qa,n,{wa:this.Ja.bind(this),ua:this.Xa.bind(this),Ea:this.Za.bind(this)}),this.tc=function(t,e,n){var r=y(t);return r.ba(),new Fi(e,r.Jh,r.credentials,r.serializer,n)}(this.qa,n,{wa:this.ec.bind(this),ua:this.nc.bind(this),Va:this.sc.bind(this),ga:this.ga.bind(this)})}return t.prototype.start=function(){return this.enableNetwork()},t.prototype.enableNetwork=function(){return this.Wa.delete(0),this.ic()},t.prototype.ic=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return this.Ga()?(this.rc()?this.oc():this.Ha.set("Unknown"),[4,this.hc()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.disableNetwork=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return this.Wa.add(0),[4,this.ac()];case 1:return t.sent(),this.Ha.set("Offline"),[2]}}))}))},t.prototype.ac=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return[4,this.tc.stop()];case 1:return t.sent(),[4,this.Ya.stop()];case 2:return t.sent(),this.Ba.length>0&&(f("RemoteStore","Stopping write stream with "+this.Ba.length+" pending writes"),this.Ba=[]),this.cc(),[2]}}))}))},t.prototype.th=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return f("RemoteStore","RemoteStore shutting down."),this.Wa.add(5),[4,this.ac()];case 1:return t.sent(),this.ja.th(),this.Ha.set("Unknown"),[2]}}))}))},t.prototype.listen=function(t){this.Ua.has(t.targetId)||(this.Ua.set(t.targetId,t),this.rc()?this.oc():this.Ya.na()&&this.uc(t))},t.prototype.lc=function(t){this.Ua.delete(t),this.Ya.na()&&this._c(t),0===this.Ua.size&&(this.Ya.na()?this.Ya.ra():this.Ga()&&this.Ha.set("Unknown"))},t.prototype.Me=function(t){return this.Ua.get(t)||null},t.prototype.Oe=function(t){return this.fc.Oe(t)},t.prototype.uc=function(t){this.Qa.we(t.targetId),this.Ya.ma(t)},t.prototype._c=function(t){this.Qa.we(t),this.Ya.Ia(t)},t.prototype.oc=function(){this.Qa=new Tt(this),this.Ya.start(),this.Ha.ka()},t.prototype.rc=function(){return this.Ga()&&!this.Ya.ea()&&this.Ua.size>0},t.prototype.Ga=function(){return 0===this.Wa.size},t.prototype.cc=function(){this.Qa=null},t.prototype.Ja=function(){return i.__awaiter(this,void 0,void 0,(function(){var t=this;return i.__generator(this,(function(e){return this.Ua.forEach((function(e,n){t.uc(e)})),[2]}))}))},t.prototype.Xa=function(t){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){return this.cc(),this.rc()?(this.Ha.Oa(t),this.oc()):this.Ha.set("Unknown"),[2]}))}))},t.prototype.Za=function(t,e){return i.__awaiter(this,void 0,void 0,(function(){var n,r,o;return i.__generator(this,(function(i){switch(i.label){case 0:if(this.Ha.set("Online"),!(t instanceof Et&&2===t.state&&t.cause))return[3,6];i.label=1;case 1:return i.trys.push([1,3,,5]),[4,this.dc(t)];case 2:return i.sent(),[3,5];case 3:return n=i.sent(),f("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),[4,this.wc(n)];case 4:return i.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof wt?this.Qa.ge(t):t instanceof _t?this.Qa.Ce(t):this.Qa.pe(t),e.isEqual(P.min()))return[3,13];i.label=7;case 7:return i.trys.push([7,11,,13]),[4,Ei(this.La)];case 8:return r=i.sent(),e.o(r)>=0?[4,this.Tc(e)]:[3,10];case 9:i.sent(),i.label=10;case 10:return[3,13];case 11:return f("RemoteStore","Failed to raise snapshot:",o=i.sent()),[4,this.wc(o)];case 12:return i.sent(),[3,13];case 13:return[2]}}))}))},t.prototype.wc=function(t,e){return i.__awaiter(this,void 0,void 0,(function(){var n=this;return i.__generator(this,(function(r){switch(r.label){case 0:if(!Jn(t))throw t;return this.Wa.add(1),[4,this.ac()];case 1:return r.sent(),this.Ha.set("Offline"),e||(e=function(){return Ei(n.La)}),this.ei.gi((function(){return i.__awaiter(n,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return f("RemoteStore","Retrying IndexedDB access"),[4,e()];case 1:return t.sent(),this.Wa.delete(1),[4,this.ic()];case 2:return t.sent(),[2]}}))}))})),[2]}}))}))},t.prototype.Ec=function(t){var e=this;return t().catch((function(n){return e.wc(n,t)}))},t.prototype.Tc=function(t){var e=this,n=this.Qa.ke(t);return n.Wt.forEach((function(n,r){if(n.resumeToken.Y()>0){var i=e.Ua.get(r);i&&e.Ua.set(r,i.et(n.resumeToken,t))}})),n.jt.forEach((function(t){var n=e.Ua.get(t);if(n){e.Ua.set(t,n.et($.J,n.Z)),e._c(t);var r=new Z(n.target,t,1,n.sequenceNumber);e.uc(r)}})),this.fc.mc(n)},t.prototype.dc=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n,r,o;return i.__generator(this,(function(i){switch(i.label){case 0:e=t.cause,n=0,r=t.targetIds,i.label=1;case 1:return n<r.length?this.Ua.has(o=r[n])?[4,this.fc.Ic(o,e)]:[3,3]:[3,5];case 2:i.sent(),this.Ua.delete(o),this.Qa.removeTarget(o),i.label=3;case 3:i.label=4;case 4:return n++,[3,1];case 5:return[2]}}))}))},t.prototype.hc=function(){return i.__awaiter(this,void 0,void 0,(function(){var t,e,n;return i.__generator(this,(function(r){switch(r.label){case 0:t=this.Ba.length>0?this.Ba[this.Ba.length-1].batchId:-1,r.label=1;case 1:if(!this.Ac())return[3,7];r.label=2;case 2:return r.trys.push([2,4,,6]),[4,Ti(this.La,t)];case 3:return null===(e=r.sent())?(0===this.Ba.length&&this.tc.ra(),[3,7]):(t=e.batchId,this.Rc(e),[3,6]);case 4:return n=r.sent(),[4,this.wc(n)];case 5:return r.sent(),[3,6];case 6:return[3,1];case 7:return this.Pc()&&this.gc(),[2]}}))}))},t.prototype.Ac=function(){return this.Ga()&&this.Ba.length<10},t.prototype.Vc=function(){return this.Ba.length},t.prototype.Rc=function(t){this.Ba.push(t),this.tc.na()&&this.tc.Ra&&this.tc.Pa(t.mutations)},t.prototype.Pc=function(){return this.Ga()&&!this.tc.ea()&&this.Ba.length>0},t.prototype.gc=function(){this.tc.start()},t.prototype.ec=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){return this.tc.ya(),[2]}))}))},t.prototype.sc=function(){return i.__awaiter(this,void 0,void 0,(function(){var t,e;return i.__generator(this,(function(n){for(t=0,e=this.Ba;t<e.length;t++)this.tc.Pa(e[t].mutations);return[2]}))}))},t.prototype.ga=function(t,e){return i.__awaiter(this,void 0,void 0,(function(){var n,r,o=this;return i.__generator(this,(function(i){switch(i.label){case 0:return n=this.Ba.shift(),r=jn.from(n,t,e),[4,this.Ec((function(){return o.fc.yc(r)}))];case 1:return i.sent(),[4,this.hc()];case 2:return i.sent(),[2]}}))}))},t.prototype.nc=function(t){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return t&&this.tc.Ra?[4,this.pc(t)]:[3,2];case 1:e.sent(),e.label=2;case 2:return this.Pc()&&this.gc(),[2]}}))}))},t.prototype.pc=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n,r=this;return i.__generator(this,(function(i){switch(i.label){case 0:return J(n=t.code)&&n!==O.ABORTED?(e=this.Ba.shift(),this.tc.ia(),[4,this.Ec((function(){return r.fc.bc(e.batchId,t)}))]):[3,3];case 1:return i.sent(),[4,this.hc()];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))},t.prototype.za=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return this.Wa.add(4),[4,this.ac()];case 1:return t.sent(),this.Ha.set("Unknown"),this.tc.ia(),this.Ya.ia(),this.Wa.delete(4),[4,this.ic()];case 2:return t.sent(),[2]}}))}))},t.prototype.vc=function(t){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return this.ei.pi(),f("RemoteStore","RemoteStore received new credentials"),this.Wa.add(3),[4,this.ac()];case 1:return e.sent(),this.Ha.set("Unknown"),[4,this.fc.vc(t)];case 2:return e.sent(),this.Wa.delete(3),[4,this.ic()];case 3:return e.sent(),[2]}}))}))},t.prototype.Sc=function(t){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return t?(this.Wa.delete(2),[4,this.ic()]):[3,2];case 1:return e.sent(),[3,5];case 2:return t?[3,4]:(this.Wa.add(2),[4,this.ac()]);case 3:e.sent(),this.Ha.set("Unknown"),e.label=4;case 4:e.label=5;case 5:return[2]}}))}))},t}();function zi(t,e){return"firestore_clients_"+t+"_"+e}function Gi(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.Er()&&(r+="_"+e.uid),r}function Wi(t,e){return"firestore_targets_"+t+"_"+e}var $i=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Dc=function(e,n,r){var i=JSON.parse(r),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),s=void 0;return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(s=new N(i.error.code,i.error.message)),o?new t(e,n,i.state,s):(d("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Cc=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Ki=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Dc=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new N(r.error.code,r.error.message)),i?new t(e,r.state,o):(d("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Cc=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Xi=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Dc=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=pt(),s=0;i&&s<r.activeTargetIds.length;++s)i=q(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(d("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Zi=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Dc=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(d("SharedClientState","Failed to parse online state: "+e),null)},t}(),Yi=function(){function t(){this.activeTargetIds=pt()}return t.prototype.Nc=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Fc=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Cc=function(){var t={activeTargetIds:this.activeTargetIds.N(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Ji=function(){function t(t,e,n,r,i){this.window=t,this.ms=e,this.persistenceKey=n,this.kc=r,this.fc=null,this.Da=null,this.fs=null,this.$c=this.xc.bind(this),this.Oc=new tt(_),this.tr=!1,this.Mc=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Lc=zi(this.persistenceKey,this.kc),this.qc=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Oc=this.Oc.st(this.kc,new Yi),this.Bc=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Uc=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.Qc=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Wc=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.$c)}return t.ks=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return i.__awaiter(this,void 0,void 0,(function(){var t,e,n,r,o,s,a,u,c,l,h=this;return i.__generator(this,(function(i){switch(i.label){case 0:return[4,this.fc.rh()];case 1:for(t=i.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.kc&&(o=this.getItem(zi(this.persistenceKey,r)))&&(s=Xi.Dc(r,o))&&(this.Oc=this.Oc.st(s.clientId,s));for(this.jc(),(a=this.storage.getItem(this.Wc))&&(u=this.Kc(a))&&this.Gc(u),c=0,l=this.Mc;c<l.length;c++)this.xc(l[c]);return this.Mc=[],this.window.addEventListener("unload",(function(){return h.th()})),this.tr=!0,[2]}}))}))},t.prototype.Ts=function(t){this.setItem(this.qc,JSON.stringify(t))},t.prototype.zc=function(){return this.Hc(this.Oc)},t.prototype.Yc=function(t){var e=!1;return this.Oc.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.Jc=function(t){this.Xc(t,"pending")},t.prototype.Zc=function(t,e,n){this.Xc(t,e,n),this.tu(t)},t.prototype.eu=function(t){var e="not-current";if(this.Yc(t)){var n=this.storage.getItem(Wi(this.persistenceKey,t));if(n){var r=Ki.Dc(t,n);r&&(e=r.state)}}return this.nu.Nc(t),this.jc(),e},t.prototype.su=function(t){this.nu.Fc(t),this.jc()},t.prototype.iu=function(t){return this.nu.activeTargetIds.has(t)},t.prototype.ru=function(t){this.removeItem(Wi(this.persistenceKey,t))},t.prototype.ou=function(t,e,n){this.hu(t,e,n)},t.prototype.au=function(t,e,n){var r=this;e.forEach((function(t){r.tu(t)})),this.currentUser=t,n.forEach((function(t){r.Jc(t)}))},t.prototype.cu=function(t){this.uu(t)},t.prototype.th=function(){this.tr&&(this.window.removeEventListener("storage",this.$c),this.removeItem(this.Lc),this.tr=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return f("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){f("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){f("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.xc=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(f("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Lc)return void d("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ms.gi((function(){return i.__awaiter(e,void 0,void 0,(function(){var t,e,r,o,s,a;return i.__generator(this,(function(i){if(this.tr){if(null!==n.key)if(this.Bc.test(n.key)){if(null==n.newValue)return t=this.lu(n.key),[2,this._u(t,null)];if(e=this.fu(n.key,n.newValue))return[2,this._u(e.clientId,e)]}else if(this.Uc.test(n.key)){if(null!==n.newValue&&(r=this.du(n.key,n.newValue)))return[2,this.wu(r)]}else if(this.Qc.test(n.key)){if(null!==n.newValue&&(o=this.Tu(n.key,n.newValue)))return[2,this.Eu(o)]}else if(n.key===this.Wc){if(null!==n.newValue&&(s=this.Kc(n.newValue)))return[2,this.Gc(s)]}else n.key===this.qc&&(a=function(t){var e=Wn.Es;if(null!=t)try{var n=JSON.parse(t);m("number"==typeof n),e=n}catch(t){d("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Wn.Es&&this.fs(a)}else this.Mc.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"nu",{get:function(){return this.Oc.get(this.kc)},enumerable:!1,configurable:!0}),t.prototype.jc=function(){this.setItem(this.Lc,this.nu.Cc())},t.prototype.Xc=function(t,e,n){var r=new $i(this.currentUser,t,e,n),i=Gi(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Cc())},t.prototype.tu=function(t){var e=Gi(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.uu=function(t){this.storage.setItem(this.Wc,JSON.stringify({clientId:this.kc,onlineState:t}))},t.prototype.hu=function(t,e,n){var r=Wi(this.persistenceKey,t),i=new Ki(t,e,n);this.setItem(r,i.Cc())},t.prototype.lu=function(t){var e=this.Bc.exec(t);return e?e[1]:null},t.prototype.fu=function(t,e){var n=this.lu(t);return Xi.Dc(n,e)},t.prototype.du=function(t,e){var n=this.Uc.exec(t),r=Number(n[1]);return $i.Dc(new Ri(void 0!==n[2]?n[2]:null),r,e)},t.prototype.Tu=function(t,e){var n=this.Qc.exec(t),r=Number(n[1]);return Ki.Dc(r,e)},t.prototype.Kc=function(t){return Zi.Dc(t)},t.prototype.wu=function(t){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.fc.mu(t.batchId,t.state,t.error)]:(f("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.Eu=function(t){return this.fc.Iu(t.targetId,t.state,t.error)},t.prototype._u=function(t,e){var n=this,r=e?this.Oc.st(t,e):this.Oc.remove(t),i=this.Hc(this.Oc),o=this.Hc(r),s=[],a=[];return o.forEach((function(t){i.has(t)||s.push(t)})),i.forEach((function(t){o.has(t)||a.push(t)})),this.fc.Au(s,a).then((function(){n.Oc=r}))},t.prototype.Gc=function(t){this.Oc.get(t.clientId)&&this.Da(t.onlineState)},t.prototype.Hc=function(t){var e=pt();return t.forEach((function(t,n){e=e.Nt(n.activeTargetIds)})),e},t}(),Qi=function(){function t(){this.Ru=new Yi,this.Pu={},this.Da=null,this.fs=null}return t.prototype.Jc=function(t){},t.prototype.Zc=function(t,e,n){},t.prototype.eu=function(t){return this.Ru.Nc(t),this.Pu[t]||"not-current"},t.prototype.ou=function(t,e,n){this.Pu[t]=e},t.prototype.su=function(t){this.Ru.Fc(t)},t.prototype.iu=function(t){return this.Ru.activeTargetIds.has(t)},t.prototype.ru=function(t){delete this.Pu[t]},t.prototype.zc=function(){return this.Ru.activeTargetIds},t.prototype.Yc=function(t){return this.Ru.activeTargetIds.has(t)},t.prototype.start=function(){return this.Ru=new Yi,Promise.resolve()},t.prototype.au=function(t,e,n){},t.prototype.cu=function(t){},t.prototype.th=function(){},t.prototype.Ts=function(t){},t}(),to=function(t){this.key=t},eo=function(t){this.key=t},no=function(){function t(t,e){this.query=t,this.gu=e,this.Vu=null,this.Yt=!1,this.yu=ft(),this.qt=ft(),this.pu=_n(t),this.bu=new gt(this.pu)}return Object.defineProperty(t.prototype,"vu",{get:function(){return this.gu},enumerable:!1,configurable:!0}),t.prototype.Su=function(t,e){var n=this,r=e?e.Du:new vt,i=e?e.bu:this.bu,o=e?e.qt:this.qt,s=i,a=!1,u=this.query.an()&&i.size===this.query.limit?i.last():null,c=this.query.cn()&&i.size===this.query.limit?i.first():null;if(t.ht((function(t,e){var l=i.get(t),h=e instanceof rn?e:null;h&&(h=wn(n.query,h)?h:null);var f=!!l&&n.qt.has(l.key),d=!!h&&(h.Ge||n.qt.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data().isEqual(h.data())?f!==d&&(r.track({type:3,doc:h}),p=!0):n.Cu(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.pu(h,u)>0||c&&n.pu(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(s=s.add(h),o=d?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))})),this.query.an()||this.query.cn())for(;s.size>this.query.limit;){var l=this.query.an()?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{bu:s,Du:r,Nu:a,qt:o}},t.prototype.Cu=function(t,e){return t.Ge&&e.hasCommittedMutations&&!e.Ge},t.prototype.Un=function(t,e,n){var r=this,i=this.bu;this.bu=t.bu,this.qt=t.qt;var o=t.Du.Mt();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return v()}};return n(t)-n(e)}(t.type,e.type)||r.pu(t.doc,e.doc)})),this.Fu(n);var s=e?this.ku():[],a=0===this.yu.size&&this.Yt?1:0,u=a!==this.Vu;return this.Vu=a,0!==o.length||u?{snapshot:new mt(this.query,t.bu,i,o,t.qt,0===a,u,!1),$u:s}:{$u:s}},t.prototype.xu=function(t){return this.Yt&&"Offline"===t?(this.Yt=!1,this.Un({bu:this.bu,Du:new vt,qt:this.qt,Nu:!1},!1)):{$u:[]}},t.prototype.Ou=function(t){return!this.gu.has(t)&&!!this.bu.has(t)&&!this.bu.get(t).Ge},t.prototype.Fu=function(t){var e=this;t&&(t.Jt.forEach((function(t){return e.gu=e.gu.add(t)})),t.Xt.forEach((function(t){})),t.Zt.forEach((function(t){return e.gu=e.gu.delete(t)})),this.Yt=t.Yt)},t.prototype.ku=function(){var t=this;if(!this.Yt)return[];var e=this.yu;this.yu=ft(),this.bu.forEach((function(e){t.Ou(e.key)&&(t.yu=t.yu.add(e.key))}));var n=[];return e.forEach((function(e){t.yu.has(e)||n.push(new eo(e))})),this.yu.forEach((function(t){e.has(t)||n.push(new to(t))})),n},t.prototype.Mu=function(t){this.gu=t.gh,this.yu=ft();var e=this.Su(t.documents);return this.Un(e,!0)},t.prototype.Lu=function(){return mt.Qt(this.query,this.bu,this.qt,0===this.Vu)},t}(),ro=function(t,e,n){this.query=t,this.targetId=e,this.view=n},io=function(t){this.key=t,this.qu=!1},oo=function(){function t(t,e,n,r,i,o){this.La=t,this.Bu=e,this.qa=n,this.Uu=r,this.currentUser=i,this.Qu=o,this.Wu=null,this.ju=new x((function(t){return yn(t)}),mn),this.Ku=new Map,this.Gu=[],this.zu=new tt(M.P),this.Hu=new Map,this.Yu=new Oi,this.Ju={},this.Xu=new Map,this.Zu=ai.eo(),this.onlineState="Unknown",this.tl=void 0}return Object.defineProperty(t.prototype,"el",{get:function(){return!0===this.tl},enumerable:!1,configurable:!0}),t.prototype.subscribe=function(t){this.Wu=t},t.prototype.listen=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n,r,o;return i.__generator(this,(function(i){switch(i.label){case 0:return this.nl("listen()"),(n=this.ju.get(t))?(this.Uu.eu(n.targetId),e=n.view.Lu(),[3,4]):[3,1];case 1:return[4,Si(this.La,dn(t))];case 2:return r=i.sent(),o=this.Uu.eu(r.targetId),[4,this.sl(t,r.targetId,"current"===o)];case 3:e=i.sent(),this.el&&this.Bu.listen(r),i.label=4;case 4:return[2,e]}}))}))},t.prototype.sl=function(t,e,n){return i.__awaiter(this,void 0,void 0,(function(){var r,o,s,a,u,c;return i.__generator(this,(function(i){switch(i.label){case 0:return[4,Ci(this.La,t,!0)];case 1:return r=i.sent(),o=new no(t,r.gh),s=o.Su(r.documents),a=bt.Ht(e,n&&"Offline"!==this.onlineState),u=o.Un(s,this.el,a),this.il(e,u.$u),c=new ro(t,e,o),[2,(this.ju.set(t,c),this.Ku.has(e)?this.Ku.get(e).push(t):this.Ku.set(e,[t]),u.snapshot)]}}))}))},t.prototype.lc=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n,r=this;return i.__generator(this,(function(i){switch(i.label){case 0:return this.nl("unlisten()"),e=this.ju.get(t),(n=this.Ku.get(e.targetId)).length>1?[2,(this.Ku.set(e.targetId,n.filter((function(e){return!mn(e,t)}))),void this.ju.delete(t))]:this.el?(this.Uu.su(e.targetId),this.Uu.Yc(e.targetId)?[3,2]:[4,Ai(this.La,e.targetId,!1).then((function(){r.Uu.ru(e.targetId),r.Bu.lc(e.targetId),r.rl(e.targetId)})).catch(xi)]):[3,3];case 1:i.sent(),i.label=2;case 2:return[3,5];case 3:return this.rl(e.targetId),[4,Ai(this.La,e.targetId,!0)];case 4:i.sent(),i.label=5;case 5:return[2]}}))}))},t.prototype.write=function(t,e){return i.__awaiter(this,void 0,void 0,(function(){var n,r,o;return i.__generator(this,(function(i){switch(i.label){case 0:this.nl("write()"),i.label=1;case 1:return i.trys.push([1,5,,6]),[4,function(t,e){var n,r=y(t),i=R.now(),o=e.reduce((function(t,e){return t.add(e.key)}),ft());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return r.Rh.Zn(t,o).next((function(o){n=o;for(var s=[],a=0,u=e;a<u.length;a++){var c=u[a],l=He(c,n.get(c.key));null!=l&&s.push(new We(c.key,l,en(l.proto.mapValue),Ue.exists(!0)))}return r.Gn.Ir(t,i,s,e)}))})).then((function(t){var e=t.An(n);return{batchId:t.batchId,Fn:e}}))}(this.La,t)];case 2:return n=i.sent(),this.Uu.Jc(n.batchId),this.ol(n.batchId,e),[4,this.hl(n.Fn)];case 3:return i.sent(),[4,this.Bu.hc()];case 4:return i.sent(),[3,6];case 5:return r=i.sent(),o=ur(r,"Failed to persist write"),e.reject(o),[3,6];case 6:return[2]}}))}))},t.prototype.mc=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n=this;return i.__generator(this,(function(r){switch(r.label){case 0:this.nl("applyRemoteEvent()"),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,Ii(this.La,t)];case 2:return e=r.sent(),t.Wt.forEach((function(t,e){var r=n.Hu.get(e);r&&(m(t.Jt.size+t.Xt.size+t.Zt.size<=1),t.Jt.size>0?r.qu=!0:t.Xt.size>0?m(r.qu):t.Zt.size>0&&(m(r.qu),r.qu=!1))})),[4,this.hl(e,t)];case 3:return r.sent(),[3,6];case 4:return[4,xi(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},t.prototype.xu=function(t,e){if(this.el&&0===e||!this.el&&1===e){this.nl("applyOnlineStateChange()");var n=[];this.ju.forEach((function(e,r){var i=r.view.xu(t);i.snapshot&&n.push(i.snapshot)})),this.Wu.al(t),this.Wu.Ea(n),this.onlineState=t,this.el&&this.Uu.cu(t)}},t.prototype.Ic=function(t,e){return i.__awaiter(this,void 0,void 0,(function(){var n,r,o,s,a,u=this;return i.__generator(this,(function(i){switch(i.label){case 0:return this.nl("rejectListens()"),this.Uu.ou(t,"rejected",e),n=this.Hu.get(t),(r=n&&n.key)?(o=(o=new tt(M.P)).st(r,new on(r,P.min())),s=ft().add(r),a=new yt(P.min(),new Map,new rt(_),o,s),[4,this.mc(a)]):[3,2];case 1:return i.sent(),this.zu=this.zu.remove(r),this.Hu.delete(t),this.cl(),[3,4];case 2:return[4,Ai(this.La,t,!1).then((function(){return u.rl(t,e)})).catch(xi)];case 3:i.sent(),i.label=4;case 4:return[2]}}))}))},t.prototype.yc=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n;return i.__generator(this,(function(r){switch(r.label){case 0:this.nl("applySuccessfulWrite()"),e=t.batch.batchId,r.label=1;case 1:return r.trys.push([1,4,,6]),[4,_i(this.La,t)];case 2:return n=r.sent(),this.ul(e,null),this.ll(e),this.Uu.Zc(e,"acknowledged"),[4,this.hl(n)];case 3:return r.sent(),[3,6];case 4:return[4,xi(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},t.prototype.bc=function(t,e){return i.__awaiter(this,void 0,void 0,(function(){var n;return i.__generator(this,(function(r){switch(r.label){case 0:this.nl("rejectFailedWrite()"),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,function(t,e){var n=y(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var r;return n.Gn.Rr(t,e).next((function(e){return m(null!==e),r=e.keys(),n.Gn.br(t,e)})).next((function(){return n.Gn.Cr(t)})).next((function(){return n.Rh.Zn(t,r)}))}))}(this.La,t)];case 2:return n=r.sent(),this.ul(t,e),this.ll(t),this.Uu.Zc(t,"rejected",e),[4,this.hl(n)];case 3:return r.sent(),[3,6];case 4:return[4,xi(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},t.prototype._l=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n,r,o;return i.__generator(this,(function(i){switch(i.label){case 0:this.Bu.Ga()||f("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,function(t){var e=y(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e.Gn.Vr(t)}))}(this.La)];case 2:return-1===(e=i.sent())?[2,void t.resolve()]:((n=this.Xu.get(e)||[]).push(t),this.Xu.set(e,n),[3,4]);case 3:return r=i.sent(),o=ur(r,"Initialization of waitForPendingWrites() operation failed"),t.reject(o),[3,4];case 4:return[2]}}))}))},t.prototype.ll=function(t){(this.Xu.get(t)||[]).forEach((function(t){t.resolve()})),this.Xu.delete(t)},t.prototype.fl=function(t){this.Xu.forEach((function(e){e.forEach((function(e){e.reject(new N(O.CANCELLED,t))}))})),this.Xu.clear()},t.prototype.ol=function(t,e){var n=this.Ju[this.currentUser.$h()];n||(n=new tt(_)),n=n.st(t,e),this.Ju[this.currentUser.$h()]=n},t.prototype.ul=function(t,e){var n=this.Ju[this.currentUser.$h()];if(n){var r=n.get(t);r&&(e?r.reject(e):r.resolve(),n=n.remove(t)),this.Ju[this.currentUser.$h()]=n}},t.prototype.rl=function(t,e){var n=this;void 0===e&&(e=null),this.Uu.su(t);for(var r=0,i=this.Ku.get(t);r<i.length;r++){var o=i[r];this.ju.delete(o),e&&this.Wu.dl(o,e)}this.Ku.delete(t),this.el&&this.Yu.Ch(t).forEach((function(t){n.Yu.Nr(t)||n.wl(t)}))},t.prototype.wl=function(t){var e=this.zu.get(t);null!==e&&(this.Bu.lc(e),this.zu=this.zu.remove(t),this.Hu.delete(e),this.cl())},t.prototype.il=function(t,e){for(var n=0,r=e;n<r.length;n++){var i=r[n];i instanceof to?(this.Yu.Eo(i.key,t),this.Tl(i)):i instanceof eo?(f("SyncEngine","Document no longer in limbo: "+i.key),this.Yu.Io(i.key,t),this.Yu.Nr(i.key)||this.wl(i.key)):v()}},t.prototype.Tl=function(t){var e=t.key;this.zu.get(e)||(f("SyncEngine","New document in limbo: "+e),this.Gu.push(e),this.cl())},t.prototype.cl=function(){for(;this.Gu.length>0&&this.zu.size<this.Qu;){var t=this.Gu.shift(),e=this.Zu.next();this.Hu.set(e,new io(t)),this.zu=this.zu.st(t,e),this.Bu.listen(new Z(dn(ln(t.path)),e,2,Wn.Es))}},t.prototype.El=function(){return this.zu},t.prototype.ml=function(){return this.Gu},t.prototype.hl=function(t,e){return i.__awaiter(this,void 0,void 0,(function(){var n,r,o,s=this;return i.__generator(this,(function(a){switch(a.label){case 0:return n=[],r=[],o=[],this.ju.forEach((function(i,a){o.push(Promise.resolve().then((function(){var e=a.view.Su(t);return e.Nu?Ci(s.La,a.query,!1).then((function(t){return a.view.Su(t.documents,e)})):e})).then((function(t){var i=e&&e.Wt.get(a.targetId),o=a.view.Un(t,s.el,i);if(s.il(a.targetId,o.$u),o.snapshot){s.el&&s.Uu.ou(a.targetId,o.snapshot.fromCache?"not-current":"current"),n.push(o.snapshot);var u=Gn._s(a.targetId,o.snapshot);r.push(u)}})))})),[4,Promise.all(o)];case 1:return a.sent(),this.Wu.Ea(n),[4,function(t,e){return i.__awaiter(this,void 0,void 0,(function(){var n,r,o,s,a,u,c,l;return i.__generator(this,(function(i){switch(i.label){case 0:n=y(t),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return Fn.forEach(e,(function(e){return Fn.forEach(e.us,(function(r){return n.persistence.dr.Eo(t,e.targetId,r)})).next((function(){return Fn.forEach(e.ls,(function(r){return n.persistence.dr.Io(t,e.targetId,r)}))}))}))}))];case 2:return i.sent(),[3,4];case 3:if(!Jn(r=i.sent()))throw r;return f("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(o=0,s=e;o<s.length;o++)u=(a=s[o]).targetId,a.fromCache||(c=n.Eh.get(u),l=c.nt(c.Z),n.Eh=n.Eh.st(u,l));return[2]}}))}))}(this.La,r)];case 2:return a.sent(),[2]}}))}))},t.prototype.nl=function(t){},t.prototype.vc=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e;return i.__generator(this,(function(n){switch(n.label){case 0:return this.currentUser.isEqual(t)?[3,3]:(f("SyncEngine","User change. New user:",t.$h()),[4,function(t,e){return i.__awaiter(this,void 0,void 0,(function(){var n,r,o,s;return i.__generator(this,(function(i){switch(i.label){case 0:return n=y(t),r=n.Gn,o=n.Rh,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var i;return n.Gn.yr(t).next((function(s){return i=s,r=n.persistence.oh(e),o=new zn(n.Ah,r,n.persistence.uh()),r.yr(t)})).next((function(e){for(var n=[],r=[],s=ft(),a=0,u=i;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)s=s.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];r.push(p.batchId);for(var g=0,v=p.mutations;g<v.length;g++)s=s.add(v[g].key)}return o.Zn(t,s).next((function(t){return{Il:t,Al:n,Rl:r}}))}))}))];case 1:return s=i.sent(),[2,(n.Gn=r,n.Rh=o,n.Th.Ph(n.Rh),s)]}}))}))}(this.La,t)]);case 1:return e=n.sent(),this.currentUser=t,this.fl("'waitForPendingWrites' promise is rejected due to a user change."),this.Uu.au(t,e.Al,e.Rl),[4,this.hl(e.Il)];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))},t.prototype.Oe=function(t){var e=this.Hu.get(t);if(e&&e.qu)return ft().add(e.key);var n=ft(),r=this.Ku.get(t);if(!r)return n;for(var i=0,o=r;i<o.length;i++){var s=this.ju.get(o[i]);n=n.Nt(s.view.vu)}return n},t}();function so(t,e){return i.__awaiter(this,void 0,void 0,(function(){var n,r,o;return i.__generator(this,(function(i){switch(i.label){case 0:return[4,Ci((n=y(t)).La,e.query,!0)];case 1:return r=i.sent(),o=e.view.Mu(r),[2,(n.el&&n.il(e.targetId,o.$u),o)]}}))}))}function ao(t,e,n,r){return i.__awaiter(this,void 0,void 0,(function(){var o,s;return i.__generator(this,(function(i){switch(i.label){case 0:return(o=y(t)).nl("applyBatchState()"),[4,function(t,e){var n=y(t),r=y(n.Gn);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return r.Pr(t,e).next((function(e){return e?n.Rh.Zn(t,e):Fn.resolve(null)}))}))}(o.La,e)];case 1:return null===(s=i.sent())?[3,6]:"pending"!==n?[3,3]:[4,o.Bu.hc()];case 2:return i.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(o.ul(e,r||null),function(t,e){y(y(t).Gn).Sr(e)}(o.La,e)):v(),i.label=4;case 4:return[4,o.hl(s)];case 5:return i.sent(),[3,7];case 6:f("SyncEngine","Cannot apply mutation batch with id: "+e),i.label=7;case 7:return[2]}}))}))}function uo(t,e){return i.__awaiter(this,void 0,void 0,(function(){var n,r,o,s,a,u,c;return i.__generator(this,(function(i){switch(i.label){case 0:return n=y(t),!0!==e||!0===n.tl?[3,3]:(r=n.Uu.zc(),[4,co(n,r.N())]);case 1:return o=i.sent(),n.tl=!0,[4,n.Bu.Sc(!0)];case 2:for(i.sent(),s=0,a=o;s<a.length;s++)n.Bu.listen(a[s]);return[3,7];case 3:return!1!==e||!1===n.tl?[3,7]:(u=[],c=Promise.resolve(),n.Ku.forEach((function(t,e){n.Uu.iu(e)?u.push(e):c=c.then((function(){return n.rl(e),Ai(n.La,e,!0)})),n.Bu.lc(e)})),[4,c]);case 4:return i.sent(),[4,co(n,u)];case 5:return i.sent(),function(t){var e=y(t);e.Hu.forEach((function(t,n){e.Bu.lc(n)})),e.Yu.Nh(),e.Hu=new Map,e.zu=new tt(M.P)}(n),n.tl=!1,[4,n.Bu.Sc(!1)];case 6:i.sent(),i.label=7;case 7:return[2]}}))}))}function co(t,e,n){return i.__awaiter(this,void 0,void 0,(function(){var n,r,o,s,a,u,c,l,h,f,d,p,g;return i.__generator(this,(function(i){switch(i.label){case 0:n=y(t),r=[],o=[],s=0,a=e,i.label=1;case 1:return s<a.length?(c=void 0,(l=n.Ku.get(u=a[s]))&&0!==l.length?[4,Si(n.La,dn(l[0]))]:[3,7]):[3,13];case 2:c=i.sent(),h=0,f=l,i.label=3;case 3:return h<f.length?(d=n.ju.get(f[h]),[4,so(n,d)]):[3,6];case 4:(p=i.sent()).snapshot&&o.push(p.snapshot),i.label=5;case 5:return h++,[3,3];case 6:return[3,11];case 7:return[4,ki(n.La,u)];case 8:return g=i.sent(),[4,Si(n.La,g)];case 9:return c=i.sent(),[4,n.sl(lo(g),u,!1)];case 10:i.sent(),i.label=11;case 11:r.push(c),i.label=12;case 12:return s++,[3,1];case 13:return[2,(n.Wu.Ea(o),r)]}}))}))}function lo(t){return cn(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function ho(t){var e=y(t);return y(y(e.La).persistence).rh()}function fo(t,e,n,r){return i.__awaiter(this,void 0,void 0,(function(){var o,s,a;return i.__generator(this,(function(i){switch(i.label){case 0:return(o=y(t)).tl?(f("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!o.Ku.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,function(t){var e=y(t),n=y(e.Ah);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return n.Ur(t,e.Ih)})).then((function(t){var n=t.Qr;return e.Ih=t.readTime,n}))}(o.La)];case 3:return s=i.sent(),a=yt.zt(e,"current"===n),[4,o.hl(s,a)];case 4:return i.sent(),[3,8];case 5:return[4,Ai(o.La,e,!0)];case 6:return i.sent(),o.rl(e,r),[3,8];case 7:v(),i.label=8;case 8:return[2]}}))}))}function po(t,e,n){return i.__awaiter(this,void 0,void 0,(function(){var r,o,s,a,u,c,l,h,d;return i.__generator(this,(function(p){switch(p.label){case 0:if(!(r=y(t)).tl)return[3,10];o=0,s=e,p.label=1;case 1:return o<s.length?r.Ku.has(a=s[o])?(f("SyncEngine","Adding an already active target "+a),[3,5]):[4,ki(r.La,a)]:[3,6];case 2:return u=p.sent(),[4,Si(r.La,u)];case 3:return c=p.sent(),[4,r.sl(lo(u),c.targetId,!1)];case 4:p.sent(),r.Bu.listen(c),p.label=5;case 5:return o++,[3,1];case 6:l=function(t){return i.__generator(this,(function(e){switch(e.label){case 0:return r.Ku.has(t)?[4,Ai(r.La,t,!1).then((function(){r.Bu.lc(t),r.rl(t)})).catch(xi)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},h=0,d=n,p.label=7;case 7:return h<d.length?[5,l(d[h])]:[3,10];case 8:p.sent(),p.label=9;case 9:return h++,[3,7];case 10:return[2]}}))}))}var go=function(){this.Pl=void 0,this.listeners=[]},vo=function(){function t(t){this.fc=t,this.gl=new x((function(t){return yn(t)}),mn),this.onlineState="Unknown",this.Vl=new Set,this.fc.subscribe(this)}return t.prototype.listen=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n,r,o,s,a;return i.__generator(this,(function(i){switch(i.label){case 0:if(n=!1,(r=this.gl.get(e=t.query))||(n=!0,r=new go),!n)return[3,4];i.label=1;case 1:return i.trys.push([1,3,,4]),o=r,[4,this.fc.listen(e)];case 2:return o.Pl=i.sent(),[3,4];case 3:return s=i.sent(),a=ur(s,"Initialization of query '"+bn(t.query)+"' failed"),[2,void t.onError(a)];case 4:return this.gl.set(e,r),r.listeners.push(t),t.xu(this.onlineState),r.Pl&&t.yl(r.Pl)&&this.pl(),[2]}}))}))},t.prototype.lc=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n,r,o;return i.__generator(this,(function(i){return n=!1,(r=this.gl.get(e=t.query))&&(o=r.listeners.indexOf(t))>=0&&(r.listeners.splice(o,1),n=0===r.listeners.length),n?[2,(this.gl.delete(e),this.fc.lc(e))]:[2]}))}))},t.prototype.Ea=function(t){for(var e=!1,n=0,r=t;n<r.length;n++){var i=r[n],o=this.gl.get(i.query);if(o){for(var s=0,a=o.listeners;s<a.length;s++)a[s].yl(i)&&(e=!0);o.Pl=i}}e&&this.pl()},t.prototype.dl=function(t,e){var n=this.gl.get(t);if(n)for(var r=0,i=n.listeners;r<i.length;r++)i[r].onError(e);this.gl.delete(t)},t.prototype.al=function(t){this.onlineState=t;var e=!1;this.gl.forEach((function(n,r){for(var i=0,o=r.listeners;i<o.length;i++)o[i].xu(t)&&(e=!0)})),e&&this.pl()},t.prototype.bl=function(t){this.Vl.add(t),t.next()},t.prototype.vl=function(t){this.Vl.delete(t)},t.prototype.pl=function(){this.Vl.forEach((function(t){t.next()}))},t}(),mo=function(){function t(t,e,n){this.query=t,this.Sl=e,this.Dl=!1,this.Cl=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.yl=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new mt(t.query,t.docs,t.Lt,e,t.qt,t.fromCache,t.Bt,!0)}var o=!1;return this.Dl?this.Nl(t)&&(this.Sl.next(t),o=!0):this.Fl(t,this.onlineState)&&(this.kl(t),o=!0),this.Cl=t,o},t.prototype.onError=function(t){this.Sl.error(t)},t.prototype.xu=function(t){this.onlineState=t;var e=!1;return this.Cl&&!this.Dl&&this.Fl(this.Cl,t)&&(this.kl(this.Cl),e=!0),e},t.prototype.Fl=function(t,e){return!t.fromCache||!(this.options.$l&&"Offline"!==e||t.docs._()&&"Offline"!==e)},t.prototype.Nl=function(t){return t.docChanges.length>0||!!(t.Bt||this.Cl&&this.Cl.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.kl=function(t){t=mt.Qt(t.query,t.docs,t.qt,t.fromCache),this.Dl=!0,this.Sl.next(t)},t}(),yo=function(){function t(){}return t.prototype.Ph=function(t){this.xl=t},t.prototype.ns=function(t,e,n,r){var i=this;return e.hn()||n.isEqual(P.min())?this.Ol(t,e):this.xl.Zn(t,r).next((function(o){var a=i.Ml(e,o);return(e.an()||e.cn())&&i.Nu(e.nn,a,r,n)?i.Ol(t,e):(h()<=s.LogLevel.DEBUG&&f("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),bn(e)),i.xl.ns(t,e,n).next((function(t){return a.forEach((function(e){t=t.st(e.key,e)})),t})))}))},t.prototype.Ml=function(t,e){var n=new rt(_n(t));return e.forEach((function(e,r){r instanceof rn&&wn(t,r)&&(n=n.add(r))})),n},t.prototype.Nu=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.o(r)>0)},t.prototype.Ol=function(t,e){return h()<=s.LogLevel.DEBUG&&f("IndexFreeQueryEngine","Using full collection scan to execute query:",bn(e)),this.xl.ns(t,e,P.min())},t}(),bo=function(){function t(t,e){this.zn=t,this.dr=e,this.Gn=[],this.Ll=1,this.ql=new rt(Ni.yh)}return t.prototype.mr=function(t){return Fn.resolve(0===this.Gn.length)},t.prototype.Ir=function(t,e,n,r){var i=this.Ll;this.Ll++;var o=new Mn(i,e,n,r);this.Gn.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.ql=this.ql.add(new Ni(u.key,i)),this.zn.Ar(t,u.key.path.p())}return Fn.resolve(o)},t.prototype.Rr=function(t,e){return Fn.resolve(this.Bl(e))},t.prototype.gr=function(t,e){var n=this.Ul(e+1),r=n<0?0:n;return Fn.resolve(this.Gn.length>r?this.Gn[r]:null)},t.prototype.Vr=function(){return Fn.resolve(0===this.Gn.length?-1:this.Ll-1)},t.prototype.yr=function(t){return Fn.resolve(this.Gn.slice())},t.prototype.Yn=function(t,e){var n=this,r=new Ni(e,0),i=new Ni(e,Number.POSITIVE_INFINITY),o=[];return this.ql.St([r,i],(function(t){var e=n.Bl(t.kh);o.push(e)})),Fn.resolve(o)},t.prototype.es=function(t,e){var n=this,r=new rt(_);return e.forEach((function(t){var e=new Ni(t,0),i=new Ni(t,Number.POSITIVE_INFINITY);n.ql.St([e,i],(function(t){r=r.add(t.kh)}))})),Fn.resolve(this.Ql(r))},t.prototype.as=function(t,e){var n=e.path,r=n.length+1,i=n;M.j(i)||(i=i.child(""));var o=new Ni(new M(i),0),s=new rt(_);return this.ql.Dt((function(t){var e=t.key.path;return!!n.D(e)&&(e.length===r&&(s=s.add(t.kh)),!0)}),o),Fn.resolve(this.Ql(s))},t.prototype.Ql=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.Bl(t);null!==r&&n.push(r)})),n},t.prototype.br=function(t,e){var n=this;m(0===this.Wl(e.batchId,"removed")),this.Gn.shift();var r=this.ql;return Fn.forEach(e.mutations,(function(i){var o=new Ni(i.key,e.batchId);return r=r.delete(o),n.dr.Dr(t,i.key)})).next((function(){n.ql=r}))},t.prototype.Sr=function(t){},t.prototype.Nr=function(t,e){var n=new Ni(e,0),r=this.ql.Ct(n);return Fn.resolve(e.isEqual(r&&r.key))},t.prototype.Cr=function(t){return Fn.resolve()},t.prototype.Wl=function(t,e){return this.Ul(t)},t.prototype.Ul=function(t){return 0===this.Gn.length?0:t-this.Gn[0].batchId},t.prototype.Bl=function(t){var e=this.Ul(t);return e<0||e>=this.Gn.length?null:this.Gn[e]},t}(),wo=function(){function t(t,e){this.zn=t,this.jl=e,this.docs=new tt(M.P),this.size=0}return t.prototype.xn=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.jl(e);return this.docs=this.docs.st(r,{Or:e,size:s,readTime:n}),this.size+=s-o,this.zn.Ar(t,r.path.p())},t.prototype.Mn=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.Ln=function(t,e){var n=this.docs.get(e);return Fn.resolve(n?n.Or:null)},t.prototype.getEntries=function(t,e){var n=this,r=at();return e.forEach((function(t){var e=n.docs.get(t);r=r.st(t,e?e.Or:null)})),Fn.resolve(r)},t.prototype.ns=function(t,e,n){for(var r=ct(),i=new M(e.path.child("")),o=this.docs.ut(i);o.Tt();){var s=o.wt(),a=s.value,u=a.Or,c=a.readTime;if(!e.path.D(s.key.path))break;c.o(n)<=0||u instanceof rn&&wn(e,u)&&(r=r.st(u.key,u))}return Fn.resolve(r)},t.prototype.Kl=function(t,e){return Fn.forEach(this.docs,(function(t){return e(t)}))},t.prototype.jr=function(e){return new t.Kr(this)},t.prototype.zr=function(t){return Fn.resolve(this.size)},t}();wo.Kr=function(t){function e(e){var n=this;return(n=t.call(this)||this).Hr=e,n}return i.__extends(e,t),e.prototype.Un=function(t){var e=this,n=[];return this.Fn.forEach((function(r,i){i?n.push(e.Hr.xn(t,i,e.readTime)):e.Hr.Mn(r)})),Fn.Cn(n)},e.prototype.qn=function(t,e){return this.Hr.Ln(t,e)},e.prototype.Bn=function(t,e){return this.Hr.getEntries(t,e)},e}(qn);var _o=function(){function t(t){this.persistence=t,this.Gl=new x((function(t){return z(t)}),G),this.lastRemoteSnapshotVersion=P.min(),this.highestTargetId=0,this.zl=0,this.Hl=new Oi,this.targetCount=0,this.Yl=ai.to()}return t.prototype.be=function(t,e){return this.Gl.forEach((function(t,n){return e(n)})),Fn.resolve()},t.prototype.ro=function(t){return Fn.resolve(this.lastRemoteSnapshotVersion)},t.prototype.oo=function(t){return Fn.resolve(this.zl)},t.prototype.no=function(t){return this.highestTargetId=this.Yl.next(),Fn.resolve(this.highestTargetId)},t.prototype.ho=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.zl&&(this.zl=e),Fn.resolve()},t.prototype.co=function(t){this.Gl.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.Yl=new ai(e),this.highestTargetId=e),t.sequenceNumber>this.zl&&(this.zl=t.sequenceNumber)},t.prototype.ao=function(t,e){return this.co(e),this.targetCount+=1,Fn.resolve()},t.prototype.lo=function(t,e){return this.co(e),Fn.resolve()},t.prototype._o=function(t,e){return this.Gl.delete(e.target),this.Hl.Ch(e.targetId),this.targetCount-=1,Fn.resolve()},t.prototype.hr=function(t,e,n){var r=this,i=0,o=[];return this.Gl.forEach((function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.Gl.delete(s),o.push(r.fo(t,a.targetId)),i++)})),Fn.Cn(o).next((function(){return i}))},t.prototype.do=function(t){return Fn.resolve(this.targetCount)},t.prototype.wo=function(t,e){var n=this.Gl.get(e)||null;return Fn.resolve(n)},t.prototype.To=function(t,e,n){return this.Hl.vh(e,n),Fn.resolve()},t.prototype.mo=function(t,e,n){this.Hl.Dh(e,n);var r=this.persistence.dr,i=[];return r&&e.forEach((function(e){i.push(r.Dr(t,e))})),Fn.Cn(i)},t.prototype.fo=function(t,e){return this.Hl.Ch(e),Fn.resolve()},t.prototype.Ao=function(t,e){var n=this.Hl.Fh(e);return Fn.resolve(n)},t.prototype.Nr=function(t,e){return Fn.resolve(this.Hl.Nr(e))},t}(),Eo=function(){function t(t){var e=this;this.Jl={},this.yo=new Wn(0),this.po=!1,this.po=!0,this.dr=t(this),this.ko=new _o(this),this.zn=new Fr,this.Kn=new wo(this.zn,(function(t){return e.dr.Xl(t)}))}return t.prototype.start=function(){return Promise.resolve()},t.prototype.th=function(){return this.po=!1,Promise.resolve()},Object.defineProperty(t.prototype,"tr",{get:function(){return this.po},enumerable:!1,configurable:!0}),t.prototype.Bo=function(){},t.prototype.Uo=function(){},t.prototype.uh=function(){return this.zn},t.prototype.oh=function(t){var e=this.Jl[t.$h()];return e||(e=new bo(this.zn,this.dr),this.Jl[t.$h()]=e),e},t.prototype.hh=function(){return this.ko},t.prototype.ah=function(){return this.Kn},t.prototype.runTransaction=function(t,e,n){var r=this;f("MemoryPersistence","Starting transaction:",t);var i=new Io(this.yo.next());return this.dr.Zl(),n(i).next((function(t){return r.dr.t_(i).next((function(){return t}))})).Sn().then((function(t){return i.jn(),t}))},t.prototype.e_=function(t,e){return Fn.Nn(Object.values(this.Jl).map((function(n){return function(){return n.Nr(t,e)}})))},t}(),Io=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ro=e,n}return i.__extends(e,t),e}(Bn),To=function(){function t(t){this.persistence=t,this.n_=new Oi,this.s_=null}return t.i_=function(e){return new t(e)},Object.defineProperty(t.prototype,"r_",{get:function(){if(this.s_)return this.s_;throw v()},enumerable:!1,configurable:!0}),t.prototype.Eo=function(t,e,n){return this.n_.Eo(n,e),this.r_.delete(n.toString()),Fn.resolve()},t.prototype.Io=function(t,e,n){return this.n_.Io(n,e),this.r_.add(n.toString()),Fn.resolve()},t.prototype.Dr=function(t,e){return this.r_.add(e.toString()),Fn.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.n_.Ch(e.targetId).forEach((function(t){return n.r_.add(t.toString())}));var r=this.persistence.hh();return r.Ao(t,e.targetId).next((function(t){t.forEach((function(t){return n.r_.add(t.toString())}))})).next((function(){return r._o(t,e)}))},t.prototype.Zl=function(){this.s_=new Set},t.prototype.t_=function(t){var e=this,n=this.persistence.ah().jr();return Fn.forEach(this.r_,(function(r){var i=M.B(r);return e.o_(t,i).next((function(t){t||n.Mn(i)}))})).next((function(){return e.s_=null,n.apply(t)}))},t.prototype.wh=function(t,e){var n=this;return this.o_(t,e).next((function(t){t?n.r_.delete(e.toString()):n.r_.add(e.toString())}))},t.prototype.Xl=function(t){return 0},t.prototype.o_=function(t,e){var n=this;return Fn.Nn([function(){return Fn.resolve(n.n_.Nr(e))},function(){return n.persistence.hh().Nr(t,e)},function(){return n.persistence.e_(t,e)}])},t}(),So=function(){function t(t){this.h_=t.h_,this.a_=t.a_}return t.prototype.wa=function(t){this.c_=t},t.prototype.ua=function(t){this.u_=t},t.prototype.onMessage=function(t){this.l_=t},t.prototype.close=function(){this.a_()},t.prototype.send=function(t){this.h_(t)},t.prototype.__=function(){this.c_()},t.prototype.f_=function(t){this.u_(t)},t.prototype.d_=function(t){this.l_(t)},t}(),Ao={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Co=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n}return i.__extends(e,t),e.prototype.A_=function(t,e,n,r){return new Promise((function(i,o){var s=new u.XhrIo;s.listenOnce(u.EventType.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case u.ErrorCode.NO_ERROR:var e=s.getResponseJson();f("Connection","XHR received:",JSON.stringify(e)),i(e);break;case u.ErrorCode.TIMEOUT:f("Connection",'RPC "'+t+'" timed out'),o(new N(O.DEADLINE_EXCEEDED,"Request time out"));break;case u.ErrorCode.HTTP_ERROR:var n=s.getStatus();if(f("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace("_","-");return Object.values(O).indexOf(e)>=0?e:O.UNKNOWN}(r.status);o(new N(a,r.message))}else o(new N(O.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new N(O.UNAVAILABLE,"Connection failed."));break;default:v()}}finally{f("Connection",'RPC "'+t+'" completed.')}}));var a=JSON.stringify(r);s.send(e,"POST",a,n,15)}))},e.prototype.Ta=function(t,e){var n=[this.T_,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=u.createWebChannelTransport(),i={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.s.projectId+"/databases/"+this.s.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling};this.I_(i.initMessageHeaders,e),a.isMobileCordova()||a.isReactNative()||a.isElectron()||a.isIE()||a.isUWP()||a.isBrowserExtension()||(i.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");f("Connection","Creating WebChannel: "+o,i);var s=r.createWebChannel(o,i),c=!1,l=!1,h=new So({h_:function(t){l?f("Connection","Not sending because WebChannel is closed:",t):(c||(f("Connection","Opening WebChannel transport."),s.open(),c=!0),f("Connection","WebChannel sending:",t),s.send(t))},a_:function(){return s.close()}}),d=function(t,e){s.listen(t,(function(t){try{e(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return d(u.WebChannel.EventType.OPEN,(function(){l||f("Connection","WebChannel transport opened.")})),d(u.WebChannel.EventType.CLOSE,(function(){l||(l=!0,f("Connection","WebChannel transport closed"),h.f_())})),d(u.WebChannel.EventType.ERROR,(function(t){l||(l=!0,p("Connection","WebChannel transport errored:",t),h.f_(new N(O.UNAVAILABLE,"The operation could not be completed")))})),d(u.WebChannel.EventType.MESSAGE,(function(t){var e;if(!l){var n=t.data[0];m(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){f("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=K[t];if(void 0!==e)return Q(e)}(i),a=r.message;void 0===o&&(o=O.INTERNAL,a="Unknown error status: "+i+" with message "+r.message),l=!0,h.f_(new N(o,a)),s.close()}else f("Connection","WebChannel received:",n),h.d_(n)}})),setTimeout((function(){h.__()}),0),h},e}(function(){function t(t){this.w_=t,this.s=t.s,this.T_=(t.ssl?"https":"http")+"://"+t.host,this.E_="projects/"+this.s.projectId+"/databases/"+this.s.database+"/documents"}return t.prototype.va=function(t,e,n,r){var i=this.m_(t,e);f("RestConnection","Sending: ",i,n);var o={};return this.I_(o,r),this.A_(t,i,o,n).then((function(t){return f("RestConnection","Received: ",t),t}),(function(e){throw p("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.Sa=function(t,e,n,r){return this.va(t,e,n,r)},t.prototype.I_=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/7.19.0",t["Content-Type"]="text/plain",e)for(var n in e.Mh)e.Mh.hasOwnProperty(n)&&(t[n]=e.Mh[n])},t.prototype.m_=function(t,e){return this.T_+"/v1/"+e+":"+Ao[t]},t}()),ko=function(){function t(){var t=this;this.R_=function(){return t.P_()},this.g_=function(){return t.V_()},this.y_=[],this.p_()}return t.prototype.Ka=function(t){this.y_.push(t)},t.prototype.th=function(){window.removeEventListener("online",this.R_),window.removeEventListener("offline",this.g_)},t.prototype.p_=function(){window.addEventListener("online",this.R_),window.addEventListener("offline",this.g_)},t.prototype.P_=function(){f("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.y_;t<e.length;t++)(0,e[t])(0)},t.prototype.V_=function(){f("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.y_;t<e.length;t++)(0,e[t])(1)},t.ks=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),xo=function(){function t(){}return t.prototype.Ka=function(t){},t.prototype.th=function(){},t}();function Oo(t){return new $t(t,!0)}var No="You are using the memory-only build of Firestore. Persistence support is only available via the @firebase/firestore bundle or the firebase-firestore.js build.",Ro=function(){function t(){}return t.prototype.initialize=function(t){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return this.Uu=this.b_(t),this.persistence=this.v_(t),[4,this.persistence.start()];case 1:return e.sent(),this.S_=this.D_(t),this.La=this.C_(t),[2]}}))}))},t.prototype.D_=function(t){return null},t.prototype.C_=function(t){return e=this.persistence,n=new yo,new wi(e,n,t.N_);var e,n},t.prototype.v_=function(t){if(t.k_.F_)throw new N(O.FAILED_PRECONDITION,No);return new Eo(To.i_)},t.prototype.b_=function(t){return new Qi},t.prototype.terminate=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return this.S_&&this.S_.stop(),[4,this.Uu.th()];case 1:return t.sent(),[4,this.persistence.th()];case 2:return t.sent(),[2]}}))}))},t.prototype.clearPersistence=function(t,e){throw new N(O.FAILED_PRECONDITION,No)},t}(),Po=function(t){function e(e){var n=this;return(n=t.call(this)||this).x_=e,n}return i.__extends(e,t),e.prototype.initialize=function(e){return i.__awaiter(this,void 0,void 0,(function(){var n,r=this;return i.__generator(this,(function(o){switch(o.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return o.sent(),[4,this.x_.initialize(this,e)];case 2:return o.sent(),n=this.x_.fc,this.Uu instanceof Ji?(this.Uu.fc={mu:ao.bind(null,n),Iu:fo.bind(null,n),Au:po.bind(null,n),rh:ho.bind(null,n)},[4,this.Uu.start()]):[3,4];case 3:o.sent(),o.label=4;case 4:return[4,this.persistence.qo((function(t){return i.__awaiter(r,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return[4,uo(this.x_.fc,t)];case 1:return e.sent(),this.S_&&(t&&!this.S_.tr?this.S_.start(this.La):t||this.S_.stop()),[2]}}))}))}))];case 5:return o.sent(),[2]}}))}))},e.prototype.b_=function(t){if(t.k_.F_&&t.k_.synchronizeTabs){var e=ir();if(!Ji.ks(e))throw new N(O.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=bi(t.w_.s,t.w_.persistenceKey);return new Ji(e,t.ei,n,t.clientId,t.N_)}return new Qi},e}(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.initialize=function(e){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n;return i.__generator(this,(function(r){return e=y(t),n=y(e.Ah),[2,e.persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return n.Wr(t)})).then((function(t){e.Ih=t}))]}))}))}(this.La)];case 2:return n.sent(),[2]}}))}))},e.prototype.D_=function(t){return new dr(this.persistence.dr.Yi,t.ei)},e.prototype.v_=function(t){var e=bi(t.w_.s,t.w_.persistenceKey),n=Oo(t.w_.s);return new pi(t.k_.synchronizeTabs,e,t.clientId,fr.Ui(t.k_.cacheSizeBytes),t.ei,ir(),or(),n,this.Uu,t.k_.Vo)},e.prototype.b_=function(t){return new Qi},e.prototype.clearPersistence=function(t,e){return function(t){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return Xn.ks()?[4,Xn.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}}))}))}(bi(t,e))},e}(Ro)),Do=function(){function t(){}return t.prototype.initialize=function(t,e){return i.__awaiter(this,void 0,void 0,(function(){var n=this;return i.__generator(this,(function(r){switch(r.label){case 0:return this.La?[3,3]:(this.La=t.La,this.Uu=t.Uu,this.qa=this.O_(e),this.Bu=this.M_(e),this.fc=this.L_(e),this.q_=this.B_(e),this.Uu.Da=function(t){return n.fc.xu(t,1)},this.Bu.fc=this.fc,[4,this.Bu.start()]);case 1:return r.sent(),[4,this.Bu.Sc(this.fc.el)];case 2:r.sent(),r.label=3;case 3:return[2]}}))}))},t.prototype.B_=function(t){return new vo(this.fc)},t.prototype.O_=function(t){var e=Oo(t.w_.s),n=new Co(t.w_);return function(t,e,n){return new qi(t,e,n)}(t.credentials,n,e)},t.prototype.M_=function(t){var e=this;return new Bi(this.La,this.qa,t.ei,(function(t){return e.fc.xu(t,0)}),ko.ks()?new ko:new xo)},t.prototype.L_=function(t){return function(t,e,n,r,i,o,s){var a=new oo(t,e,n,r,i,o);return s&&(a.tl=!0),a}(this.La,this.Bu,this.qa,this.Uu,t.N_,t.Qu,!t.k_.F_||!t.k_.synchronizeTabs)},t.prototype.terminate=function(){return this.Bu.th()},t}();function Lo(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}var Vo=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.U_(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.U_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Q_=function(){this.muted=!0},t.prototype.U_=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}();function Uo(t,e){if(0!==e.length)throw new N(O.INVALID_ARGUMENT,"Function "+t+"() does not support arguments, but was called with "+es(e.length,"argument")+".")}function Mo(t,e,n){if(e.length!==n)throw new N(O.INVALID_ARGUMENT,"Function "+t+"() requires "+es(n,"argument")+", but was called with "+es(e.length,"argument")+".")}function jo(t,e,n){if(e.length<n)throw new N(O.INVALID_ARGUMENT,"Function "+t+"() requires at least "+es(n,"argument")+", but was called with "+es(e.length,"argument")+".")}function Fo(t,e,n,r){if(e.length<n||e.length>r)throw new N(O.INVALID_ARGUMENT,"Function "+t+"() requires between "+n+" and "+r+" arguments, but was called with "+es(e.length,"argument")+".")}function qo(t,e,n,r){$o(t,e,ts(n)+" argument",r)}function Ho(t,e,n,r){void 0!==r&&qo(t,e,n,r)}function Bo(t,e,n,r){$o(t,e,n+" option",r)}function zo(t,e,n,r){void 0!==r&&Bo(t,e,n,r)}function Go(t,e,n,r,i){void 0!==r&&function(t,e,n,r,i){for(var o=[],s=0,a=i;s<a.length;s++){var u=a[s];if(u===r)return;o.push(Xo(u))}var c=Xo(r);throw new N(O.INVALID_ARGUMENT,"Invalid value "+c+" provided to function "+t+'() for option "'+n+'". Acceptable values: '+o.join(", "))}(t,0,n,r,i)}function Wo(t,e,n,r){if(!e.some((function(t){return t===r})))throw new N(O.INVALID_ARGUMENT,"Invalid value "+Xo(r)+" provided to function "+t+"() for its "+ts(n)+" argument. Acceptable values: "+e.join(", "));return r}function $o(t,e,n,r){if(!("object"===e?Ko(r):"non-empty string"===e?"string"==typeof r&&""!==r:typeof r===e)){var i=Xo(r);throw new N(O.INVALID_ARGUMENT,"Function "+t+"() requires its "+n+" to be of type "+e+", but it was: "+i)}}function Ko(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}function Xo(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":v()}function Zo(t,e,n){if(void 0===n)throw new N(O.INVALID_ARGUMENT,"Function "+t+"() requires a valid "+ts(e)+" argument, but it was undefined.")}function Yo(t,e,n){C(e,(function(e,r){if(n.indexOf(e)<0)throw new N(O.INVALID_ARGUMENT,"Unknown option '"+e+"' passed to function "+t+"(). Available options: "+n.join(", "))}))}function Jo(t,e,n,r){var i=Xo(r);return new N(O.INVALID_ARGUMENT,"Function "+t+"() requires its "+ts(n)+" argument to be a "+e+", but it was: "+i)}function Qo(t,e,n){if(n<=0)throw new N(O.INVALID_ARGUMENT,"Function "+t+"() requires its "+ts(e)+" argument to be a positive number, but it was: "+n+".")}function ts(t){switch(t){case 1:return"first";case 2:return"second";case 3:return"third";default:return t+"th"}}function es(t,e){return t+" "+e+(1===t?"":"s")}function ns(){if("undefined"==typeof Uint8Array)throw new N(O.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function rs(){if("undefined"==typeof atob)throw new N(O.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var is=function(){function t(t){rs(),this.W_=t}return t.fromBase64String=function(e){Mo("Blob.fromBase64String",arguments,1),qo("Blob.fromBase64String","string",1,e),rs();try{return new t($.fromBase64String(e))}catch(e){throw new N(O.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+e)}},t.fromUint8Array=function(e){if(Mo("Blob.fromUint8Array",arguments,1),ns(),!(e instanceof Uint8Array))throw Jo("Blob.fromUint8Array","Uint8Array",1,e);return new t($.fromUint8Array(e))},t.prototype.toBase64=function(){return Mo("Blob.toBase64",arguments,0),rs(),this.W_.toBase64()},t.prototype.toUint8Array=function(){return Mo("Blob.toUint8Array",arguments,0),ns(),this.W_.toUint8Array()},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.W_.isEqual(t.W_)},t}(),os=function(t){!function(t,e,n,r){if(!(e instanceof Array)||e.length<1)throw new N(O.INVALID_ARGUMENT,"Function FieldPath() requires its fieldNames argument to be an array with at least "+es(1,"element")+".")}(0,t);for(var e=0;e<t.length;++e)if(qo("FieldPath","string",e,t[e]),0===t[e].length)throw new N(O.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.j_=new U(t)},ss=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,e)||this}return i.__extends(e,t),e.documentId=function(){return new e(U.L().F())},e.prototype.isEqual=function(t){if(!(t instanceof e))throw Jo("isEqual","FieldPath",1,t);return this.j_.isEqual(t.j_)},e}(os),as=new RegExp("[~\\*/\\[\\]]"),us=function(){this.K_=this},cs=function(t){function e(e){var n=this;return(n=t.call(this)||this).G_=e,n}return i.__extends(e,t),e.prototype.z_=function(t){if(2!==t.H_)throw t.Y_(1===t.H_?this.G_+"() can only appear at the top level of your update data":this.G_+"() cannot be used with set() unless you pass {merge:true}");return t.qe.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(us);function ls(t,e,n){return new Is({H_:3,J_:e.settings.J_,methodName:t.G_,X_:n},e.s,e.serializer,e.ignoreUndefinedProperties)}var hs=function(t){function e(e){var n=this;return(n=t.call(this)||this).G_=e,n}return i.__extends(e,t),e.prototype.z_=function(t){return new Le(t.path,new Ae)},e.prototype.isEqual=function(t){return t instanceof e},e}(us),fs=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).G_=e,r.Z_=n,r}return i.__extends(e,t),e.prototype.z_=function(t){var e=ls(this,t,!0),n=this.Z_.map((function(t){return xs(t,e)})),r=new Ce(n);return new Le(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(us),ds=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).G_=e,r.Z_=n,r}return i.__extends(e,t),e.prototype.z_=function(t){var e=ls(this,t,!0),n=this.Z_.map((function(t){return xs(t,e)})),r=new xe(n);return new Le(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(us),ps=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).G_=e,r.tf=n,r}return i.__extends(e,t),e.prototype.z_=function(t){var e=new Ne(t.serializer,Zt(t.serializer,this.tf));return new Le(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(us),gs=function(t){function e(){return t.call(this)||this}return i.__extends(e,t),e.delete=function(){return Uo("FieldValue.delete",arguments),new vs(new cs("FieldValue.delete"))},e.serverTimestamp=function(){return Uo("FieldValue.serverTimestamp",arguments),new vs(new hs("FieldValue.serverTimestamp"))},e.arrayUnion=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return jo("FieldValue.arrayUnion",arguments,1),new vs(new fs("FieldValue.arrayUnion",t))},e.arrayRemove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return jo("FieldValue.arrayRemove",arguments,1),new vs(new ds("FieldValue.arrayRemove",t))},e.increment=function(t){return qo("FieldValue.increment","number",1,t),Mo("FieldValue.increment",arguments,1),new vs(new ps("FieldValue.increment",t))},e}(us),vs=function(t){function e(e){var n=this;return(n=t.call(this)||this).K_=e,n.G_=e.G_,n}return i.__extends(e,t),e.prototype.z_=function(t){return this.K_.z_(t)},e.prototype.isEqual=function(t){return t instanceof e&&this.K_.isEqual(t.K_)},e}(gs),ms=function(){function t(t,e){if(Mo("GeoPoint",arguments,2),qo("GeoPoint","number",1,t),qo("GeoPoint","number",2,e),!isFinite(t)||t<-90||t>90)throw new N(O.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new N(O.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.ef=t,this.nf=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.ef},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.nf},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.ef===t.ef&&this.nf===t.nf},t.prototype.toJSON=function(){return{latitude:this.ef,longitude:this.nf}},t.prototype.T=function(t){return _(this.ef,t.ef)||_(this.nf,t.nf)},t}(),ys=/^__.*__$/,bs=function(t,e,n){this.sf=t,this.if=e,this.rf=n},ws=function(){function t(t,e,n){this.data=t,this.qe=e,this.fieldTransforms=n}return t.prototype.hf=function(t,e){var n=[];return n.push(null!==this.qe?new We(t,this.data,this.qe,e):new Ge(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new Ke(t,this.fieldTransforms)),n},t}(),_s=function(){function t(t,e,n){this.data=t,this.qe=e,this.fieldTransforms=n}return t.prototype.hf=function(t,e){var n=[new We(t,this.data,this.qe,e)];return this.fieldTransforms.length>0&&n.push(new Ke(t,this.fieldTransforms)),n},t}();function Es(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw v()}}var Is=function(){function t(t,e,n,r,i,o){this.settings=t,this.s=e,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.af(),this.fieldTransforms=i||[],this.qe=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"H_",{get:function(){return this.settings.H_},enumerable:!1,configurable:!0}),t.prototype.cf=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.s,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.qe)},t.prototype.uf=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.cf({path:n,X_:!1});return r.lf(t),r},t.prototype._f=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.cf({path:n,X_:!1});return r.af(),r},t.prototype.ff=function(t){return this.cf({path:void 0,X_:!0})},t.prototype.Y_=function(t){return Ls(t,this.settings.methodName,this.settings.df||!1,this.path,this.settings.J_)},t.prototype.contains=function(t){return void 0!==this.qe.find((function(e){return t.D(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.D(e.field)}))},t.prototype.af=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.lf(this.path.get(t))},t.prototype.lf=function(t){if(0===t.length)throw this.Y_("Document fields must not be empty");if(Es(this.H_)&&ys.test(t))throw this.Y_('Document fields cannot begin and end with "__"')},t}(),Ts=function(){function t(t,e,n){this.s=t,this.ignoreUndefinedProperties=e,this.serializer=n||Oo(t)}return t.prototype.wf=function(t,e,n,r){return void 0===r&&(r=!1),new Is({H_:t,methodName:e,J_:n,path:U.$(),X_:!1,df:r},this.s,this.serializer,this.ignoreUndefinedProperties)},t}();function Ss(t,e,n,r,i,o){void 0===o&&(o={});var s=t.wf(o.merge||o.mergeFields?2:0,e,n,i);Rs("Data must be an object, but it was:",s,r);var a,u,c=Os(r,s);if(o.merge)a=new De(s.qe),u=s.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=f[h],p=void 0;if(d instanceof os)p=d.j_;else{if("string"!=typeof d)throw v();p=Ds(e,d,n)}if(!s.contains(p))throw new N(O.INVALID_ARGUMENT,"Field '"+p+"' is specified in your field mask but missing from your input data.");Vs(l,p)||l.push(p)}a=new De(l),u=s.fieldTransforms.filter((function(t){return a.Ke(t.field)}))}else a=null,u=s.fieldTransforms;return new ws(new Qe(c),a,u)}function As(t,e,n,r){var i=t.wf(1,e,n);Rs("Data must be an object, but it was:",i,r);var o=[],s=new tn;C(r,(function(t,r){var a=Ds(e,t,n),u=i._f(a);if(r instanceof us&&r.K_ instanceof cs)o.push(a);else{var c=xs(r,u);null!=c&&(o.push(a),s.set(a,c))}}));var a=new De(o);return new _s(s.ze(),a,i.fieldTransforms)}function Cs(t,e,n,r,i,o){var s=t.wf(1,e,n),a=[Ps(e,r,n)],u=[i];if(o.length%2!=0)throw new N(O.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)a.push(Ps(e,o[c])),u.push(o[c+1]);for(var l=[],h=new tn,f=a.length-1;f>=0;--f)if(!Vs(l,a[f])){var d=a[f],p=u[f],g=s._f(d);if(p instanceof us&&p.K_ instanceof cs)l.push(d);else{var v=xs(p,g);null!=v&&(l.push(d),h.set(d,v))}}var m=new De(l);return new _s(h.ze(),m,s.fieldTransforms)}function ks(t,e,n,r){return void 0===r&&(r=!1),xs(n,t.wf(r?4:3,e))}function xs(t,e){if(Ns(t))return Rs("Unsupported field value:",e,t),Os(t,e);if(t instanceof us)return function(t,e){if(!Es(e.H_))throw e.Y_(t.G_+"() can only be used with update() and set()");if(!e.path)throw e.Y_(t.G_+"() is not currently supported inside arrays");var n=t.z_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(e.path&&e.qe.push(e.path),t instanceof Array){if(e.settings.X_&&4!==e.H_)throw e.Y_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=xs(o[i],e.ff(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Zt(e.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=R.fromDate(t);return{timestampValue:Yt(e.serializer,n)}}if(t instanceof R){var r=new R(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Yt(e.serializer,r)}}if(t instanceof ms)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof is)return{bytesValue:Jt(e.serializer,t)};if(t instanceof bs){var i=e.s,o=t.sf;if(!o.isEqual(i))throw e.Y_("Document reference is for database "+o.projectId+"/"+o.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:ee(t.sf||e.s,t.if.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.Y_("Unsupported field value: "+Xo(t))}(t,e)}function Os(t,e){var n={};return k(t)?e.path&&e.path.length>0&&e.qe.push(e.path):C(t,(function(t,r){var i=xs(r,e.uf(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function Ns(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof R||t instanceof ms||t instanceof is||t instanceof bs||t instanceof us)}function Rs(t,e,n){if(!Ns(n)||!Ko(n)){var r=Xo(n);throw e.Y_("an object"===r?t+" a custom object":t+" "+r)}}function Ps(t,e,n){if(e instanceof os)return e.j_;if("string"==typeof e)return Ds(t,e);throw Ls("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}function Ds(t,e,n){try{return function(t){if(t.search(as)>=0)throw new N(O.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(ss.bind.apply(ss,i.__spreadArrays([void 0],t.split("."))))}catch(i){throw new N(O.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(e).j_}catch(e){throw Ls((r=e)instanceof Error?r.message:r.toString(),t,!1,void 0,n)}var r}function Ls(t,e,n,r,i){var o=r&&!r._(),s=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(o||s)&&(u+=" (found",o&&(u+=" in field "+r),s&&(u+=" in document "+i),u+=")"),new N(O.INVALID_ARGUMENT,(a+=". ")+t+u)}function Vs(t,e){return t.some((function(t){return t.isEqual(e)}))}var Us=function(){function t(t){this.qa=t,this.Tf=new Map,this.mutations=[],this.Ef=!1,this.mf=null,this.If=new Set}return t.prototype.Af=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n=this;return i.__generator(this,(function(r){switch(r.label){case 0:if(this.Rf(),this.mutations.length>0)throw new N(O.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return i.__awaiter(this,void 0,void 0,(function(){var n,r,o,s,a,u;return i.__generator(this,(function(i){switch(i.label){case 0:return n=y(t),r=ae(n.serializer)+"/documents",o={documents:e.map((function(t){return re(n.serializer,t)}))},[4,n.Sa("BatchGetDocuments",r,o)];case 1:return s=i.sent(),a=new Map,s.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){m(!!e.found);var n=ie(t,e.found.name),r=te(e.found.updateTime),i=new Qe({mapValue:{fields:e.found.fields}});return new rn(n,r,i,{})}(t,e):"missing"in e?function(t,e){m(!!e.missing),m(!!e.readTime);var n=ie(t,e.missing),r=te(e.readTime);return new on(n,r)}(t,e):v()}(n.serializer,t);a.set(e.key.toString(),e)})),u=[],[2,(e.forEach((function(t){var e=a.get(t.toString());m(!!e),u.push(e)})),u)]}}))}))}(this.qa,t)];case 1:return[2,((e=r.sent()).forEach((function(t){t instanceof on||t instanceof rn?n.Pf(t):v()})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.hf(t,this.Qe(t))),this.If.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.hf(t,this.gf(t)))}catch(t){this.mf=t}this.If.add(t.toString())},t.prototype.delete=function(t){this.write([new Ye(t,this.Qe(t))]),this.If.add(t.toString())},t.prototype.commit=function(){return i.__awaiter(this,void 0,void 0,(function(){var t,e=this;return i.__generator(this,(function(n){switch(n.label){case 0:if(this.Rf(),this.mf)throw this.mf;return t=this.Tf,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=M.B(n);e.mutations.push(new Je(r,e.Qe(r)))})),[4,function(t,e){return i.__awaiter(this,void 0,void 0,(function(){var n,r,o;return i.__generator(this,(function(i){switch(i.label){case 0:return n=y(t),r=ae(n.serializer)+"/documents",o={writes:e.map((function(t){return le(n.serializer,t)}))},[4,n.va("Commit",r,o)];case 1:return i.sent(),[2]}}))}))}(this.qa,this.mutations)];case 1:return n.sent(),this.Ef=!0,[2]}}))}))},t.prototype.Pf=function(t){var e;if(t instanceof rn)e=t.version;else{if(!(t instanceof on))throw v();e=P.min()}var n=this.Tf.get(t.key.toString());if(n){if(!e.isEqual(n))throw new N(O.ABORTED,"Document version changed between two reads.")}else this.Tf.set(t.key.toString(),e)},t.prototype.Qe=function(t){var e=this.Tf.get(t.toString());return!this.If.has(t.toString())&&e?Ue.updateTime(e):Ue.We()},t.prototype.gf=function(t){var e=this.Tf.get(t.toString());if(!this.If.has(t.toString())&&e){if(e.isEqual(P.min()))throw new N(O.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ue.updateTime(e)}return Ue.exists(!0)},t.prototype.write=function(t){this.Rf(),this.mutations=this.mutations.concat(t)},t.prototype.Rf=function(){},t}(),Ms=function(){function t(t,e,n,r){this.ei=t,this.qa=e,this.updateFunction=n,this.ii=r,this.Vf=5,this.Ti=new Kn(this.ei,"transaction_retry")}return t.prototype.run=function(){this.yf()},t.prototype.yf=function(){var t=this;this.Ti.bs((function(){return i.__awaiter(t,void 0,void 0,(function(){var t,e,n=this;return i.__generator(this,(function(r){return t=new Us(this.qa),(e=this.pf(t))&&e.then((function(e){n.ei.ai((function(){return t.commit().then((function(){n.ii.resolve(e)})).catch((function(t){n.bf(t)}))}))})).catch((function(t){n.bf(t)})),[2]}))}))}))},t.prototype.pf=function(t){try{var e=this.updateFunction(t);return!j(e)&&e.catch&&e.then?e:(this.ii.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.ii.reject(t),null}},t.prototype.bf=function(t){var e=this;this.Vf>0&&this.vf(t)?(this.Vf-=1,this.ei.ai((function(){return e.yf(),Promise.resolve()}))):this.ii.reject(t)},t.prototype.vf=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!J(e)}return!1},t}(),js=function(){function t(t,e){this.credentials=t,this.ei=e,this.clientId=w.t(),this.Sf=new $n}return t.prototype.start=function(t,e,n,r){var i=this;this.Df(),this.w_=t;var o=new $n,s=!1;return this.credentials.Bh((function(t){if(!s)return s=!0,f("FirestoreClient","Initializing. user=",t.uid),i.Cf(e,n,r,t,o).then(i.Sf.resolve,i.Sf.reject);i.ei.gi((function(){return i.Bu.vc(t)}))})),this.ei.ai((function(){return i.Sf.promise})),o.promise},t.prototype.enableNetwork=function(){var t=this;return this.Df(),this.ei.enqueue((function(){return t.persistence.Uo(!0),t.Bu.enableNetwork()}))},t.prototype.Cf=function(t,e,n,r,o){return i.__awaiter(this,void 0,void 0,(function(){var s,a,u=this;return i.__generator(this,(function(c){switch(c.label){case 0:return c.trys.push([0,3,,4]),[4,t.initialize(s={ei:this.ei,w_:this.w_,clientId:this.clientId,credentials:this.credentials,N_:r,Qu:100,k_:n})];case 1:return c.sent(),[4,e.initialize(t,s)];case 2:return c.sent(),this.persistence=t.persistence,this.Uu=t.Uu,this.La=t.La,this.S_=t.S_,this.qa=e.qa,this.Bu=e.Bu,this.fc=e.fc,this.Nf=e.q_,this.persistence.Bo((function(){return i.__awaiter(u,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return[4,this.terminate()];case 1:return t.sent(),[2]}}))}))})),o.resolve(),[3,4];case 3:if(a=c.sent(),o.reject(a),!this.Ff(a))throw a;return[2,(console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+a),this.Cf(new Ro,new Do,{F_:!1},r,o))];case 4:return[2]}}))}))},t.prototype.Ff=function(t){return"FirebaseError"===t.name?t.code===O.FAILED_PRECONDITION||t.code===O.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code},t.prototype.Df=function(){if(this.ei.mi)throw new N(O.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.disableNetwork=function(){var t=this;return this.Df(),this.ei.enqueue((function(){return t.persistence.Uo(!1),t.Bu.disableNetwork()}))},t.prototype.terminate=function(){var t=this;this.ei.Pi();var e=new $n;return this.ei.Ii((function(){return i.__awaiter(t,void 0,void 0,(function(){var t,n;return i.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,4,,5]),this.S_&&this.S_.stop(),[4,this.Bu.th()];case 1:return r.sent(),[4,this.Uu.th()];case 2:return r.sent(),[4,this.persistence.th()];case 3:return r.sent(),this.credentials.Uh(),e.resolve(),[3,5];case 4:return t=r.sent(),n=ur(t,"Failed to shutdown persistence"),e.reject(n),[3,5];case 5:return[2]}}))}))})),e.promise},t.prototype.waitForPendingWrites=function(){var t=this;this.Df();var e=new $n;return this.ei.ai((function(){return t.fc._l(e)})),e.promise},t.prototype.listen=function(t,e,n){var r=this;this.Df();var i=new Vo(n),o=new mo(t,i,e);return this.ei.ai((function(){return r.Nf.listen(o)})),function(){i.Q_(),r.ei.ai((function(){return r.Nf.lc(o)}))}},t.prototype.kf=function(t){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return this.Df(),[4,this.Sf.promise];case 1:return[2,(e.sent(),function(t,e,n){return i.__awaiter(this,void 0,void 0,(function(){var r,o=this;return i.__generator(this,(function(s){switch(s.label){case 0:return r=new $n,[4,t.enqueue((function(){return i.__awaiter(o,void 0,void 0,(function(){var t,o,s;return i.__generator(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,function(t,e){var n=y(t);return n.persistence.runTransaction("read document","readonly",(function(t){return n.Rh.Hn(t,e)}))}(e,n)];case 1:return(t=i.sent())instanceof rn?r.resolve(t):t instanceof on?r.resolve(null):r.reject(new N(O.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return o=i.sent(),s=ur(o,"Failed to get document '"+n+" from cache"),r.reject(s),[3,3];case 3:return[2]}}))}))}))];case 1:return[2,(s.sent(),r.promise)]}}))}))}(this.ei,this.La,t))]}}))}))},t.prototype.$f=function(t,e){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(n){switch(n.label){case 0:return this.Df(),[4,this.Sf.promise];case 1:return[2,(n.sent(),function(t,e,n,r){var i=new $n,o=Fs(t,e,ln(n.path),{includeMetadataChanges:!0,$l:!0},{next:function(t){o();var e=t.docs.has(n);!e&&t.fromCache?i.reject(new N(O.UNAVAILABLE,"Failed to get document because the client is offline.")):e&&t.fromCache&&r&&"server"===r.source?i.reject(new N(O.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(t)},error:function(t){return i.reject(t)}});return i.promise}(this.ei,this.Nf,t,e))]}}))}))},t.prototype.xf=function(t){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return this.Df(),[4,this.Sf.promise];case 1:return[2,(e.sent(),function(t,e,n){return i.__awaiter(this,void 0,void 0,(function(){var r,o=this;return i.__generator(this,(function(s){switch(s.label){case 0:return r=new $n,[4,t.enqueue((function(){return i.__awaiter(o,void 0,void 0,(function(){var t,o,s,a,u,c;return i.__generator(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,Ci(e,n,!0)];case 1:return t=i.sent(),o=new no(n,t.gh),s=o.Su(t.documents),a=o.Un(s,!1),r.resolve(a.snapshot),[3,3];case 2:return u=i.sent(),c=ur(u,"Failed to execute query '"+n+" against cache"),r.reject(c),[3,3];case 3:return[2]}}))}))}))];case 1:return[2,(s.sent(),r.promise)]}}))}))}(this.ei,this.La,t))]}}))}))},t.prototype.Of=function(t,e){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(n){switch(n.label){case 0:return this.Df(),[4,this.Sf.promise];case 1:return[2,(n.sent(),function(t,e,n,r){var i=new $n,o=Fs(t,e,n,{includeMetadataChanges:!0,$l:!0},{next:function(t){o(),t.fromCache&&r&&"server"===r.source?i.reject(new N(O.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(t)},error:function(t){return i.reject(t)}});return i.promise}(this.ei,this.Nf,t,e))]}}))}))},t.prototype.write=function(t){var e=this;this.Df();var n=new $n;return this.ei.ai((function(){return e.fc.write(t,n)})),n.promise},t.prototype.s=function(){return this.w_.s},t.prototype.bl=function(t){var e=this;this.Df();var n=new Vo(t);return this.ei.ai((function(){return i.__awaiter(e,void 0,void 0,(function(){return i.__generator(this,(function(t){return[2,this.Nf.bl(n)]}))}))})),function(){n.Q_(),e.ei.ai((function(){return i.__awaiter(e,void 0,void 0,(function(){return i.__generator(this,(function(t){return[2,this.Nf.vl(n)]}))}))}))}},Object.defineProperty(t.prototype,"Mf",{get:function(){return this.ei.mi},enumerable:!1,configurable:!0}),t.prototype.transaction=function(t){var e=this;this.Df();var n=new $n;return this.ei.ai((function(){return new Ms(e.ei,e.qa,t,n).run(),Promise.resolve()})),n.promise},t}();function Fs(t,e,n,r,i){var o=new Vo(i),s=new mo(n,o,r);return t.ai((function(){return e.listen(s)})),function(){o.Q_(),t.ai((function(){return e.lc(s)}))}}var qs=function(){function t(t,e,n,r){this.s=t,this.timestampsInSnapshots=e,this.Lf=n,this.qf=r}return t.prototype.Bf=function(t){switch(Ot(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ut(t.integerValue||t.doubleValue);case 3:return this.Uf(t.timestampValue);case 4:return this.Qf(t);case 5:return t.stringValue;case 6:return new is(Mt(t.bytesValue));case 7:return this.Wf(t.referenceValue);case 8:return this.jf(t.geoPointValue);case 9:return this.Kf(t.arrayValue);case 10:return this.Gf(t.mapValue);default:throw v()}},t.prototype.Gf=function(t){var e=this,n={};return C(t.fields||{},(function(t,r){n[t]=e.Bf(r)})),n},t.prototype.jf=function(t){return new ms(Ut(t.latitude),Ut(t.longitude))},t.prototype.Kf=function(t){var e=this;return(t.values||[]).map((function(t){return e.Bf(t)}))},t.prototype.Qf=function(t){switch(this.Lf){case"previous":var e=function t(e){var n=e.mapValue.fields.__previous_value__;return Ct(n)?t(n):n}(t);return null==e?null:this.Bf(e);case"estimate":return this.Uf(kt(t));default:return null}},t.prototype.Uf=function(t){var e=Vt(t),n=new R(e.seconds,e.nanos);return this.timestampsInSnapshots?n:n.toDate()},t.prototype.Wf=function(t){var e=L.k(t);m(_e(e));var n=new S(e.get(1),e.get(3)),r=new M(e.V(5));return n.isEqual(this.s)||d("Document "+r+" contains a document reference within a different database ("+n.projectId+"/"+n.database+") which is not supported. It will be treated as a reference in the current database ("+this.s.projectId+"/"+this.s.database+") instead."),this.qf(r)},t}(),Hs=fr.ji,Bs=function(){function t(t){var e,n,r,i;if(void 0===t.host){if(void 0!==t.ssl)throw new N(O.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else Bo("settings","non-empty string","host",t.host),this.host=t.host,zo("settings","boolean","ssl",t.ssl),this.ssl=null===(e=t.ssl)||void 0===e||e;if(Yo("settings",t,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling","ignoreUndefinedProperties"]),zo("settings","object","credentials",t.credentials),this.credentials=t.credentials,zo("settings","boolean","timestampsInSnapshots",t.timestampsInSnapshots),zo("settings","boolean","ignoreUndefinedProperties",t.ignoreUndefinedProperties),!0===t.timestampsInSnapshots?d("The setting 'timestampsInSnapshots: true' is no longer required and should be removed."):!1===t.timestampsInSnapshots&&d("Support for 'timestampsInSnapshots: false' will be removed soon. You must update your code to handle Timestamp objects."),this.timestampsInSnapshots=null===(n=t.timestampsInSnapshots)||void 0===n||n,this.ignoreUndefinedProperties=null!==(r=t.ignoreUndefinedProperties)&&void 0!==r&&r,zo("settings","number","cacheSizeBytes",t.cacheSizeBytes),void 0===t.cacheSizeBytes)this.cacheSizeBytes=fr.Gi;else{if(t.cacheSizeBytes!==Hs&&t.cacheSizeBytes<fr.Ki)throw new N(O.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+fr.Ki);this.cacheSizeBytes=t.cacheSizeBytes}zo("settings","boolean","experimentalForceLongPolling",t.experimentalForceLongPolling),this.forceLongPolling=null!==(i=t.experimentalForceLongPolling)&&void 0!==i&&i}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.timestampsInSnapshots===t.timestampsInSnapshots&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.forceLongPolling===t.forceLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),zs=function(){function t(e,n,r,o){var s=this;if(void 0===r&&(r=new Ro),void 0===o&&(o=new Do),this.zf=r,this.Hf=o,this.Yf=null,this.Jf=new ar,this.INTERNAL={delete:function(){return i.__awaiter(s,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return this.Xf(),[4,this.Zf.terminate()];case 1:return t.sent(),[2]}}))}))}},"object"==typeof e.options){var a=e;this.Yf=a,this.sf=t.td(a),this.ed=a.name,this.nd=new Li(n)}else{var u=e;if(!u.projectId)throw new N(O.INVALID_ARGUMENT,"Must provide projectId");this.sf=new S(u.projectId,u.database),this.ed="[DEFAULT]",this.nd=new Di}this.sd=new Bs({})}return Object.defineProperty(t.prototype,"rd",{get:function(){return this.od||(this.od=new Ts(this.sf,this.sd.ignoreUndefinedProperties)),this.od},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){Mo("Firestore.settings",arguments,1),qo("Firestore.settings","object",1,t);var e=new Bs(t);if(this.Zf&&!this.sd.isEqual(e))throw new N(O.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this.sd=e,void 0!==e.credentials&&(this.nd=function(t){if(!t)return new Di;switch(t.type){case"gapi":var e=t.hd;return m(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Ui(e,t.zh||"0");case"provider":return t.hd;default:throw new N(O.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},t.prototype.enableNetwork=function(){return this.Xf(),this.Zf.enableNetwork()},t.prototype.disableNetwork=function(){return this.Xf(),this.Zf.disableNetwork()},t.prototype.enablePersistence=function(t){var e,n;if(this.Zf)throw new N(O.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var r=!1,i=!1;if(t&&(void 0!==t.experimentalTabSynchronization&&d("The 'experimentalTabSynchronization' setting will be removed. Use 'synchronizeTabs' instead."),r=null!==(n=null!==(e=t.synchronizeTabs)&&void 0!==e?e:t.experimentalTabSynchronization)&&void 0!==n&&n,i=!!t.experimentalForceOwningTab&&t.experimentalForceOwningTab,r&&i))throw new N(O.INVALID_ARGUMENT,"The 'experimentalForceOwningTab' setting cannot be used with 'synchronizeTabs'.");return this.ad(this.zf,this.Hf,{F_:!0,cacheSizeBytes:this.sd.cacheSizeBytes,synchronizeTabs:r,Vo:i})},t.prototype.clearPersistence=function(){return i.__awaiter(this,void 0,void 0,(function(){var t,e=this;return i.__generator(this,(function(n){if(void 0!==this.Zf&&!this.Zf.Mf)throw new N(O.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");return t=new $n,[2,(this.Jf.Ii((function(){return i.__awaiter(e,void 0,void 0,(function(){var e;return i.__generator(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.zf.clearPersistence(this.sf,this.ed)];case 1:return n.sent(),t.resolve(),[3,3];case 2:return e=n.sent(),t.reject(e),[3,3];case 3:return[2]}}))}))})),t.promise)]}))}))},t.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},Object.defineProperty(t.prototype,"ud",{get:function(){return this.Xf(),this.Zf.Mf},enumerable:!1,configurable:!0}),t.prototype.waitForPendingWrites=function(){return this.Xf(),this.Zf.waitForPendingWrites()},t.prototype.onSnapshotsInSync=function(t){return this.Xf(),Lo(t)?this.Zf.bl(t):(qo("Firestore.onSnapshotsInSync","function",1,t),this.Zf.bl({next:t}))},t.prototype.Xf=function(){return this.Zf||this.ad(new Ro,new Do,{F_:!1}),this.Zf},t.prototype.ld=function(){return new T(this.sf,this.ed,this.sd.host,this.sd.ssl,this.sd.forceLongPolling)},t.prototype.ad=function(t,e,n){var r=this.ld();return this.Zf=new js(this.nd,this.Jf),this.Zf.start(r,t,e,n)},t.td=function(t){if(!Object.prototype.hasOwnProperty.call(t.options,"projectId"))throw new N(O.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var e=t.options.projectId;if(!e||"string"!=typeof e)throw new N(O.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new S(e)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.Yf)throw new N(O.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Yf},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){return Mo("Firestore.collection",arguments,1),qo("Firestore.collection","non-empty string",1,t),this.Xf(),new oa(L.k(t),this,null)},t.prototype.doc=function(t){return Mo("Firestore.doc",arguments,1),qo("Firestore.doc","non-empty string",1,t),this.Xf(),$s._d(L.k(t),this,null)},t.prototype.collectionGroup=function(t){if(Mo("Firestore.collectionGroup",arguments,1),qo("Firestore.collectionGroup","non-empty string",1,t),t.indexOf("/")>=0)throw new N(O.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.Xf(),new ra(function(t){return new un(L.$(),t)}(t),this,null)},t.prototype.runTransaction=function(t){var e=this;return Mo("Firestore.runTransaction",arguments,1),qo("Firestore.runTransaction","function",1,t),this.Xf().transaction((function(n){return t(new Gs(e,n))}))},t.prototype.batch=function(){return this.Xf(),new Ws(this)},Object.defineProperty(t,"logLevel",{get:function(){switch(h()){case s.LogLevel.DEBUG:return"debug";case s.LogLevel.ERROR:return"error";case s.LogLevel.SILENT:return"silent";case s.LogLevel.WARN:return"warn";case s.LogLevel.INFO:return"info";case s.LogLevel.VERBOSE:return"verbose";default:return"error"}},enumerable:!1,configurable:!0}),t.setLogLevel=function(t){Mo("Firestore.setLogLevel",arguments,1),Wo("setLogLevel",["debug","error","silent","warn","info","verbose"],1,t),l.setLogLevel(t)},t.prototype.fd=function(){return this.sd.timestampsInSnapshots},t}(),Gs=function(){function t(t,e){this.dd=t,this.wd=e}return t.prototype.get=function(t){var e=this;Mo("Transaction.get",arguments,1);var n=ca("Transaction.get",t,this.dd);return this.wd.Af([n.if]).then((function(t){if(!t||1!==t.length)return v();var r=t[0];if(r instanceof on)return new Xs(e.dd,n.if,null,!1,!1,n.rf);if(r instanceof rn)return new Xs(e.dd,n.if,r,!1,!1,n.rf);throw v()}))},t.prototype.set=function(t,e,n){Fo("Transaction.set",arguments,2,3);var r=ca("Transaction.set",t,this.dd);n=sa("Transaction.set",n);var i=ha(r.rf,e,n),o=Ss(this.dd.rd,"Transaction.set",r.if,i,null!==r.rf,n);return this.wd.set(r.if,o),this},t.prototype.update=function(t,e,n){for(var r,i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];return"string"==typeof e||e instanceof ss?(jo("Transaction.update",arguments,3),r=ca("Transaction.update",t,this.dd),i=Cs(this.dd.rd,"Transaction.update",r.if,e,n,o)):(Mo("Transaction.update",arguments,2),r=ca("Transaction.update",t,this.dd),i=As(this.dd.rd,"Transaction.update",r.if,e)),this.wd.update(r.if,i),this},t.prototype.delete=function(t){Mo("Transaction.delete",arguments,1);var e=ca("Transaction.delete",t,this.dd);return this.wd.delete(e.if),this},t}(),Ws=function(){function t(t){this.dd=t,this.Td=[],this.Ed=!1}return t.prototype.set=function(t,e,n){Fo("WriteBatch.set",arguments,2,3),this.md();var r=ca("WriteBatch.set",t,this.dd);n=sa("WriteBatch.set",n);var i=ha(r.rf,e,n),o=Ss(this.dd.rd,"WriteBatch.set",r.if,i,null!==r.rf,n);return this.Td=this.Td.concat(o.hf(r.if,Ue.We())),this},t.prototype.update=function(t,e,n){for(var r,i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];return this.md(),"string"==typeof e||e instanceof ss?(jo("WriteBatch.update",arguments,3),r=ca("WriteBatch.update",t,this.dd),i=Cs(this.dd.rd,"WriteBatch.update",r.if,e,n,o)):(Mo("WriteBatch.update",arguments,2),r=ca("WriteBatch.update",t,this.dd),i=As(this.dd.rd,"WriteBatch.update",r.if,e)),this.Td=this.Td.concat(i.hf(r.if,Ue.exists(!0))),this},t.prototype.delete=function(t){Mo("WriteBatch.delete",arguments,1),this.md();var e=ca("WriteBatch.delete",t,this.dd);return this.Td=this.Td.concat(new Ye(e.if,Ue.We())),this},t.prototype.commit=function(){return this.md(),this.Ed=!0,this.Td.length>0?this.dd.Xf().write(this.Td):Promise.resolve()},t.prototype.md=function(){if(this.Ed)throw new N(O.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}(),$s=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n.sf,e,r)||this).if=e,i.firestore=n,i.rf=r,i.Zf=i.firestore.Xf(),i}return i.__extends(e,t),e._d=function(t,n,r){if(t.length%2!=0)throw new N(O.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.F()+" has "+t.length);return new e(new M(t),n,r)},Object.defineProperty(e.prototype,"id",{get:function(){return this.if.path.S()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new oa(this.if.path.p(),this.firestore,this.rf)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.if.path.F()},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){if(Mo("DocumentReference.collection",arguments,1),qo("DocumentReference.collection","non-empty string",1,t),!t)throw new N(O.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var e=L.k(t);return new oa(this.if.path.child(e),this.firestore,null)},e.prototype.isEqual=function(t){if(!(t instanceof e))throw Jo("isEqual","DocumentReference",1,t);return this.firestore===t.firestore&&this.if.isEqual(t.if)&&this.rf===t.rf},e.prototype.set=function(t,e){Fo("DocumentReference.set",arguments,1,2),e=sa("DocumentReference.set",e);var n=ha(this.rf,t,e),r=Ss(this.firestore.rd,"DocumentReference.set",this.if,n,null!==this.rf,e);return this.Zf.write(r.hf(this.if,Ue.We()))},e.prototype.update=function(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return"string"==typeof t||t instanceof ss?(jo("DocumentReference.update",arguments,2),n=Cs(this.firestore.rd,"DocumentReference.update",this.if,t,e,r)):(Mo("DocumentReference.update",arguments,1),n=As(this.firestore.rd,"DocumentReference.update",this.if,t)),this.Zf.write(n.hf(this.if,Ue.exists(!0)))},e.prototype.delete=function(){return Mo("DocumentReference.delete",arguments,0),this.Zf.write([new Ye(this.if,Ue.We())])},e.prototype.onSnapshot=function(){for(var t,e,n,r=this,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];Fo("DocumentReference.onSnapshot",arguments,1,4);var s={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||Lo(i[a])||(Yo("DocumentReference.onSnapshot",s=i[a],["includeMetadataChanges"]),zo("DocumentReference.onSnapshot","boolean","includeMetadataChanges",s.includeMetadataChanges),a++);var u={includeMetadataChanges:s.includeMetadataChanges};if(Lo(i[a])){var c=i[a];i[a]=null===(t=c.next)||void 0===t?void 0:t.bind(c),i[a+1]=null===(e=c.error)||void 0===e?void 0:e.bind(c),i[a+2]=null===(n=c.complete)||void 0===n?void 0:n.bind(c)}else qo("DocumentReference.onSnapshot","function",a,i[a]),Ho("DocumentReference.onSnapshot","function",a+1,i[a+1]),Ho("DocumentReference.onSnapshot","function",a+2,i[a+2]);var l={next:function(t){i[a]&&i[a](r.Id(t))},error:i[a+1],complete:i[a+2]};return this.Zf.listen(ln(this.if.path),u,l)},e.prototype.get=function(t){var e=this;Fo("DocumentReference.get",arguments,0,1),ua("DocumentReference.get",t);var n=this.firestore.Xf();return t&&"cache"===t.source?n.kf(this.if).then((function(t){return new Xs(e.firestore,e.if,t,!0,t instanceof rn&&t.Ge,e.rf)})):n.$f(this.if,t).then((function(t){return e.Id(t)}))},e.prototype.withConverter=function(t){return new e(this.if,this.firestore,t)},e.prototype.Id=function(t){var e=t.docs.get(this.if);return new Xs(this.firestore,this.if,e,t.fromCache,t.hasPendingWrites,this.rf)},e}(bs),Ks=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Xs=function(){function t(t,e,n,r,i,o){this.dd=t,this.if=e,this.Ad=n,this.Rd=r,this.Pd=i,this.rf=o}return t.prototype.data=function(t){var e=this;if(Fo("DocumentSnapshot.data",arguments,0,1),t=aa("DocumentSnapshot.data",t),this.Ad){if(this.rf){var n=new Zs(this.dd,this.if,this.Ad,this.Rd,this.Pd,null);return this.rf.fromFirestore(n,t)}return new qs(this.dd.sf,this.dd.fd(),t.serverTimestamps||"none",(function(t){return new $s(t,e.dd,null)})).Bf(this.Ad.tn())}},t.prototype.get=function(t,e){var n=this;if(Fo("DocumentSnapshot.get",arguments,1,2),e=aa("DocumentSnapshot.get",e),this.Ad){var r=this.Ad.data().field(Ps("DocumentSnapshot.get",t,this.if));if(null!==r)return new qs(this.dd.sf,this.dd.fd(),e.serverTimestamps||"none",(function(t){return new $s(t,n.dd,n.rf)})).Bf(r)}},Object.defineProperty(t.prototype,"id",{get:function(){return this.if.path.S()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new $s(this.if,this.dd,this.rf)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return null!==this.Ad},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return new Ks(this.Pd,this.Rd)},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){if(!(e instanceof t))throw Jo("isEqual","DocumentSnapshot",1,e);return this.dd===e.dd&&this.Rd===e.Rd&&this.if.isEqual(e.if)&&(null===this.Ad?null===e.Ad:this.Ad.isEqual(e.Ad))&&this.rf===e.rf},t}(),Zs=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.data=function(e){return t.prototype.data.call(this,e)},e}(Xs);function Ys(t,e,n,r,i,o,s){var a;if(i.M()){if("array-contains"===o||"array-contains-any"===o)throw new N(O.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){ta(s,o);for(var u=[],c=0,l=s;c<l.length;c++)u.push(Qs(r,t,l[c]));a={arrayValue:{values:u}}}else a=Qs(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||ta(s,o),a=ks(n,e,s,"in"===o||"not-in"===o);var h=En.create(i,o,a);return function(t,e){if(e._n()){var n=t.ln();if(null!==n&&!n.isEqual(e.field))throw new N(O.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=t.un();null!==r&&ea(0,e.field,r)}var i=t.fn(function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new N(O.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}function Js(t,e,n){if(null!==t.startAt)throw new N(O.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new N(O.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Ln(e,n);return function(t,e){if(null===t.un()){var n=t.ln();null!==n&&ea(0,n,e.field)}}(t,r),r}function Qs(t,e,n){if("string"==typeof n){if(""===n)throw new N(O.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!hn(e)&&-1!==n.indexOf("/"))throw new N(O.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(L.k(n));if(!M.j(r))throw new N(O.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return jt(t,new M(r))}if(n instanceof bs)return jt(t,n.if);throw new N(O.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Xo(n)+".")}function ta(t,e){if(!Array.isArray(t)||0===t.length)throw new N(O.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new N(O.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.");if("in"===e||"array-contains-any"===e){if(t.indexOf(null)>=0)throw new N(O.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'null' in the value array.");if(t.filter((function(t){return Number.isNaN(t)})).length>0)throw new N(O.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'NaN' in the value array.")}}function ea(t,e,n){if(!n.isEqual(e))throw new N(O.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function na(t){if(t.cn()&&0===t.en.length)throw new N(O.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var ra=function(){function t(t,e,n){this.gd=t,this.firestore=e,this.rf=n}return t.prototype.where=function(e,n,r){var i;Mo("Query.where",arguments,3),Zo("Query.where",3,r),i="not-in"===n||"!="===n?n:Wo("Query.where",["<","<=","==",">=",">","array-contains","in","array-contains-any"],2,n);var o=Ps("Query.where",e),s=Ys(this.gd,"Query.where",this.firestore.rd,this.firestore.sf,o,i,r);return new t(function(t,e){var n=t.filters.concat([e]);return new un(t.path,t.collectionGroup,t.en.slice(),n,t.limit,t.nn,t.startAt,t.endAt)}(this.gd,s),this.firestore,this.rf)},t.prototype.orderBy=function(e,n){var r;if(Fo("Query.orderBy",arguments,1,2),Ho("Query.orderBy","non-empty string",2,n),void 0===n||"asc"===n)r="asc";else{if("desc"!==n)throw new N(O.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");r="desc"}var i=Ps("Query.orderBy",e),o=Js(this.gd,i,r);return new t(function(t,e){var n=t.en.concat([e]);return new un(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.nn,t.startAt,t.endAt)}(this.gd,o),this.firestore,this.rf)},t.prototype.limit=function(e){return Mo("Query.limit",arguments,1),qo("Query.limit","number",1,e),Qo("Query.limit",1,e),new t(pn(this.gd,e,"F"),this.firestore,this.rf)},t.prototype.limitToLast=function(e){return Mo("Query.limitToLast",arguments,1),qo("Query.limitToLast","number",1,e),Qo("Query.limitToLast",1,e),new t(pn(this.gd,e,"L"),this.firestore,this.rf)},t.prototype.startAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];jo("Query.startAt",arguments,1);var i=this.Vd("Query.startAt",e,n,!0);return new t(gn(this.gd,i),this.firestore,this.rf)},t.prototype.startAfter=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];jo("Query.startAfter",arguments,1);var i=this.Vd("Query.startAfter",e,n,!1);return new t(gn(this.gd,i),this.firestore,this.rf)},t.prototype.endBefore=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];jo("Query.endBefore",arguments,1);var i=this.Vd("Query.endBefore",e,n,!0);return new t(vn(this.gd,i),this.firestore,this.rf)},t.prototype.endAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];jo("Query.endAt",arguments,1);var i=this.Vd("Query.endAt",e,n,!1);return new t(vn(this.gd,i),this.firestore,this.rf)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw Jo("isEqual","Query",1,e);return this.firestore===e.firestore&&mn(this.gd,e.gd)&&this.rf===e.rf},t.prototype.withConverter=function(e){return new t(this.gd,this.firestore,e)},t.prototype.Vd=function(t,e,n,r){if(Zo(t,1,e),e instanceof Xs)return Mo(t,i.__spreadArrays([e],n),1),function(t,e,n,r,i){if(!r)throw new N(O.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=fn(t);s<a.length;s++){var u=a[s];if(u.field.M())o.push(jt(e,r.key));else{var c=r.field(u.field);if(Ct(c))throw new N(O.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.F();throw new N(O.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new Nn(o,i)}(this.gd,this.firestore.sf,t,e.Ad,r);var o=[e].concat(n);return function(t,e,n,r,i,o){var s=t.en;if(i.length>s.length)throw new N(O.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(s[u].field.M()){if("string"!=typeof c)throw new N(O.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!hn(t)&&-1!==c.indexOf("/"))throw new N(O.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(L.k(c));if(!M.j(l))throw new N(O.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new M(l);a.push(jt(e,h))}else{var f=ks(n,r,c);a.push(f)}}return new Nn(a,o)}(this.gd,this.firestore.sf,this.firestore.rd,t,o,r)},t.prototype.onSnapshot=function(){for(var t,e,n,r=this,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];Fo("Query.onSnapshot",arguments,1,4);var s={},a=0;if("object"!=typeof i[a]||Lo(i[a])||(Yo("Query.onSnapshot",s=i[a],["includeMetadataChanges"]),zo("Query.onSnapshot","boolean","includeMetadataChanges",s.includeMetadataChanges),a++),Lo(i[a])){var u=i[a];i[a]=null===(t=u.next)||void 0===t?void 0:t.bind(u),i[a+1]=null===(e=u.error)||void 0===e?void 0:e.bind(u),i[a+2]=null===(n=u.complete)||void 0===n?void 0:n.bind(u)}else qo("Query.onSnapshot","function",a,i[a]),Ho("Query.onSnapshot","function",a+1,i[a+1]),Ho("Query.onSnapshot","function",a+2,i[a+2]);var c={next:function(t){i[a]&&i[a](new ia(r.firestore,r.gd,t,r.rf))},error:i[a+1],complete:i[a+2]};return na(this.gd),this.firestore.Xf().listen(this.gd,s,c)},t.prototype.get=function(t){var e=this;Fo("Query.get",arguments,0,1),ua("Query.get",t),na(this.gd);var n=this.firestore.Xf();return(t&&"cache"===t.source?n.xf(this.gd):n.Of(this.gd,t)).then((function(t){return new ia(e.firestore,e.gd,t,e.rf)}))},t}(),ia=function(){function t(t,e,n,r){this.dd=t,this.yd=e,this.pd=n,this.rf=r,this.bd=null,this.vd=null,this.metadata=new Ks(n.hasPendingWrites,n.fromCache)}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this.pd.docs._()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.pd.docs.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;Fo("QuerySnapshot.forEach",arguments,1,2),qo("QuerySnapshot.forEach","function",1,t),this.pd.docs.forEach((function(r){t.call(e,n.Sd(r,n.metadata.fromCache,n.pd.qt.has(r.key)))}))},Object.defineProperty(t.prototype,"query",{get:function(){return new ra(this.yd,this.dd,this.rf)},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){t&&(Yo("QuerySnapshot.docChanges",t,["includeMetadataChanges"]),zo("QuerySnapshot.docChanges","boolean","includeMetadataChanges",t.includeMetadataChanges));var e=!(!t||!t.includeMetadataChanges);if(e&&this.pd.Ut)throw new N(O.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.bd&&this.vd===e||(this.bd=function(t,e,n){if(t.Lt._()){var r=0;return t.docChanges.map((function(e){return{type:"added",doc:n(e.doc,t.fromCache,t.qt.has(e.doc.key)),oldIndex:-1,newIndex:r++}}))}var i=t.Lt;return t.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var r=n(e.doc,t.fromCache,t.qt.has(e.doc.key)),o=-1,s=-1;return 0!==e.type&&(o=i.indexOf(e.doc.key),i=i.delete(e.doc.key)),1!==e.type&&(s=(i=i.add(e.doc)).indexOf(e.doc.key)),{type:la(e.type),doc:r,oldIndex:o,newIndex:s}}))}(this.pd,e,this.Sd.bind(this)),this.vd=e),this.bd},t.prototype.isEqual=function(e){if(!(e instanceof t))throw Jo("isEqual","QuerySnapshot",1,e);return this.dd===e.dd&&mn(this.yd,e.yd)&&this.pd.isEqual(e.pd)&&this.rf===e.rf},t.prototype.Sd=function(t,e,n){return new Zs(this.dd,t.key,t,e,n,this.rf)},t}(),oa=function(t){function e(e,n,r){var i=this;if((i=t.call(this,ln(e),n,r)||this).Dd=e,e.length%2!=1)throw new N(O.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e.F()+" has "+e.length);return i}return i.__extends(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.gd.path.S()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.gd.path.p();return t._()?null:new $s(new M(t),this.firestore,null)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.gd.path.F()},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){Fo("CollectionReference.doc",arguments,0,1),0===arguments.length&&(t=w.t()),qo("CollectionReference.doc","non-empty string",1,t);var e=L.k(t);return $s._d(this.gd.path.child(e),this.firestore,this.rf)},e.prototype.add=function(t){Mo("CollectionReference.add",arguments,1),qo("CollectionReference.add","object",1,this.rf?this.rf.toFirestore(t):t);var e=this.doc();return e.set(t).then((function(){return e}))},e.prototype.withConverter=function(t){return new e(this.Dd,this.firestore,t)},e}(ra);function sa(t,e){if(void 0===e)return{merge:!1};if(Yo(t,e,["merge","mergeFields"]),zo(t,"boolean","merge",e.merge),function(t,e,n,r,i){void 0!==r&&function(t,e,n,r,i){if(!(r instanceof Array))throw new N(O.INVALID_ARGUMENT,"Function "+t+"() requires its "+e+" option to be an array, but it was: "+Xo(r));for(var o=0;o<r.length;++o)if(!i(r[o]))throw new N(O.INVALID_ARGUMENT,"Function "+t+"() requires all "+e+" elements to be a string or a FieldPath, but the value at index "+o+" was: "+Xo(r[o]))}(t,"mergeFields",0,r,(function(t){return"string"==typeof t||t instanceof ss}))}(t,0,0,e.mergeFields),void 0!==e.mergeFields&&void 0!==e.merge)throw new N(O.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function aa(t,e){return void 0===e?{}:(Yo(t,e,["serverTimestamps"]),Go(t,0,"serverTimestamps",e.serverTimestamps,["estimate","previous","none"]),e)}function ua(t,e){Ho(t,"object",1,e),e&&(Yo(t,e,["source"]),Go(t,0,"source",e.source,["default","server","cache"]))}function ca(t,e,n){if(e instanceof bs){if(e.firestore!==n)throw new N(O.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}throw Jo(t,"DocumentReference",1,e)}function la(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return v()}}function ha(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var fa={Firestore:zs,GeoPoint:ms,Timestamp:R,Blob:is,Transaction:Gs,WriteBatch:Ws,DocumentReference:$s,DocumentSnapshot:Xs,Query:ra,QueryDocumentSnapshot:Zs,QuerySnapshot:ia,CollectionReference:oa,FieldPath:ss,FieldValue:gs,setLogLevel:zs.setLogLevel,CACHE_SIZE_UNLIMITED:Hs};function da(t){!function(t,e){t.INTERNAL.registerComponent(new c.Component("firestore",(function(t){return function(t,e){var n=new Do,r=new Po(n);return new zs(t,e,r,n)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},fa)))}(t),t.registerVersion("@firebase/firestore","1.16.5")}da(o),e.__PRIVATE_registerFirestore=da},LOEa:function(t,e,n){(function(){var t,e=n("wj3C").default,r="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},i=function(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,t];for(var e=0;e<t.length;++e){var n=t[e];if(n&&n.Math==Math)return n}return globalThis}(this);function o(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function s(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:o(t)}}!function(t,e){if(e){var n=i;t=t.split(".");for(var o=0;o<t.length-1;o++){var s=t[o];s in n||(n[s]={}),n=n[s]}(e=e(o=n[t=t[t.length-1]]))!=o&&null!=e&&r(n,t,{configurable:!0,writable:!0,value:e})}}("Promise",(function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(n){e.reject(n)}}function n(){this.a=null}function r(t){return t instanceof e?t:new e((function(e){e(t)}))}if(t)return t;n.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c((function(){e.g()}))}this.a.push(t)};var o=i.setTimeout;n.prototype.c=function(t){o(t,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(r){this.f(r)}}}this.a=null},n.prototype.f=function(t){this.c((function(){throw t}))},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.m),reject:t(this.g)}},e.prototype.m=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.s(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.u(t):this.h(t)}},e.prototype.u=function(t){var e=void 0;try{e=t.then}catch(n){return void this.g(n)}"function"==typeof e?this.w(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)a.b(this.a[t]);this.a=null}};var a=new n;return e.prototype.s=function(t){var e=this.f();t.Oa(e.resolve,e.reject)},e.prototype.w=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(r){n.reject(r)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(n){o(n)}}:e}var i,o,s=new e((function(t,e){i=t,o=e}));return this.Oa(r(t,i),r(n,o)),s},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Oa=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?a.b(n):this.a.push(n)},e.resolve=r,e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var i=s(t),o=i.next();!o.done;o=i.next())r(o.value).Oa(e,n)}))},e.all=function(t){var n=s(t),i=n.next();return i.done?r([]):new e((function(t,e){function o(e){return function(n){s[e]=n,0==--a&&t(s)}}var s=[],a=0;do{s.push(void 0),a++,r(i.value).Oa(o(s.length-1),e),i=n.next()}while(!i.done)}))},e}));var a=a||{},u=this||self,c=/^[\w+/_-]+[=]{0,2}$/,l=null;function h(){}function f(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function d(t){var e=f(t);return"array"==e||"object"==e&&"number"==typeof t.length}function p(t){return"function"==f(t)}function g(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function v(t){return Object.prototype.hasOwnProperty.call(t,m)&&t[m]||(t[m]=++y)}var m="closure_uid_"+(1e9*Math.random()>>>0),y=0;function b(t,e,n){return t.call.apply(t.bind,arguments)}function w(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function _(t,e,n){return(_=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?b:w).apply(null,arguments)}function E(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var I=Date.now||function(){return+new Date};function T(t,e){function n(){}n.prototype=e.prototype,t.Za=e.prototype,t.prototype=new n,t.prototype.constructor=t}function S(t,e,n){this.code=k+t,this.message=e||x[t]||"",this.a=n||null}function A(t){var e=t&&t.code;return e?new S(e.substring(k.length),t.message,t.serverResponse):null}T(S,Error),S.prototype.v=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},S.prototype.toJSON=function(){return this.v()};var C,k="auth/",x={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},O={hd:{Ra:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Xa:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},pd:{Ra:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Xa:"https://securetoken.googleapis.com/v1/token",Ua:"https://identitytoolkit.googleapis.com/v2/",id:"p"},rd:{Ra:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Xa:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},sd:{Ra:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Xa:"https://test-securetoken.sandbox.googleapis.com/v1/token",Ua:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function N(t){for(var e in O)if(O[e].id===t)return{firebaseEndpoint:(t=O[e]).Ra,secureTokenEndpoint:t.Xa,identityPlatformEndpoint:t.Ua};return null}function R(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(e){return!1}}function P(t){if(Error.captureStackTrace)Error.captureStackTrace(this,P);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function D(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");P.call(this,n+t[r])}function L(t,e){throw new D("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function V(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function U(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function M(){this.b=this.a=null}C=N("__EID__")?"__EID__":void 0,T(P,Error),P.prototype.name="CustomError",T(D,P),D.prototype.name="AssertionError",V.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var j=new V((function(){return new q}),(function(t){t.reset()}));function F(){var t=me,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function q(){this.next=this.b=this.a=null}M.prototype.add=function(t,e){var n=j.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},q.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},q.prototype.reset=function(){this.next=this.b=this.a=null};var H=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},B=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)},z=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=[],i=0,o="string"==typeof t?t.split(""):t,s=0;s<n;s++)if(s in o){var a=o[s];e.call(void 0,a,s,t)&&(r[i++]=a)}return r},G=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i="string"==typeof t?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},W=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function $(t,e){return 0<=H(t,e)}function K(t,e){var n;return(n=0<=(e=H(t,e)))&&Array.prototype.splice.call(t,e,1),n}function X(t,e){!function(t,e){for(var n="string"==typeof t?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,(function(n,r){e.call(void 0,n,r,t)&&Array.prototype.splice.call(t,r,1)}))}function Z(t){return Array.prototype.concat.apply([],arguments)}function Y(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}var J,Q=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},tt=/&/g,et=/</g,nt=/>/g,rt=/"/g,it=/'/g,ot=/\x00/g,st=/[\x00&<>"']/;function at(t,e){return-1!=t.indexOf(e)}function ut(t,e){return t<e?-1:t>e?1:0}t:{var ct=u.navigator;if(ct){var lt=ct.userAgent;if(lt){J=lt;break t}}J=""}function ht(t){return at(J,t)}function ft(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function dt(t){for(var e in t)return!1;return!0}function pt(t){var e,n={};for(e in t)n[e]=t[e];return n}var gt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function vt(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<gt.length;o++)n=gt[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function mt(t,e){t:{try{var n=t&&t.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||u).Element&&r.Location){var i=r;break t}}catch(s){}i=null}if(i&&void 0!==i[e]&&(!t||!(t instanceof i[e])&&(t instanceof i.Location||t instanceof i.Element))){if(g(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(s){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;L("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}function yt(t,e){this.a=t===_t&&e||"",this.b=wt}function bt(t){return t instanceof yt&&t.constructor===yt&&t.b===wt?t.a:(L("expected object of type Const, got '"+t+"'"),"type_error:Const")}yt.prototype.ra=!0,yt.prototype.qa=function(){return this.a},yt.prototype.toString=function(){return"Const{"+this.a+"}"};var wt={},_t={},Et=new yt(_t,"");function It(t,e){this.a=t===xt&&e||"",this.b=kt}function Tt(t){return t instanceof It&&t.constructor===It&&t.b===kt?t.a:(L("expected object of type TrustedResourceUrl, got '"+t+"' of type "+f(t)),"type_error:TrustedResourceUrl")}function St(t,e){var n=bt(t);if(!Ct.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return t=n.replace(At,(function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof yt?bt(t):encodeURIComponent(String(t))})),new It(xt,t)}It.prototype.ra=!0,It.prototype.qa=function(){return this.a.toString()},It.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var At=/%{(\w+)}/g,Ct=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,kt={},xt={};function Ot(t,e){this.a=t===Lt&&e||"",this.b=Dt}function Nt(t){return t instanceof Ot&&t.constructor===Ot&&t.b===Dt?t.a:(L("expected object of type SafeUrl, got '"+t+"' of type "+f(t)),"type_error:SafeUrl")}Ot.prototype.ra=!0,Ot.prototype.qa=function(){return this.a.toString()},Ot.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Rt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Pt(t){return t instanceof Ot?t:(t="object"==typeof t&&t.ra?t.qa():String(t),Rt.test(t)||(t="about:invalid#zClosurez"),new Ot(Lt,t))}var Dt={},Lt={};function Vt(){this.a="",this.b=Mt}function Ut(t){return t instanceof Vt&&t.constructor===Vt&&t.b===Mt?t.a:(L("expected object of type SafeHtml, got '"+t+"' of type "+f(t)),"type_error:SafeHtml")}Vt.prototype.ra=!0,Vt.prototype.qa=function(){return this.a.toString()},Vt.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Mt={};function jt(t){var e=new Vt;return e.a=t,e}jt("<!DOCTYPE html>");var Ft=jt("");function qt(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function Ht(t){return st.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(tt,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(et,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(nt,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(rt,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(it,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(ot,"&#0;"))),t}function Bt(t){return Bt[" "](t),t}jt("<br>"),Bt[" "]=h;var zt,Gt,Wt=ht("Opera"),$t=ht("Trident")||ht("MSIE"),Kt=ht("Edge"),Xt=Kt||$t,Zt=ht("Gecko")&&!(at(J.toLowerCase(),"webkit")&&!ht("Edge"))&&!(ht("Trident")||ht("MSIE"))&&!ht("Edge"),Yt=at(J.toLowerCase(),"webkit")&&!ht("Edge");function Jt(){var t=u.document;return t?t.documentMode:void 0}t:{var Qt="",te=(Gt=J,Zt?/rv:([^\);]+)(\)|;)/.exec(Gt):Kt?/Edge\/([\d\.]+)/.exec(Gt):$t?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Gt):Yt?/WebKit\/(\S+)/.exec(Gt):Wt?/(?:Version)[ \/]?(\S+)/.exec(Gt):void 0);if(te&&(Qt=te?te[1]:""),$t){var ee=Jt();if(null!=ee&&ee>parseFloat(Qt)){zt=String(ee);break t}}zt=Qt}var ne,re={};function ie(t){return function(t,e){var n=re;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=Q(String(zt)).split("."),r=Q(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=ut(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||ut(0==s[2].length,0==a[2].length)||ut(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e}))}ne=u.document&&$t?Jt():void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(Gt){}var oe=!$t||9<=Number(ne);function se(t){var e=document;return"string"==typeof t?e.getElementById(t):t}function ae(t,e){ft(e,(function(e,n){e&&"object"==typeof e&&e.ra&&(e=e.qa()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:le.hasOwnProperty(n)?t.setAttribute(le[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e}))}var ue,ce,le={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function he(t,e,n){function r(n){n&&e.appendChild("string"==typeof n?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];!d(o)||g(o)&&0<o.nodeType?r(o):B(de(o)?Y(o):o,r)}}function fe(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function de(t){if(t&&"number"==typeof t.length){if(g(t))return"function"==typeof t.item||"string"==typeof t.item;if(p(t))return"function"==typeof t.item}return!1}function pe(t){u.setTimeout((function(){throw t}),0)}function ge(t,e){ce||function(){if(u.Promise&&u.Promise.resolve){var t=u.Promise.resolve(void 0);ce=function(){t.then(ye)}}else ce=function(){var t=ye;!p(u.setImmediate)||u.Window&&u.Window.prototype&&!ht("Edge")&&u.Window.prototype.setImmediate==u.setImmediate?(ue||(ue=function(){var t=u.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!ht("Presto")&&(t=function(){var t=fe(document,"IFRAME");t.style.display="none",function(t){var e=new It(xt,bt(Et));mt(t,"HTMLIFrameElement"),t.src=Tt(e).toString()}(t),document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.write(Ut(Ft)),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=_((function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()}),this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0!==t&&!ht("Trident")&&!ht("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).Db;n.Db=null,t()}},function(t){r.next={Db:t},r=r.next,e.port2.postMessage(0)}}return function(t){u.setTimeout(t,0)}}()),ue(t)):u.setImmediate(t)}}(),ve||(ce(),ve=!0),me.add(t,e)}var ve=!1,me=new M;function ye(){for(var t;t=F();){try{t.a.call(t.b)}catch(e){pe(e)}U(j,t)}ve=!1}function be(t,e){if(this.a=we,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=h)try{var n=this;t.call(e,(function(t){Re(n,_e,t)}),(function(t){if(!(t instanceof je))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(e){}Re(n,Ee,t)}))}catch(r){Re(this,Ee,r)}}var we=0,_e=2,Ee=3;function Ie(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Ie.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Te=new V((function(){return new Ie}),(function(t){t.reset()}));function Se(t,e,n){var r=Te.get();return r.g=t,r.b=e,r.f=n,r}function Ae(t){if(t instanceof be)return t;var e=new be(h);return Re(e,_e,t),e}function Ce(t){return new be((function(e,n){n(t)}))}function ke(t,e,n){Pe(t,e,n,null)||ge(E(e,t))}function xe(t){return new be((function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Mb:!0,value:o}:{Mb:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)ke(t[o],E(i,o,!0),E(i,o,!1));else e(r)}))}function Oe(t,e){t.b||t.a!=_e&&t.a!=Ee||De(t),t.f?t.f.next=e:t.b=e,t.f=e}function Ne(t,e,n,r){var i=Se(null,null,null);return i.a=new be((function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(s){o(s)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof je?o(e):t(i)}catch(s){o(s)}}:o})),i.a.c=t,Oe(t,i),i.a}function Re(t,e,n){t.a==we&&(t===n&&(e=Ee,n=new TypeError("Promise cannot resolve to itself")),t.a=1,Pe(n,t.Yc,t.Zc,t)||(t.i=n,t.a=e,t.c=null,De(t),e!=Ee||n instanceof je||function(t,e){t.g=!0,ge((function(){t.g&&Me.call(null,e)}))}(t,n)))}function Pe(t,e,n,r){if(t instanceof be)return Oe(t,Se(e||h,n||null,r)),!0;if(R(t))return t.then(e,n,r),!0;if(g(t))try{var i=t.then;if(p(i))return function(t,e,n,r,i){function o(t){s||(s=!0,r.call(i,t))}var s=!1;try{e.call(t,(function(t){s||(s=!0,n.call(i,t))}),o)}catch(a){o(a)}}(t,i,e,n,r),!0}catch(o){return n.call(r,o),!0}return!1}function De(t){t.h||(t.h=!0,ge(t.ec,t))}function Le(t){var e=null;return t.b&&(t.b=(e=t.b).next,e.next=null),t.b||(t.f=null),e}function Ve(t,e,n,r){if(n==Ee&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,Ue(e,n,r);else try{e.c?e.g.call(e.f):Ue(e,n,r)}catch(i){Me.call(null,i)}U(Te,e)}function Ue(t,e,n){e==_e?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}be.prototype.then=function(t,e,n){return Ne(this,p(t)?t:null,p(e)?e:null,n)},be.prototype.$goog_Thenable=!0,(t=be.prototype).ma=function(t,e){return(t=Se(t,t,e)).c=!0,Oe(this,t),this},t.o=function(t,e){return Ne(this,null,t,e)},t.cancel=function(t){if(this.a==we){var e=new je(t);ge((function(){!function t(e,n){if(e.a==we)if(e.c){var r=e.c;if(r.b){for(var i=0,o=null,s=null,a=r.b;a&&(a.c||(i++,a.a==e&&(o=a),!(o&&1<i)));a=a.next)o||(s=a);o&&(r.a==we&&1==i?t(r,n):(s?((i=s).next==r.f&&(r.f=i),i.next=i.next.next):Le(r),Ve(r,o,Ee,n)))}e.c=null}else Re(e,Ee,n)}(this,e)}),this)}},t.Yc=function(t){this.a=we,Re(this,_e,t)},t.Zc=function(t){this.a=we,Re(this,Ee,t)},t.ec=function(){for(var t;t=Le(this);)Ve(this,t,this.a,this.i);this.h=!1};var Me=pe;function je(t){P.call(this,t)}function Fe(){0!=qe&&(He[v(this)]=this),this.wa=this.wa,this.na=this.na}T(je,P),je.prototype.name="cancel";var qe=0,He={};function Be(t){if(!t.wa&&(t.wa=!0,t.Ba(),0!=qe)){var e=v(t);if(0!=qe&&t.na&&0<t.na.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete He[e]}}Fe.prototype.wa=!1,Fe.prototype.Ba=function(){if(this.na)for(;this.na.length;)this.na.shift()()};var ze=Object.freeze||function(t){return t},Ge=!$t||9<=Number(ne),We=$t&&!ie("9"),$e=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{u.addEventListener("test",h,e),u.removeEventListener("test",h,e)}catch(n){}return t}();function Ke(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function Xe(t,e){if(Ke.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Zt){t:{try{Bt(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Ze[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}Ke.prototype.preventDefault=function(){this.defaultPrevented=!0},T(Xe,Ke);var Ze=ze({2:"touch",3:"pen",4:"mouse"});Xe.prototype.preventDefault=function(){Xe.Za.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,We)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}},Xe.prototype.f=function(){return this.a};var Ye="closure_listenable_"+(1e6*Math.random()|0),Je=0;function Qe(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Ta=i,this.key=++Je,this.ua=this.Na=!1}function tn(t){t.ua=!0,t.listener=null,t.proxy=null,t.src=null,t.Ta=null}function en(t){this.src=t,this.a={},this.b=0}function nn(t,e){var n=e.type;n in t.a&&K(t.a[n],e)&&(tn(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function rn(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.ua&&o.listener==e&&o.capture==!!n&&o.Ta==r)return i}return-1}en.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=rn(t,e,r,i);return-1<s?(e=t[s],n||(e.Na=!1)):((e=new Qe(e,this.src,o,!!r,i)).Na=n,t.push(e)),e};var on="closure_lm_"+(1e6*Math.random()|0),sn={};function an(t,e,n,r,i){if(r&&r.once)cn(t,e,n,r,i);else if(Array.isArray(e))for(var o=0;o<e.length;o++)an(t,e[o],n,r,i);else n=yn(n),t&&t[Ye]?wn(t,e,n,g(r)?!!r.capture:!!r,i):un(t,e,n,!1,r,i)}function un(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=g(i)?!!i.capture:!!i,a=vn(t);if(a||(t[on]=a=new en(t)),!(n=a.add(e,n,r,s,o)).proxy)if(r=function(){var t=gn,e=Ge?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)$e||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(fn(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}}function cn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)cn(t,e[o],n,r,i);else n=yn(n),t&&t[Ye]?_n(t,e,n,g(r)?!!r.capture:!!r,i):un(t,e,n,!0,r,i)}function ln(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)ln(t,e[o],n,r,i);else r=g(r)?!!r.capture:!!r,n=yn(n),t&&t[Ye]?(t=t.u,(e=String(e).toString())in t.a&&-1<(n=rn(o=t.a[e],n,r,i))&&(tn(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=vn(t))&&(e=t.a[e.toString()],t=-1,e&&(t=rn(e,n,r,i)),(n=-1<t?e[t]:null)&&hn(n))}function hn(t){if("number"!=typeof t&&t&&!t.ua){var e=t.src;if(e&&e[Ye])nn(e.u,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(fn(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=vn(e))?(nn(n,t),0==n.b&&(n.src=null,e[on]=null)):tn(t)}}}function fn(t){return t in sn?sn[t]:sn[t]="on"+t}function dn(t,e,n,r){var i=!0;if((t=vn(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.ua&&(o=pn(o,r),i=i&&!1!==o)}return i}function pn(t,e){var n=t.listener,r=t.Ta||t.src;return t.Na&&hn(t),n.call(r,e)}function gn(t,e){if(t.ua)return!0;if(!Ge){if(!e)t:{e=["window","event"];for(var n=u,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new Xe(r=e,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(s){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=dn(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=dn(r[i],t,!1,e),n=n&&o}return n}return pn(t,new Xe(e,this))}function vn(t){return(t=t[on])instanceof en?t:null}var mn="__closure_events_fn_"+(1e9*Math.random()>>>0);function yn(t){return p(t)?t:(t[mn]||(t[mn]=function(e){return t.handleEvent(e)}),t[mn])}function bn(){Fe.call(this),this.u=new en(this),this.Yb=this,this.eb=null}function wn(t,e,n,r,i){t.u.add(String(e),n,!1,r,i)}function _n(t,e,n,r,i){t.u.add(String(e),n,!0,r,i)}function En(t,e,n,r){if(!(e=t.u.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.ua&&s.capture==n){var a=s.listener,u=s.Ta||s.src;s.Na&&nn(t.u,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}function In(t,e,n){if(p(t))n&&(t=_(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=_(t.handleEvent,t)}return 2147483647<Number(e)?-1:u.setTimeout(t,e||0)}function Tn(t){var e=null;return new be((function(n,r){-1==(e=In((function(){n(void 0)}),t))&&r(Error("Failed to schedule timer."))})).o((function(t){throw u.clearTimeout(e),t}))}function Sn(t){if(t.V&&"function"==typeof t.V)return t.V();if("string"==typeof t)return t.split("");if(d(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function An(t){if(t.X&&"function"==typeof t.X)return t.X();if(!t.V||"function"!=typeof t.V){if(d(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function Cn(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Cn)for(n=t.X(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function kn(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];xn(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)xn(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function xn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}T(bn,Fe),bn.prototype[Ye]=!0,bn.prototype.addEventListener=function(t,e,n,r){an(this,t,e,n,r)},bn.prototype.removeEventListener=function(t,e,n,r){ln(this,t,e,n,r)},bn.prototype.dispatchEvent=function(t){var e,n=this.eb;if(n)for(e=[];n;n=n.eb)e.push(n);n=this.Yb;var r=t.type||t;if("string"==typeof t)t=new Ke(t,n);else if(t instanceof Ke)t.target=t.target||n;else{var i=t;vt(t=new Ke(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var s=t.b=e[o];i=En(s,r,!0,t)&&i}if(i=En(s=t.b=n,r,!0,t)&&i,i=En(s,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=En(s=t.b=e[o],r,!1,t)&&i;return i},bn.prototype.Ba=function(){if(bn.Za.Ba.call(this),this.u){var t,e=this.u;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)tn(n[r]);delete e.a[t],e.b--}}this.eb=null},(t=Cn.prototype).V=function(){kn(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.X=function(){return kn(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return xn(this.b,t)?this.b[t]:e},t.set=function(t,e){xn(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.X(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var On=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/\\#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Nn(t,e){var n;this.b=this.i=this.f="",this.l=null,this.g=this.c="",this.h=!1,t instanceof Nn?(this.h=void 0!==e?e:t.h,Rn(this,t.f),this.i=t.i,this.b=t.b,Pn(this,t.l),this.c=t.c,Dn(this,Qn(t.a)),this.g=t.g):t&&(n=String(t).match(On))?(this.h=!!e,Rn(this,n[1]||"",!0),this.i=jn(n[2]||""),this.b=jn(n[3]||"",!0),Pn(this,n[4]),this.c=jn(n[5]||"",!0),Dn(this,n[6]||"",!0),this.g=jn(n[7]||"")):(this.h=!!e,this.a=new $n(null,this.h))}function Rn(t,e,n){t.f=n?jn(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Pn(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.l=e}else t.l=null}function Dn(t,e,n){e instanceof $n?(t.a=e,function(t,e){e&&!t.f&&(Kn(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Zn(this,e),Jn(this,n,t))}),t)),t.f=e}(t.a,t.h)):(n||(e=Fn(e,Gn)),t.a=new $n(e,t.h))}function Ln(t,e,n){t.a.set(e,n)}function Vn(t,e){return t.a.get(e)}function Un(t){return t instanceof Nn?new Nn(t):new Nn(t,void 0)}function Mn(t,e){var n=new Nn(null,void 0);return Rn(n,"https"),t&&(n.b=t),e&&(n.c=e),n}function jn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Fn(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,qn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function qn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Nn.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Fn(e,Hn,!0),":");var n=this.b;return(n||"file"==e)&&(t.push("//"),(e=this.i)&&t.push(Fn(e,Hn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.l)&&t.push(":",String(n))),(n=this.c)&&(this.b&&"/"!=n.charAt(0)&&t.push("/"),t.push(Fn(n,"/"==n.charAt(0)?zn:Bn,!0))),(n=this.a.toString())&&t.push("?",n),(n=this.g)&&t.push("#",Fn(n,Wn)),t.join("")},Nn.prototype.resolve=function(t){var e=new Nn(this),n=!!t.f;n?Rn(e,t.f):n=!!t.i,n?e.i=t.i:n=!!t.b,n?e.b=t.b:n=null!=t.l;var r=t.c;if(n)Pn(e,t.l);else if(n=!!t.c){if("/"!=r.charAt(0))if(this.b&&!this.c)r="/"+r;else{var i=e.c.lastIndexOf("/");-1!=i&&(r=e.c.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(at(i,"./")||at(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],s=0;s<i.length;){var a=i[s++];"."==a?r&&s==i.length&&o.push(""):".."==a?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&s==i.length&&o.push("")):(o.push(a),r=!0)}r=o.join("/")}else r=i}return n?e.c=r:n=""!==t.a.toString(),n?Dn(e,Qn(t.a)):n=!!t.g,n&&(e.g=t.g),e};var Hn=/[#\/\?@]/g,Bn=/[#\?:]/g,zn=/[#\?]/g,Gn=/[#\?@]/g,Wn=/#/g;function $n(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Kn(t){t.a||(t.a=new Cn,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Xn(t){var e=An(t);if(void 0===e)throw Error("Keys are undefined");var n=new $n(null,void 0);t=Sn(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];Array.isArray(o)?Jn(n,i,o):n.add(i,o)}return n}function Zn(t,e){Kn(t),e=tr(t,e),xn(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,xn((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&kn(t)))}function Yn(t,e){return Kn(t),e=tr(t,e),xn(t.a.b,e)}function Jn(t,e,n){Zn(t,e),0<n.length&&(t.c=null,t.a.set(tr(t,e),Y(n)),t.b+=n.length)}function Qn(t){var e=new $n;return e.c=t.c,t.a&&(e.a=new Cn(t.a),e.b=t.b),e}function tr(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function er(t){var e=[];return function t(e,n,r){if(null==n)r.push("null");else{if("object"==typeof n){if(Array.isArray(n)){var i=n;n=i.length,r.push("[");for(var o="",s=0;s<n;s++)r.push(o),t(e,i[s],r),o=",";return void r.push("]")}if(!(n instanceof String||n instanceof Number||n instanceof Boolean)){for(i in r.push("{"),o="",n)Object.prototype.hasOwnProperty.call(n,i)&&"function"!=typeof(s=n[i])&&(r.push(o),or(i,r),r.push(":"),t(e,s,r),o=",");return void r.push("}")}n=n.valueOf()}switch(typeof n){case"string":or(n,r);break;case"number":r.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":r.push(String(n));break;case"function":r.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new nr,t,e),e.join("")}function nr(){}(t=$n.prototype).add=function(t,e){Kn(this),this.c=null,t=tr(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){Kn(this),this.a.forEach((function(n,r){B(n,(function(n){t.call(e,n,r,this)}),this)}),this)},t.X=function(){Kn(this);for(var t=this.a.V(),e=this.a.X(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},t.V=function(t){Kn(this);var e=[];if("string"==typeof t)Yn(this,t)&&(e=Z(e,this.a.get(tr(this,t))));else{t=this.a.V();for(var n=0;n<t.length;n++)e=Z(e,t[n])}return e},t.set=function(t,e){return Kn(this),this.c=null,Yn(this,t=tr(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t&&0<(t=this.V(t)).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.X(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.V(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var rr={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},ir=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function or(t,e){e.push('"',t.replace(ir,(function(t){var e=rr[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),rr[t]=e),e})),'"')}function sr(){var t=Sr();return $t&&!!ne&&11==ne||/Edge\/\d+/.test(t)}function ar(){return u.window&&u.window.location.href||self&&self.location&&self.location.href||""}function ur(t,e){e=e||u.window;var n="about:blank";t&&(n=Nt(Pt(t))),e.location.href=n}function cr(t){return!!((t=(t||Sr()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function lr(t){t=t||u.window;try{t.close()}catch(e){}}function hr(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(s in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Sr().toLowerCase(),r&&(e.target=r,at(n,"crios/")&&(e.target="_blank")),Er(Sr())==wr&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof Ot?n:Pt(void 0!==n.href?n.href:String(n)),n=t.target||n.target,i=[],t)switch(s){case"width":case"height":case"top":case"left":i.push(s+"="+t[s]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(s+"="+(t[s]?1:0))}var s=i.join(",");if((ht("iPhone")&&!ht("iPod")&&!ht("iPad")||ht("iPad")||ht("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(mt(s=fe(document,"A"),"HTMLAnchorElement"),e instanceof Ot||e instanceof Ot||(e="object"==typeof e&&e.ra?e.qa():String(e),Rt.test(e)||(e="about:invalid#zClosurez"),e=new Ot(Lt,e)),s.href=Nt(e),s.setAttribute("target",n),t.noreferrer&&s.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),s.dispatchEvent(t),s={}):t.noreferrer?(s=r.open("",n,s),t=Nt(e),s&&(Xt&&at(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),s.opener=null,t=jt('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Ht(t)+'">'),r=s.document)&&(r.write(Ut(t)),r.close())):(s=r.open(Nt(e),n,s))&&t.noopener&&(s.opener=null),s)try{s.focus()}catch(a){}return s}var fr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,dr=/^[^@]+@[^@]+$/;function pr(){var t=null;return new be((function(e){"complete"==u.document.readyState?e():(t=function(){e()},cn(window,"load",t))})).o((function(e){throw ln(window,"load",t),e}))}function gr(t){return t=t||Sr(),!("file:"!==Or()&&"ionic:"!==Or()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function vr(){var t=u.window;try{return!(!t||t==t.top)}catch(e){return!1}}function mr(){return void 0!==u.WorkerGlobalScope&&"function"==typeof u.importScripts}function yr(){return e.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":e.INTERNAL.hasOwnProperty("node")?"Node":mr()?"Worker":"Browser"}function br(){var t=yr();return"ReactNative"===t||"Node"===t}var wr="Firefox",_r="Chrome";function Er(t){var e=t.toLowerCase();return at(e,"opera/")||at(e,"opr/")||at(e,"opios/")?"Opera":at(e,"iemobile")?"IEMobile":at(e,"msie")||at(e,"trident/")?"IE":at(e,"edge/")?"Edge":at(e,"firefox/")?wr:at(e,"silk/")?"Silk":at(e,"blackberry")?"Blackberry":at(e,"webos")?"Webos":!at(e,"safari/")||at(e,"chrome/")||at(e,"crios/")||at(e,"android")?!at(e,"chrome/")&&!at(e,"crios/")||at(e,"edge/")?at(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":_r:"Safari"}var Ir={jd:"FirebaseCore-web",ld:"FirebaseUI-web"};function Tr(t,e){e=e||[];var n,r=[],i={};for(n in Ir)i[Ir[n]]=!0;for(n=0;n<e.length;n++)void 0!==i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=yr())?r=Er(i=Sr()):"Worker"===r&&(r=Er(i=Sr())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function Sr(){return u.navigator&&u.navigator.userAgent||""}function Ar(t,e){t=t.split("."),e=e||u;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function Cr(){try{var t=u.localStorage,e=Lr();if(t)return t.setItem(e,"1"),t.removeItem(e),!sr()||!!u.indexedDB}catch(n){return mr()&&!!u.indexedDB}return!1}function kr(){return(xr()||"chrome-extension:"===Or()||gr())&&!br()&&Cr()&&!mr()}function xr(){return"http:"===Or()||"https:"===Or()}function Or(){return u.location&&u.location.protocol||null}function Nr(t){return!cr(t=t||Sr())&&Er(t)!=wr}function Rr(t){return void 0===t?null:er(t)}function Pr(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!=t[e]&&(n[e]=t[e]);return n}function Dr(t){if(null!==t)return JSON.parse(t)}function Lr(t){return t||Math.floor(1e9*Math.random()).toString()}function Vr(t){return"Safari"!=Er(t=t||Sr())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function Ur(){var t=u.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function Mr(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=Sr(),e=yr(),this.b=cr(t)||"ReactNative"===e}function jr(){var t=u.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function Fr(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(n){}return null}function qr(){return!(!Ar("fireauth.oauthhelper",u)&&!Ar("fireauth.iframe",u))}Mr.prototype.get=function(){var t=u.navigator;return!t||"boolean"!=typeof t.onLine||!xr()&&"chrome-extension:"!==Or()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Hr,Br={};function zr(t){Br[t]||(Br[t]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t))}try{var Gr={};Object.defineProperty(Gr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Gr,"abcd",{configurable:!0,enumerable:!0,value:2}),Hr=2==Gr.abcd}catch(Gt){Hr=!1}function Wr(t,e,n){Hr?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function $r(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Wr(t,n,e[n])}function Kr(t){var e={};return $r(e,t),e}function Xr(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Wr(e,n,Xr(t[n]));return e}function Zr(t){var e=t&&(t[ei]?"phone":null);if(!(e&&t&&t[ti]))throw new S("internal-error","Internal assert: invalid MultiFactorInfo object");Wr(this,"uid",t[ti]),Wr(this,"displayName",t[Jr]||null);var n=null;t[Qr]&&(n=new Date(t[Qr]).toUTCString()),Wr(this,"enrollmentTime",n),Wr(this,"factorId",e)}function Yr(t){try{var e=new ni(t)}catch(n){e=null}return e}Zr.prototype.v=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var Jr="displayName",Qr="enrolledAt",ti="mfaEnrollmentId",ei="phoneInfo";function ni(t){Zr.call(this,t),Wr(this,"phoneNumber",t[ei])}function ri(t){var e={},n=t[ai],r=t[ci],i=t[li];if(t=Yr(t[ui]),!i||i!=oi&&i!=si&&!n||i==si&&!r||i==ii&&!t)throw Error("Invalid checkActionCode response!");i==si?(e[fi]=n||null,e[pi]=n||null,e[hi]=r):(e[fi]=r||null,e[pi]=r||null,e[hi]=n||null),e[di]=t||null,Wr(this,vi,i),Wr(this,gi,Xr(e))}T(ni,Zr),ni.prototype.v=function(){var t=ni.Za.v.call(this);return t.phoneNumber=this.phoneNumber,t};var ii="REVERT_SECOND_FACTOR_ADDITION",oi="EMAIL_SIGNIN",si="VERIFY_AND_CHANGE_EMAIL",ai="email",ui="mfaInfo",ci="newEmail",li="requestType",hi="email",fi="fromEmail",di="multiFactorInfo",pi="previousEmail",gi="data",vi="operation";function mi(t){var e=Vn(t=Un(t),yi)||null,n=Vn(t,bi)||null,r=Vn(t,Ei)||null;if(r=r&&Ti[r]||null,!e||!n||!r)throw new S("argument-error",yi+", "+bi+"and "+Ei+" are required in a valid action code URL.");$r(this,{apiKey:e,operation:r,code:n,continueUrl:Vn(t,wi)||null,languageCode:Vn(t,_i)||null,tenantId:Vn(t,Ii)||null})}var yi="apiKey",bi="oobCode",wi="continueUrl",_i="languageCode",Ei="mode",Ii="tenantId",Ti={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:ii,signIn:oi,verifyAndChangeEmail:si,verifyEmail:"VERIFY_EMAIL"};function Si(t){try{return new mi(t)}catch(e){return null}}function Ai(t){var e=t[Ni];if(void 0===e)throw new S("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new S("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[Ci];if(n&&"object"==typeof n){e=n[Di];var r=n[Ri];if(n=n[Pi],"string"==typeof e&&e.length){if(this.a=e,void 0!==r&&"boolean"!=typeof r)throw new S("argument-error",Ri+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new S("argument-error",Pi+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==e)throw new S("argument-error",Di+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new S("missing-android-pkg-name")}}else if(void 0!==n)throw new S("argument-error",Ci+" property must be a non null object when specified.");if(this.f=null,(e=t[Oi])&&"object"==typeof e){if("string"==typeof(e=e[Li])&&e.length)this.f=e;else if(void 0!==e)throw new S("argument-error",Li+" property must be a non empty string when specified.")}else if(void 0!==e)throw new S("argument-error",Oi+" property must be a non null object when specified.");if(void 0!==(e=t[xi])&&"boolean"!=typeof e)throw new S("argument-error",xi+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[ki])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new S("argument-error",ki+" property must be a non empty string when specified.");this.i=t||null}var Ci="android",ki="dynamicLinkDomain",xi="handleCodeInApp",Oi="iOS",Ni="url",Ri="installApp",Pi="minimumVersion",Di="packageName",Li="bundleId";function Vi(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var Ui=null;function Mi(t){var e=Fi(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.g=t,this.c=e.exp,this.h=e.sub,I(),this.a=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.b=!!e.is_anonymous||"anonymous"==this.a}function ji(t){try{return new Mi(t)}catch(e){return null}}function Fi(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{return JSON.parse(function(t){var e="";return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=Ui[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!Ui){Ui={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=t.concat(e[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Ui[o]&&(Ui[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),s=n(64),a=n(64);if(64===a&&-1===i)break;e(i<<2|o>>4),64!=s&&(e(o<<4&240|s>>2),64!=a&&e(s<<6&192|a))}}(t,(function(t){e+=String.fromCharCode(t)})),e}(t))}catch(r){}return null}Mi.prototype.S=function(){return this.f},Mi.prototype.i=function(){return this.b},Mi.prototype.toString=function(){return this.g};var qi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Hi=["client_id","response_type","scope","redirect_uri","state"],Bi={kd:{Ha:"locale",ta:700,sa:600,ea:"facebook.com",Va:Hi},md:{Ha:null,ta:500,sa:750,ea:"github.com",Va:Hi},nd:{Ha:"hl",ta:515,sa:680,ea:"google.com",Va:Hi},td:{Ha:"lang",ta:485,sa:705,ea:"twitter.com",Va:qi},gd:{Ha:"locale",ta:640,sa:600,ea:"apple.com",Va:[]}};function zi(t){for(var e in Bi)if(Bi[e].ea==t)return Bi[e];return null}function Gi(t){var e={};e["facebook.com"]=Zi,e["google.com"]=Ji,e["github.com"]=Yi,e["twitter.com"]=Qi;var n=t&&t[$i];try{if(n)return e[n]?new e[n](t):new Xi(t);if(void 0!==t[Wi])return new Ki(t)}catch(r){}return null}var Wi="idToken",$i="providerId";function Ki(t){var e=t[$i];if(!e&&t[Wi]){var n=ji(t[Wi]);n&&n.a&&(e=n.a)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),Wr(this,"providerId",e),Wr(this,"isNewUser",n)}function Xi(t){Ki.call(this,t),Wr(this,"profile",Xr((t=Dr(t.rawUserInfo||"{}"))||{}))}function Zi(t){if(Xi.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function Yi(t){if(Xi.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Wr(this,"username",this.profile&&this.profile.login||null)}function Ji(t){if(Xi.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function Qi(t){if(Xi.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Wr(this,"username",t.screenName||null)}function to(t){var e=Un(t),n=Vn(e,"link"),r=Vn(Un(n),"link");return e=Vn(e,"deep_link_id"),Vn(Un(e),"link")||e||r||n||t}function eo(t,e){if(!t&&!e)throw new S("internal-error","Internal assert: no raw session string available");if(t&&e)throw new S("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?no:ro}T(Xi,Ki),T(Zi,Xi),T(Yi,Xi),T(Ji,Xi),T(Qi,Xi);var no="enroll",ro="signin";function io(){}function oo(t,e){return t.then((function(t){if(t[Gs]){var n=ji(t[Gs]);if(!n||e!=n.h)throw new S("user-mismatch");return t}throw new S("user-mismatch")})).o((function(t){throw t&&t.code&&t.code==k+"user-not-found"?new S("user-mismatch"):t}))}function so(t,e){if(!e)throw new S("internal-error","failed to construct a credential");this.a=e,Wr(this,"providerId",t),Wr(this,"signInMethod",t)}function ao(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function uo(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new so(t.providerId,t.pendingToken)}catch(e){}return null}function co(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Wr(this,"idToken",e.idToken),e.accessToken&&Wr(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Wr(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new S("internal-error","failed to construct a credential");Wr(this,"accessToken",e.oauthToken),Wr(this,"secret",e.oauthTokenSecret)}Wr(this,"providerId",t),Wr(this,"signInMethod",n)}function lo(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:Xn(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function ho(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new co(t.providerId,e,t.signInMethod)}catch(n){}}return null}function fo(t,e){this.Oc=e||[],$r(this,{providerId:t,isOAuthProvider:!0}),this.Fb={},this.lb=(zi(t)||{}).Ha||null,this.kb=null}function po(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new S("argument-error",'SAML provider IDs must be prefixed with "saml."');fo.call(this,t,[])}function go(t){fo.call(this,t,Hi),this.a=[]}function vo(){go.call(this,"facebook.com")}function mo(t){if(!t)throw new S("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return g(t)&&(e=t.accessToken),(new vo).credential({accessToken:e})}function yo(){go.call(this,"github.com")}function bo(t){if(!t)throw new S("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return g(t)&&(e=t.accessToken),(new yo).credential({accessToken:e})}function wo(){go.call(this,"google.com"),this.Aa("profile")}function _o(t,e){var n=t;return g(t)&&(n=t.idToken,e=t.accessToken),(new wo).credential({idToken:n,accessToken:e})}function Eo(){fo.call(this,"twitter.com",qi)}function Io(t,e){var n=t;if(g(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new S("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new co("twitter.com",n,"twitter.com")}function To(t,e,n){this.a=t,this.f=e,Wr(this,"providerId","password"),Wr(this,"signInMethod",n===Ao.EMAIL_LINK_SIGN_IN_METHOD?Ao.EMAIL_LINK_SIGN_IN_METHOD:Ao.EMAIL_PASSWORD_SIGN_IN_METHOD)}function So(t){return t&&t.email&&t.password?new To(t.email,t.password,t.signInMethod):null}function Ao(){$r(this,{providerId:"password",isOAuthProvider:!1})}function Co(t,e){if(!(e=ko(e)))throw new S("argument-error","Invalid email link!");return new To(t,e.code,Ao.EMAIL_LINK_SIGN_IN_METHOD)}function ko(t){return(t=Si(t=to(t)))&&t.operation===oi?t:null}function xo(t){if(!(t.bb&&t.ab||t.Ja&&t.da))throw new S("internal-error");this.a=t,Wr(this,"providerId","phone"),this.ea="phone",Wr(this,"signInMethod","phone")}function Oo(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return B(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){t[n]&&(e[n]=t[n])})),new xo(e)}return null}function No(t){return t.a.Ja&&t.a.da?{temporaryProof:t.a.Ja,phoneNumber:t.a.da}:{sessionInfo:t.a.bb,code:t.a.ab}}function Ro(t){try{this.a=t||e.auth()}catch(n){throw new S("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}$r(this,{providerId:"phone",isOAuthProvider:!1})}function Po(t,e){if(!t)throw new S("missing-verification-id");if(!e)throw new S("missing-verification-code");return new xo({bb:t,ab:e})}function Do(t){if(t.temporaryProof&&t.phoneNumber)return new xo({Ja:t.temporaryProof,da:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,s=t&&t.pendingToken;try{switch(e){case"google.com":return _o(o,n);case"facebook.com":return mo(n);case"github.com":return bo(n);case"twitter.com":return Io(n,r);default:return n||r||o||s?s?0==e.indexOf("saml.")?new so(e,s):new co(e,{pendingToken:s,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new go(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(a){return null}}function Lo(t){if(!t.isOAuthProvider)throw new S("invalid-oauth-provider")}function Vo(t,e,n,r,i,o,s){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=s||null,this.a=i||null,!this.g&&!this.a)throw new S("invalid-auth-event");if(this.g&&this.a)throw new S("invalid-auth-event");if(this.g&&!this.f)throw new S("invalid-auth-event")}function Uo(t){return(t=t||{}).type?new Vo(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&A(t.error),t.postBody,t.tenantId):null}function Mo(){this.b=null,this.a=[]}eo.prototype.Fa=function(){return Ae(this.a?this.a:this.b)},eo.prototype.v=function(){return this.type==no?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},io.prototype.ia=function(){},io.prototype.b=function(){},io.prototype.c=function(){},io.prototype.v=function(){},so.prototype.ia=function(t){return la(t,ao(this))},so.prototype.b=function(t,e){var n=ao(this);return n.idToken=e,ha(t,n)},so.prototype.c=function(t,e){return oo(fa(t,ao(this)),e)},so.prototype.v=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},co.prototype.ia=function(t){return la(t,lo(this))},co.prototype.b=function(t,e){var n=lo(this);return n.idToken=e,ha(t,n)},co.prototype.c=function(t,e){return oo(fa(t,lo(this)),e)},co.prototype.v=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},fo.prototype.Ia=function(t){return this.Fb=pt(t),this},T(po,fo),T(go,fo),go.prototype.Aa=function(t){return $(this.a,t)||this.a.push(t),this},go.prototype.Nb=function(){return Y(this.a)},go.prototype.credential=function(t,e){var n;if(!(n=g(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new S("argument-error","credential failed: must provide the ID token and/or the access token.");return new co(this.providerId,n,this.providerId)},T(vo,go),Wr(vo,"PROVIDER_ID","facebook.com"),Wr(vo,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),T(yo,go),Wr(yo,"PROVIDER_ID","github.com"),Wr(yo,"GITHUB_SIGN_IN_METHOD","github.com"),T(wo,go),Wr(wo,"PROVIDER_ID","google.com"),Wr(wo,"GOOGLE_SIGN_IN_METHOD","google.com"),T(Eo,fo),Wr(Eo,"PROVIDER_ID","twitter.com"),Wr(Eo,"TWITTER_SIGN_IN_METHOD","twitter.com"),To.prototype.ia=function(t){return this.signInMethod==Ao.EMAIL_LINK_SIGN_IN_METHOD?$a(t,wa,{email:this.a,oobCode:this.f}):$a(t,Ha,{email:this.a,password:this.f})},To.prototype.b=function(t,e){return this.signInMethod==Ao.EMAIL_LINK_SIGN_IN_METHOD?$a(t,_a,{idToken:e,email:this.a,oobCode:this.f}):$a(t,Da,{idToken:e,email:this.a,password:this.f})},To.prototype.c=function(t,e){return oo(this.ia(t),e)},To.prototype.v=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},$r(Ao,{PROVIDER_ID:"password"}),$r(Ao,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),$r(Ao,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),xo.prototype.ia=function(t){return t.cb(No(this))},xo.prototype.b=function(t,e){var n=No(this);return n.idToken=e,$a(t,za,n)},xo.prototype.c=function(t,e){var n=No(this);return n.operation="REAUTH",oo(t=$a(t,Ga,n),e)},xo.prototype.v=function(){var t={providerId:"phone"};return this.a.bb&&(t.verificationId=this.a.bb),this.a.ab&&(t.verificationCode=this.a.ab),this.a.Ja&&(t.temporaryProof=this.a.Ja),this.a.da&&(t.phoneNumber=this.a.da),t},Ro.prototype.cb=function(t,e){var n=this.a.b;return Ae(e.verify()).then((function(r){if("string"!=typeof r)throw new S("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":var i=g(t)?t.session:null,o=g(t)?t.phoneNumber:t;return(i&&i.type==no?i.Fa().then((function(t){return function(t,e){return $a(t,Va,e).then((function(t){return t.phoneSessionInfo.sessionInfo}))}(n,{idToken:t,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}})})):i&&i.type==ro?i.Fa().then((function(e){return function(t,e){return $a(t,Ua,e).then((function(t){return t.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})})):function(t,e){return $a(t,Ra,e)}(n,{phoneNumber:o,recaptchaToken:r})).then((function(t){return"function"==typeof e.reset&&e.reset(),t}),(function(t){throw"function"==typeof e.reset&&e.reset(),t}));default:throw new S("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},$r(Ro,{PROVIDER_ID:"phone"}),$r(Ro,{PHONE_SIGN_IN_METHOD:"phone"}),Vo.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},Vo.prototype.S=function(){return this.h},Vo.prototype.v=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.v()}};var jo,Fo=null;function qo(t){var e="unauthorized-domain",n=void 0,r=Un(t);t=r.b,"chrome-extension"==(r=r.f)?n=qt("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=qt("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",S.call(this,e,n)}function Ho(t,e,n){S.call(this,t,n),(t=e||{}).Gb&&Wr(this,"email",t.Gb),t.da&&Wr(this,"phoneNumber",t.da),t.credential&&Wr(this,"credential",t.credential),t.Wb&&Wr(this,"tenantId",t.Wb)}function Bo(t){if(t.code){var e=t.code||"";0==e.indexOf(k)&&(e=e.substring(k.length));var n={credential:Do(t),Wb:t.tenantId};if(t.email)n.Gb=t.email;else if(t.phoneNumber)n.da=t.phoneNumber;else if(!n.credential)return new S(e,t.message||void 0);return new Ho(e,n,t.message)}return null}function zo(){}function Go(){}function Wo(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(i){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function $o(){}function Ko(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=_(this.oc,this),this.a.onerror=_(this.Pb,this),this.a.onprogress=_(this.pc,this),this.a.ontimeout=_(this.tc,this)}function Xo(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function Zo(t,e,n){this.reset(t,e,n,void 0,void 0)}function Yo(t){this.f=t,this.b=this.c=this.a=null}function Jo(t,e){this.name=t,this.value=e}T(qo,S),T(Ho,S),Ho.prototype.v=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.v();return e&&vt(t,e),t},Ho.prototype.toJSON=function(){return this.v()},zo.prototype.c=null,T(Go,zo),Go.prototype.a=function(){var t=Wo(this);return t?new ActiveXObject(t):new XMLHttpRequest},Go.prototype.b=function(){var t={};return Wo(this)&&(t[0]=!0,t[1]=!0),t},jo=new Go,T($o,zo),$o.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new Ko;throw Error("Unsupported browser")},$o.prototype.b=function(){return{}},(t=Ko.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.oc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Xo(this,4)},t.Pb=function(){this.status=500,this.response=this.responseText="",Xo(this,4)},t.tc=function(){this.Pb()},t.pc=function(){this.status=200,Xo(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Zo.prototype.a=null,Zo.prototype.reset=function(t,e,n,r,i){r||I(),delete this.a},Jo.prototype.toString=function(){return this.name};var Qo=new Jo("SEVERE",1e3),ts=new Jo("WARNING",900),es=new Jo("CONFIG",700),ns=new Jo("FINE",500);Yo.prototype.log=function(t,e,n){if(t.value>=function t(e){return e.c?e.c:e.a?t(e.a):(L("Root logger has no level set."),null)}(this).value)for(p(e)&&(e=e()),t=new Zo(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var rs={},is=null;function os(t){var e;if(is||(is=new Yo(""),rs[""]=is,is.c=es),!(e=rs[t])){e=new Yo(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=os(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,rs[t]=e}return e}function ss(t,e){t&&t.log(ns,e,void 0)}function as(t){this.f=t}function us(t){bn.call(this),this.s=t,this.readyState=cs,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.i=new Headers,this.b=null,this.m="GET",this.g="",this.a=!1,this.h=os("goog.net.FetchXmlHttp"),this.l=this.c=this.f=null}T(as,zo),as.prototype.a=function(){return new us(this.f)},as.prototype.b=function(t){return function(){return t}}({}),T(us,bn);var cs=0;function ls(t){t.c.read().then(t.nc.bind(t)).catch(t.Sa.bind(t))}function hs(t,e){e&&t.f&&(t.status=t.f.status,t.statusText=t.f.statusText),t.readyState=4,t.f=null,t.c=null,t.l=null,fs(t)}function fs(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function ds(t){bn.call(this),this.headers=new Cn,this.D=t||null,this.c=!1,this.B=this.a=null,this.h=this.P=this.l="",this.f=this.O=this.i=this.N=!1,this.g=0,this.s=null,this.m=ps,this.w=this.R=!1}(t=us.prototype).open=function(t,e){if(this.readyState!=cs)throw this.abort(),Error("Error reopening a connection");this.m=t,this.g=e,this.readyState=1,fs(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.i,method:this.m,credentials:void 0,cache:void 0};t&&(e.body=t),this.s.fetch(new Request(this.g,e)).then(this.sc.bind(this),this.Sa.bind(this))},t.abort=function(){this.response=this.responseText="",this.i=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,hs(this,!1)),this.readyState=cs},t.sc=function(t){this.a&&(this.f=t,this.b||(this.b=t.headers,this.readyState=2,fs(this)),this.a&&(this.readyState=3,fs(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.qc.bind(this),this.Sa.bind(this)):void 0!==u.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.l=new TextDecoder,ls(this)):t.text().then(this.rc.bind(this),this.Sa.bind(this)))))},t.nc=function(t){if(this.a){var e=this.l.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?hs(this,!0):fs(this),3==this.readyState&&ls(this)}},t.rc=function(t){this.a&&(this.response=this.responseText=t,hs(this,!0))},t.qc=function(t){this.a&&(this.response=t,hs(this,!0))},t.Sa=function(t){var e=this.h;e&&e.log(ts,"Failed to fetch url "+this.g,t instanceof Error?t:Error(t)),this.a&&hs(this,!0)},t.setRequestHeader=function(t,e){this.i.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.h)&&t.log(ts,"Attempting to get response header but no headers have been received for url: "+this.g,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.h;return t&&t.log(ts,"Attempting to get all response headers but no headers have been received for url: "+this.g,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},T(ds,bn);var ps="";ds.prototype.b=os("goog.net.XhrIo");var gs=/^https?$/i,vs=["POST","PUT"];function ms(t){return"content-type"==t.toLowerCase()}function ys(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,bs(t),_s(t)}function bs(t){t.N||(t.N=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function ws(t){if(t.c&&void 0!==a)if(t.B[1]&&4==Is(t)&&2==Ts(t))ss(t.b,Ss(t,"Local request error detected and ignored"));else if(t.i&&4==Is(t))In(t.Sb,0,t);else if(t.dispatchEvent("readystatechange"),4==Is(t)){ss(t.b,Ss(t,"Request complete")),t.c=!1;try{var e,n=Ts(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.l).match(On)[1]||null;if(!o&&u.self&&u.self.location){var s=u.self.location.protocol;o=s.substr(0,s.length-1)}i=!gs.test(o?o.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var c=2<Is(t)?t.a.statusText:""}catch(l){ss(t.b,"Can not get status: "+l.message),c=""}t.h=c+" ["+Ts(t)+"]",bs(t)}}finally{_s(t)}}}function _s(t,e){if(t.a){Es(t);var n=t.a,r=t.B[0]?h:null;t.a=null,t.B=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){(t=t.b)&&t.log(Qo,"Problem encountered resetting onreadystatechange: "+i.message,void 0)}}}function Es(t){t.a&&t.w&&(t.a.ontimeout=null),t.s&&(u.clearTimeout(t.s),t.s=null)}function Is(t){return t.a?t.a.readyState:0}function Ts(t){try{return 2<Is(t)?t.a.status:-1}catch(e){return-1}}function Ss(t,e){return e+" ["+t.P+" "+t.l+" "+Ts(t)+"]"}function As(t){var e=Us;this.g=[],this.w=e,this.s=t||null,this.f=this.a=!1,this.c=void 0,this.u=this.B=this.i=!1,this.h=0,this.b=null,this.l=0}function Cs(t,e,n){t.a=!0,t.c=n,t.f=!e,Ns(t)}function ks(t){if(t.a){if(!t.u)throw new Rs(t);t.u=!1}}function xs(t,e,n,r){t.g.push([e,n,r]),t.a&&Ns(t)}function Os(t){return W(t.g,(function(t){return p(t[1])}))}function Ns(t){if(t.h&&t.a&&Os(t)){var e=t.h,n=Ls[e];n&&(u.clearTimeout(n.a),delete Ls[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var i=t.g.shift(),o=i[0],s=i[1];if(i=i[2],o=t.f?s:o)try{var a=o.call(i||t.s,e);void 0!==a&&(t.f=t.f&&(a==e||a instanceof Error),t.c=e=a),(R(e)||"function"==typeof u.Promise&&e instanceof u.Promise)&&(r=!0,t.i=!0)}catch(c){e=c,t.f=!0,Os(t)||(n=!0)}}t.c=e,r&&(a=_(t.m,t,!0),r=_(t.m,t,!1),e instanceof As?(xs(e,a,r),e.B=!0):e.then(a,r)),n&&(e=new Ds(e),Ls[e.a]=e,t.h=e.a)}function Rs(){P.call(this)}function Ps(){P.call(this)}function Ds(t){this.a=u.setTimeout(_(this.c,this),0),this.b=t}(t=ds.prototype).Ka=function(){void 0!==a&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",ss(this.b,Ss(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(ss(this.b,Ss(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),_s(this))},t.Ba=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),_s(this,!0)),ds.Za.Ba.call(this)},t.Sb=function(){this.wa||(this.O||this.i||this.f?ws(this):this.Hc())},t.Hc=function(){ws(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case ps:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(Qo,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(e){return ss(this.b,"Can not get response: "+e.message),null}},As.prototype.cancel=function(t){if(this.a)this.c instanceof As&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.w?this.w.call(this.s,this):this.u=!0,this.a||(t=new Ps(this),ks(this),Cs(this,!1,t))}},As.prototype.m=function(t,e){this.i=!1,Cs(this,t,e)},As.prototype.then=function(t,e,n){var r,i,o=new be((function(t,e){r=t,i=e}));return xs(this,r,(function(t){t instanceof Ps?o.cancel():i(t)})),o.then(t,e,n)},As.prototype.$goog_Thenable=!0,T(Rs,P),Rs.prototype.message="Deferred has already fired",Rs.prototype.name="AlreadyCalledError",T(Ps,P),Ps.prototype.message="Deferred was canceled",Ps.prototype.name="CanceledError",Ds.prototype.c=function(){throw delete Ls[this.a],this.b};var Ls={};function Vs(t){var e={},n=e.document||document,r=Tt(t).toString(),i=fe(document,"SCRIPT"),o={Tb:i,Ka:void 0},s=new As(o),a=null,h=null!=e.timeout?e.timeout:5e3;return 0<h&&(a=window.setTimeout((function(){Ms(i,!0);var t=new qs(Fs,"Timeout reached for loading script "+r);ks(s),Cs(s,!1,t)}),h),o.Ka=a),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Ms(i,e.ud||!1,a),ks(s),Cs(s,!0,null))},i.onerror=function(){Ms(i,!0,a);var t=new qs(js,"Error while loading script "+r);ks(s),Cs(s,!1,t)},vt(o=e.attributes||{},{type:"text/javascript",charset:"UTF-8"}),ae(i,o),function(t,e){mt(t,"HTMLScriptElement"),t.src=Tt(e),null===l&&(l=(e=(e=u.document).querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&c.test(e)?e:""),(e=l)&&t.setAttribute("nonce",e)}(i,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),s}function Us(){if(this&&this.Tb){var t=this.Tb;t&&"SCRIPT"==t.tagName&&Ms(t,!0,this.Ka)}}function Ms(t,e,n){null!=n&&u.clearTimeout(n),t.onload=h,t.onerror=h,t.onreadystatechange=h,e&&window.setTimeout((function(){t&&t.parentNode&&t.parentNode.removeChild(t)}),0)}var js=0,Fs=1;function qs(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),P.call(this,n),this.code=t}function Hs(t){this.f=t}function Bs(t,n,r){if(this.c=t,this.u=(t=n||{}).secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=t.secureTokenTimeout||Ws,this.g=pt(t.secureTokenHeaders||$s),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.l=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.i=t.firebaseTimeout||Ks,this.a=pt(t.firebaseHeaders||Xs),r&&(this.a["X-Client-Version"]=r,this.g["X-Client-Version"]=r),r="Node"==yr(),!(r=u.XMLHttpRequest||r&&e.INTERNAL.node&&e.INTERNAL.node.XMLHttpRequest)&&!mr())throw new S("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,this.f=mr()?new as(self):br()?new Hs(r):new $o,this.b=null}T(qs,P),T(Hs,zo),Hs.prototype.a=function(){return new this.f},Hs.prototype.b=function(){return{}};var zs,Gs="idToken",Ws=new Mr(3e4,6e4),$s={"Content-Type":"application/x-www-form-urlencoded"},Ks=new Mr(3e4,6e4),Xs={"Content-Type":"application/json"};function Zs(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function Ys(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function Js(t,e,n,r,i,o,s){(function(){var t=Sr();return!((t=Er(t)!=_r?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t||$t&&ne&&!(9<ne))})()||mr()?t=_(t.w,t):(zs||(zs=new be((function(t,e){!function(t,e){((window.gapi||{}).client||{}).request?t():(u[ta]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){xs(t,null,e,void 0)}(Vs(St(Qs,{onload:ta})),(function(){e(Error("CORS_UNSUPPORTED"))})))}(t,e)}))),t=_(t.s,t)),t(e,n,r,i,o,s)}Bs.prototype.S=function(){return this.b},Bs.prototype.w=function(t,e,n,r,i,o){if(mr()&&(void 0===u.fetch||void 0===u.Headers||void 0===u.Request))throw new S("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var s=new ds(this.f);if(o){s.g=Math.max(0,o);var a=setTimeout((function(){s.dispatchEvent("timeout")}),o)}wn(s,"complete",(function(){a&&clearTimeout(a);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return ss(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(n){t=null}e&&e(t)})),_n(s,"ready",(function(){a&&clearTimeout(a),Be(this)})),_n(s,"timeout",(function(){a&&clearTimeout(a),Be(this),e&&e(null)})),function(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.P=n,t.N=!1,t.c=!0,t.a=t.D?t.D.a():jo.a(),t.B=function(t){return t.c||(t.c=t.b())}(t.D?t.D:jo),t.a.onreadystatechange=_(t.Sb,t);try{ss(t.b,Ss(t,"Opening Xhr")),t.O=!0,t.a.open(n,String(e),!0),t.O=!1}catch(s){return ss(t.b,Ss(t,"Error opening Xhr: "+s.message)),void ys(t,s)}e=r||"";var o=new Cn(t.headers);i&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(d(t)||"string"==typeof t)B(t,e,void 0);else for(var n=An(t),r=Sn(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(i,(function(t,e){o.set(e,t)})),i=function(t){t:{for(var e=ms,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(o.X()),r=u.FormData&&e instanceof u.FormData,!$(vs,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(t,e){this.a.setRequestHeader(e,t)}),t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.R&&(t.a.withCredentials=t.R);try{Es(t),0<t.g&&(t.w=function(t){return $t&&ie(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),ss(t.b,Ss(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.w)),t.w?(t.a.timeout=t.g,t.a.ontimeout=_(t.Ka,t)):t.s=In(t.Ka,t.g,t)),ss(t.b,Ss(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(s){ss(t.b,Ss(t,"Send error: "+s.message)),ys(t,s)}}(s,t,n,r,i)};var Qs=new yt(_t,"https://apis.google.com/js/client.js?onload=%{onload}"),ta="__fcb"+Math.floor(1e6*Math.random()).toString();function ea(t){if("string"!=typeof(t=t.email)||!dr.test(t))throw new S("invalid-email")}function na(t){"email"in t&&ea(t)}function ra(t){if(!t[Gs]){if(t.mfaPendingCredential)throw new S("multi-factor-auth-required",null,pt(t));throw new S("internal-error")}}function ia(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new S("internal-error")}else{if(!t.sessionInfo)throw new S("missing-verification-id");if(!t.code)throw new S("missing-verification-code")}}Bs.prototype.s=function(t,e,n,r,i){var o=this;zs.then((function(){window.gapi.client.setApiKey(o.c);var s=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(s),e&&e(t)}})})).o((function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})}))},Bs.prototype.vb=function(){return $a(this,La,{})},Bs.prototype.xb=function(t,e){return $a(this,Pa,{idToken:t,email:e})},Bs.prototype.yb=function(t,e){return $a(this,Da,{idToken:t,password:e})};var oa={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function sa(t){if(!t.phoneVerificationInfo)throw new S("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new S("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new S("missing-verification-code")}function aa(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new S("internal-error")}function ua(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&Yn(t=new $n(t.postBody),"nonce")&&(e.nonce=t.get("nonce"))),e}function ca(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=Bo(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=Bo(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=Bo(t)):t.errorMessage&&(e=Ka(t.errorMessage)),e)throw e;ra(t)}function la(t,e){return e.returnIdpCredential=!0,$a(t,Ma,e)}function ha(t,e){return e.returnIdpCredential=!0,$a(t,Fa,e)}function fa(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,$a(t,ja,e)}function da(t){if(!t.oobCode)throw new S("invalid-action-code")}(t=Bs.prototype).zb=function(t,e){var n={idToken:t},r=[];return ft(oa,(function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),$a(this,Pa,n)},t.rb=function(t,e){return vt(t={requestType:"PASSWORD_RESET",email:t},e),$a(this,ka,t)},t.sb=function(t,e){return vt(t={requestType:"EMAIL_SIGNIN",email:t},e),$a(this,Sa,t)},t.qb=function(t,e){return vt(t={requestType:"VERIFY_EMAIL",idToken:t},e),$a(this,Aa,t)},t.Ab=function(t,e,n){return vt(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),$a(this,Ca,t)},t.cb=function(t){return $a(this,Ba,t)},t.jb=function(t,e){return $a(this,Na,{oobCode:t,newPassword:e})},t.Pa=function(t){return $a(this,ga,{oobCode:t})},t.fb=function(t){return $a(this,pa,{oobCode:t})};var pa={endpoint:"setAccountInfo",A:da,Y:"email",C:!0},ga={endpoint:"resetPassword",A:da,G:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new S("internal-error")},C:!0},va={endpoint:"signupNewUser",A:function(t){if(ea(t),!t.password)throw new S("weak-password")},G:ra,U:!0,C:!0},ma={endpoint:"createAuthUri",C:!0},ya={endpoint:"deleteAccount",M:["idToken"]},ba={endpoint:"setAccountInfo",M:["idToken","deleteProvider"],A:function(t){if("array"!=f(t.deleteProvider))throw new S("internal-error")}},wa={endpoint:"emailLinkSignin",M:["email","oobCode"],A:ea,G:ra,U:!0,C:!0},_a={endpoint:"emailLinkSignin",M:["idToken","email","oobCode"],A:ea,G:ra,U:!0},Ea={endpoint:"accounts/mfaEnrollment:finalize",M:["idToken","phoneVerificationInfo"],A:sa,G:ra,C:!0,La:!0},Ia={endpoint:"accounts/mfaSignIn:finalize",M:["mfaPendingCredential","phoneVerificationInfo"],A:sa,G:ra,C:!0,La:!0},Ta={endpoint:"getAccountInfo"},Sa={endpoint:"getOobConfirmationCode",M:["requestType"],A:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new S("internal-error");ea(t)},Y:"email",C:!0},Aa={endpoint:"getOobConfirmationCode",M:["idToken","requestType"],A:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new S("internal-error")},Y:"email",C:!0},Ca={endpoint:"getOobConfirmationCode",M:["idToken","newEmail","requestType"],A:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new S("internal-error")},Y:"email",C:!0},ka={endpoint:"getOobConfirmationCode",M:["requestType"],A:function(t){if("PASSWORD_RESET"!=t.requestType)throw new S("internal-error");ea(t)},Y:"email",C:!0},xa={hb:!0,endpoint:"getProjectConfig",Rb:"GET"},Oa={hb:!0,endpoint:"getRecaptchaParam",Rb:"GET",G:function(t){if(!t.recaptchaSiteKey)throw new S("internal-error")}},Na={endpoint:"resetPassword",A:da,Y:"email",C:!0},Ra={endpoint:"sendVerificationCode",M:["phoneNumber","recaptchaToken"],Y:"sessionInfo",C:!0},Pa={endpoint:"setAccountInfo",M:["idToken"],A:na,U:!0},Da={endpoint:"setAccountInfo",M:["idToken"],A:function(t){if(na(t),!t.password)throw new S("weak-password")},G:ra,U:!0},La={endpoint:"signupNewUser",G:ra,U:!0,C:!0},Va={endpoint:"accounts/mfaEnrollment:start",M:["idToken","phoneEnrollmentInfo"],A:function(t){if(!t.phoneEnrollmentInfo)throw new S("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new S("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new S("missing-app-credential")},G:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new S("internal-error")},C:!0,La:!0},Ua={endpoint:"accounts/mfaSignIn:start",M:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new S("missing-app-credential")},G:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new S("internal-error")},C:!0,La:!0},Ma={endpoint:"verifyAssertion",A:aa,Wa:ua,G:ca,U:!0,C:!0},ja={endpoint:"verifyAssertion",A:aa,Wa:ua,G:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new S("user-not-found");if(t.errorMessage)throw Ka(t.errorMessage);ra(t)},U:!0,C:!0},Fa={endpoint:"verifyAssertion",A:function(t){if(aa(t),!t.idToken)throw new S("internal-error")},Wa:ua,G:ca,U:!0},qa={endpoint:"verifyCustomToken",A:function(t){if(!t.token)throw new S("invalid-custom-token")},G:ra,U:!0,C:!0},Ha={endpoint:"verifyPassword",A:function(t){if(ea(t),!t.password)throw new S("wrong-password")},G:ra,U:!0,C:!0},Ba={endpoint:"verifyPhoneNumber",A:ia,G:ra,C:!0},za={endpoint:"verifyPhoneNumber",A:function(t){if(!t.idToken)throw new S("internal-error");ia(t)},G:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",Bo(t);ra(t)}},Ga={Eb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:ia,G:ra,C:!0},Wa={endpoint:"accounts/mfaEnrollment:withdraw",M:["idToken","mfaEnrollmentId"],G:function(t){if(!!t[Gs]^!!t.refreshToken)throw new S("internal-error")},C:!0,La:!0};function $a(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(null==r||""===r)return!1}return!0}(n,e.M))return Ce(new S("internal-error"));var r,i=!!e.La,o=e.Rb||"POST";return Ae(n).then(e.A).then((function(){return e.U&&(n.returnSecureToken=!0),e.C&&t.b&&void 0===n.tenantId&&(n.tenantId=t.b),function(t,e,n,r,i,o,s){var a=Un(e+n);Ln(a,"key",t.c),s&&Ln(a,"cb",I().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&Ln(a,c,i[c]);return new be((function(e,n){Js(t,a.toString(),(function(t){t?t.error?n(Xa(t,o||{})):e(t):n(new S("network-request-failed"))}),r,u?void 0:er(Pr(i)),t.a,t.i.get())}))}(t,i?t.l:t.h,e.endpoint,o,n,e.Eb,e.hb||!1)})).then((function(t){return r=t,e.Wa?e.Wa(n,r):r})).then(e.G).then((function(){if(!e.Y)return r;if(!(e.Y in r))throw new S("internal-error");return r[e.Y]}))}function Ka(t){return Xa({error:{errors:[{message:t}],code:400,message:t}})}function Xa(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new S(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",vt(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new S(r[i],e);return!e&&t&&(e=Rr(t)),new S("internal-error",e)}function Za(t){this.b=t,this.a=null,this.nb=function(t){return(tu||(tu=new be((function(t,e){function n(){Ur(),Ar("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){Ur(),e(Error("Network Error"))},timeout:Ja.get()})}if(Ar("gapi.iframes.Iframe"))t();else if(Ar("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();u[r]=function(){Ar("gapi.load")?n():e(Error("Network Error"))},Ae(Vs(r=St(Ya,{onload:r}))).o((function(){e(Error("Network Error"))}))}})).o((function(t){throw tu=null,t})))).then((function(){return new be((function(e,n){Ar("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:Ar("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),Qa.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var Ya=new yt(_t,"https://apis.google.com/js/api.js?onload=%{onload}"),Ja=new Mr(3e4,6e4),Qa=new Mr(5e3,15e3),tu=null;function eu(t,e,n){this.i=t,this.g=e,this.h=n,this.f=null,this.a=Mn(this.i,"/__/auth/iframe"),Ln(this.a,"apiKey",this.g),Ln(this.a,"appName",this.h),this.b=null,this.c=[]}function nu(t,e,n,r,i){this.s=t,this.m=e,this.c=n,this.u=r,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function ru(t){try{return e.app(t).auth().Ea()}catch(n){return[]}}function iu(t,e,n,r,i){this.u=t,this.f=e,this.b=n,this.c=r||null,this.h=i||null,this.m=this.s=this.w=null,this.g=[],this.l=this.a=null}function ou(t){var e=ar();return function(t){return $a(t,xa,{}).then((function(t){return t.authorizedDomains||[]}))}(t).then((function(t){t:{var n=Un(e),r=n.f;n=n.b;for(var i=0;i<t.length;i++){var o=t[i],s=n,a=r;if(0==o.indexOf("chrome-extension://")?s=Un(o).b==s&&"chrome-extension"==a:"http"!=a&&"https"!=a?s=!1:fr.test(o)?s=s==o:(o=o.split(".").join("\\."),s=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)),s){t=!0;break t}}t=!1}if(!t)throw new qo(ar())}))}function su(t){return t.l||(t.l=pr().then((function(){if(!t.s){var e=t.c,n=t.h,r=ru(t.b),i=new eu(t.u,t.f,t.b);i.f=e,i.b=n,i.c=Y(r||[]),t.s=i.toString()}t.i=new Za(t.s),function(t){if(!t.i)throw Error("IfcHandler must be initialized!");!function(t,e){t.nb.then((function(){t.a.register("authEvent",e,Ar("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(t.i,(function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=Uo(e.authEvent),n=0;n<t.g.length;n++)r=t.g[n](e)||r;return(n={}).status=r?"ACK":"ERROR",Ae(n)}return n.status="ERROR",Ae(n)}))}(t)}))),t.l}function au(t){return t.m||(t.w=t.c?Tr(t.c,ru(t.b)):null,t.m=new Bs(t.f,N(t.h),t.w)),t.m}function uu(t,e,n,r,i,o,s,a,u,c,l){return(t=new nu(t,e,n,r,i)).l=o,t.g=s,t.i=a,t.b=pt(u||null),t.f=c,t.ub(l).toString()}function cu(t){if(this.a=t||e.INTERNAL.reactNative&&e.INTERNAL.reactNative.AsyncStorage,!this.a)throw new S("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function lu(t){this.b=t,this.a={},this.f=_(this.c,this)}eu.prototype.toString=function(){return this.f?Ln(this.a,"v",this.f):Zn(this.a.a,"v"),this.b?Ln(this.a,"eid",this.b):Zn(this.a.a,"eid"),this.c.length?Ln(this.a,"fw",this.c.join(",")):Zn(this.a.a,"fw"),this.a.toString()},nu.prototype.ub=function(t){return this.h=t,this},nu.prototype.toString=function(){var t=Mn(this.s,"/__/auth/handler");if(Ln(t,"apiKey",this.m),Ln(t,"appName",this.c),Ln(t,"authType",this.u),this.a.isOAuthProvider){var n=this.a;try{var r=e.app(this.c).auth().ja()}catch(u){r=null}for(var i in n.kb=r,Ln(t,"providerId",this.a.providerId),r=Pr((n=this.a).Fb))r[i]=r[i].toString();i=n.Oc,r=pt(r);for(var o=0;o<i.length;o++){var s=i[o];s in r&&delete r[s]}n.lb&&n.kb&&!r[n.lb]&&(r[n.lb]=n.kb),dt(r)||Ln(t,"customParameters",Rr(r))}if("function"==typeof this.a.Nb&&(n=this.a.Nb()).length&&Ln(t,"scopes",n.join(",")),this.l?Ln(t,"redirectUrl",this.l):Zn(t.a,"redirectUrl"),this.g?Ln(t,"eventId",this.g):Zn(t.a,"eventId"),this.i?Ln(t,"v",this.i):Zn(t.a,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!Vn(t,a)&&Ln(t,a,this.b[a]);return this.h?Ln(t,"tid",this.h):Zn(t.a,"tid"),this.f?Ln(t,"eid",this.f):Zn(t.a,"eid"),(a=ru(this.c)).length&&Ln(t,"fw",a.join(",")),t.toString()},(t=iu.prototype).Lb=function(t,e,n){var r=new S("popup-closed-by-user"),i=new S("web-storage-unsupported"),o=this,s=!1;return this.ka().then((function(){(function(t){var e={type:"webStorageSupport"};return su(t).then((function(){return function(t,e){return t.nb.then((function(){return new be((function(n){t.a.send(e.type,e,n,Ar("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(t.i,e)})).then((function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(t&&lr(t),e(i),s=!0)}))})).o((function(){})).then((function(){if(!s)return function(t){return new be((function(e){return function n(){Tn(2e3).then((function(){if(t&&!t.closed)return n();e()}))}()}))}(t)})).then((function(){if(!s)return Tn(n).then((function(){e(r)}))}))},t.Ub=function(){var t=Sr();return!Nr(t)&&!Vr(t)},t.Qb=function(){return!1},t.Jb=function(t,e,n,r,i,o,s,a){if(!t)return Ce(new S("popup-blocked"));if(s&&!Nr())return this.ka().o((function(e){lr(t),i(e)})),r(),Ae();this.a||(this.a=ou(au(this)));var u=this;return this.a.then((function(){var e=u.ka().o((function(e){throw lr(t),i(e),e}));return r(),e})).then((function(){Lo(n),s||ur(uu(u.u,u.f,u.b,e,n,null,o,u.c,void 0,u.h,a),t)})).o((function(t){throw"auth/network-request-failed"==t.code&&(u.a=null),t}))},t.Kb=function(t,e,n,r){this.a||(this.a=ou(au(this)));var i=this;return this.a.then((function(){Lo(e),ur(uu(i.u,i.f,i.b,t,e,ar(),n,i.c,void 0,i.h,r))})).o((function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t}))},t.ka=function(){var t=this;return su(this).then((function(){return t.i.nb})).o((function(){throw t.a=null,new S("network-request-failed")}))},t.Xb=function(){return!0},t.Ca=function(t){this.g.push(t)},t.Qa=function(t){X(this.g,(function(e){return e==t}))},(t=cu.prototype).get=function(t){return Ae(this.a.getItem(t)).then((function(t){return t&&Dr(t)}))},t.set=function(t,e){return Ae(this.a.setItem(t,Rr(e)))},t.T=function(t){return Ae(this.a.removeItem(t))},t.ba=function(){},t.ha=function(){};var hu,fu=[];function du(t,e,n){dt(t.a)&&t.b.addEventListener("message",t.f),void 0===t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function pu(t){this.a=t}function gu(t){this.c=t,this.b=!1,this.a=[]}function vu(t,e,n,r){var i,o,s,a,u=n||{},c=null;if(t.b)return Ce(Error("connection_unavailable"));var l=r?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new be((function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),s=setTimeout((function(){r(Error("unsupported_event"))}),l),t.a.push(c={messageChannel:h,onMessage:o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(s),a=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===t.data.status?(clearTimeout(a),void 0!==t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(s),clearTimeout(a),r(Error("invalid_response"))))}}),h.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:u},[h.port2])):r(Error("connection_unavailable"))})).then((function(e){return mu(t,c),e})).o((function(e){throw mu(t,c),e}))}function mu(t,e){if(e){var n=e.messageChannel;n&&(n.port1.removeEventListener("message",e.onMessage),n.port1.close()),X(t.a,(function(t){return t==e}))}}function yu(){if(!wu())throw new S("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.u=u.indexedDB,this.type="indexedDB",this.g=this.l=this.f=this.i=null,this.s=!1,this.h=null;var t=this;mr()&&self?(this.l=function(){var t=mr()?self:null;if(B(fu,(function(n){n.b==t&&(e=n)})),!e){var e=new lu(t);fu.push(e)}return e}(),du(this.l,"keyChanged",(function(e,n){return Su(t).then((function(e){return 0<e.length&&B(t.a,(function(t){t(e)})),{keyProcessed:$(e,n.key)}}))})),du(this.l,"ping",(function(){return Ae(["keyChanged"])}))):function(){var t=u.navigator;return t&&t.serviceWorker?Ae().then((function(){return t.serviceWorker.ready})).then((function(t){return t.active||null})).o((function(){return null})):Ae(null)}().then((function(e){(t.h=e)&&(t.g=new gu(new pu(e)),vu(t.g,"ping",null,!0).then((function(e){e[0].fulfilled&&$(e[0].value,"keyChanged")&&(t.s=!0)})).o((function(){})))}))}function bu(t){return t.m||(t.m=function t(e){return new be((function(n,r){var i=e.u.open("firebaseLocalStorageDb",1);i.onerror=function(t){try{t.preventDefault()}catch(e){}r(Error(t.target.error))},i.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){r(e)}},i.onsuccess=function(i){(i=i.target.result).objectStoreNames.contains("firebaseLocalStorage")?n(i):function(t){return new be((function(e,n){var r=t.u.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}}))}(e).then((function(){return t(e)})).then((function(t){n(t)})).o((function(t){r(t)}))}}))}(t)),t.m}function wu(){try{return!!u.indexedDB}catch(Gt){return!1}}function _u(t){return t.objectStore("firebaseLocalStorage")}function Eu(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function Iu(t){return new be((function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}}))}function Tu(t,e){return t.g&&t.h&&function(){var t=u.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?vu(t.g,"keyChanged",{key:e},t.s).then((function(){})).o((function(){})):Ae()}function Su(t){return bu(t).then((function(t){var e=_u(Eu(t,!1));return e.getAll?Iu(e.getAll()):new be((function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}}))})).then((function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=function t(e,n){var r,i=[];for(r in e)r in n?typeof e[r]!=typeof n[r]?i.push(r):"object"==typeof e[r]&&null!=e[r]&&null!=n[r]?0<t(e[r],n[r]).length&&i.push(r):e[r]!==n[r]&&i.push(r):i.push(r);for(r in n)r in e||i.push(r);return i}(t.c,n),t.c=n}return r}))}function Au(t){t.i&&t.i.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function Cu(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=Ae().then((function(){if(wu()){var t=Lr(),r="__sak"+t;return hu||(hu=new yu),(n=hu).set(r,t).then((function(){return n.get(r)})).then((function(e){if(e!==t)throw Error("indexedDB not supported!");return n.T(r)})).then((function(){return n})).o((function(){return e.c}))}return e.c})).then((function(t){return e.type=t.type,t.ba((function(t){B(e.a,(function(e){e(t)}))})),t}))}function ku(){this.a={},this.type="inMemory"}function xu(){if(!function(){var t="Node"==yr();if(!(t=Ou()||t&&e.INTERNAL.node&&e.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(n){return!1}}()){if("Node"==yr())throw new S("internal-error","The LocalStorage compatibility library was not found.");throw new S("web-storage-unsupported")}this.a=Ou()||e.INTERNAL.node.localStorage,this.type="localStorage"}function Ou(){try{var t=u.localStorage,e=Lr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Nu(){this.type="nullStorage"}function Ru(){if(!function(){var t="Node"==yr();if(!(t=Pu()||t&&e.INTERNAL.node&&e.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(n){return!1}}()){if("Node"==yr())throw new S("internal-error","The SessionStorage compatibility library was not found.");throw new S("web-storage-unsupported")}this.a=Pu()||e.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Pu(){try{var t=u.sessionStorage,e=Lr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Du(){var t={};t.Browser=Uu,t.Node=Mu,t.ReactNative=ju,t.Worker=Fu,this.a=t[yr()]}lu.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];B(r,(function(e){i.push(Ae().then((function(){return e(t.origin,t.data.data)})))})),xe(i).then((function(r){var i=[];B(r,(function(t){i.push({fulfilled:t.Mb,value:t.value,reason:t.reason?t.reason.message:void 0})})),B(i,(function(t){for(var e in t)void 0===t[e]&&delete t[e]})),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})}))}},pu.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},gu.prototype.close=function(){for(;0<this.a.length;)mu(this,this.a[0]);this.b=!0},(t=yu.prototype).set=function(t,e){var n,r=!1,i=this;return bu(this).then((function(e){return Iu((e=_u(Eu(n=e,!0))).get(t))})).then((function(o){var s=_u(Eu(n,!0));return o?(o.value=e,Iu(s.put(o))):(i.b++,r=!0,(o={}).fbase_key=t,o.value=e,Iu(s.add(o)))})).then((function(){return i.c[t]=e,Tu(i,t)})).ma((function(){r&&i.b--}))},t.get=function(t){return bu(this).then((function(e){return Iu(_u(Eu(e,!1)).get(t))})).then((function(t){return t&&t.value}))},t.T=function(t){var e=!1,n=this;return bu(this).then((function(r){return e=!0,n.b++,Iu(_u(Eu(r,!0)).delete(t))})).then((function(){return delete n.c[t],Tu(n,t)})).ma((function(){e&&n.b--}))},t.ba=function(t){0==this.a.length&&function(t){Au(t),function e(){t.f=setTimeout((function(){t.i=Su(t).then((function(e){0<e.length&&B(t.a,(function(t){t(e)}))})).then((function(){e()})).o((function(t){"STOP_EVENT"!=t.message&&e()}))}),800)}()}(this),this.a.push(t)},t.ha=function(t){X(this.a,(function(e){return e==t})),0==this.a.length&&Au(this)},(t=Cu.prototype).get=function(t){return this.b.then((function(e){return e.get(t)}))},t.set=function(t,e){return this.b.then((function(n){return n.set(t,e)}))},t.T=function(t){return this.b.then((function(e){return e.T(t)}))},t.ba=function(t){this.a.push(t)},t.ha=function(t){X(this.a,(function(e){return e==t}))},(t=ku.prototype).get=function(t){return Ae(this.a[t])},t.set=function(t,e){return this.a[t]=e,Ae()},t.T=function(t){return delete this.a[t],Ae()},t.ba=function(){},t.ha=function(){},(t=xu.prototype).get=function(t){var e=this;return Ae().then((function(){return Dr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return Ae().then((function(){var r=Rr(e);null===r?n.T(t):n.a.setItem(t,r)}))},t.T=function(t){var e=this;return Ae().then((function(){e.a.removeItem(t)}))},t.ba=function(t){u.window&&an(u.window,"storage",t)},t.ha=function(t){u.window&&ln(u.window,"storage",t)},(t=Nu.prototype).get=function(){return Ae(null)},t.set=function(){return Ae()},t.T=function(){return Ae()},t.ba=function(){},t.ha=function(){},(t=Ru.prototype).get=function(t){var e=this;return Ae().then((function(){return Dr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return Ae().then((function(){var r=Rr(e);null===r?n.T(t):n.a.setItem(t,r)}))},t.T=function(t){var e=this;return Ae().then((function(){e.a.removeItem(t)}))},t.ba=function(){},t.ha=function(){};var Lu,Vu,Uu={F:xu,$a:Ru},Mu={F:xu,$a:Ru},ju={F:cu,$a:Nu},Fu={F:xu,$a:Nu},qu={od:"local",NONE:"none",qd:"session"};function Hu(){var t=!(Vr(Sr())||!vr()),e=Nr(),n=Cr();this.m=t,this.h=e,this.l=n,this.a={},Lu||(Lu=new Du),t=Lu;try{this.g=!sr()&&qr()||!u.indexedDB?new t.a.F:new Cu(mr()?new ku:new t.a.F)}catch(r){this.g=new ku,this.h=!0}try{this.i=new t.a.$a}catch(r){this.i=new ku}this.u=new ku,this.f=_(this.Vb,this),this.b={}}function Bu(){return Vu||(Vu=new Hu),Vu}function zu(t,e){switch(e){case"session":return t.i;case"none":return t.u;default:return t.g}}function Gu(t,e){return"firebase:"+t.name+(e?":"+e:"")}function Wu(t,e,n){return n=Gu(e,n),"local"==e.F&&(t.b[n]=null),zu(t,e.F).T(n)}function $u(t){t.c&&(clearInterval(t.c),t.c=null)}function Ku(t){this.a=t,this.b=Bu()}(t=Hu.prototype).get=function(t,e){return zu(this,t.F).get(Gu(t,e))},t.set=function(t,e,n){var r=Gu(t,n),i=this,o=zu(this,t.F);return o.set(r,e).then((function(){return o.get(r)})).then((function(e){"local"==t.F&&(i.b[r]=e)}))},t.addListener=function(t,e,n){t=Gu(t,e),this.l&&(this.b[t]=u.localStorage.getItem(t)),dt(this.a)&&(zu(this,"local").ba(this.f),this.h||(sr()||!qr())&&u.indexedDB||!this.l||function(t){$u(t),t.c=setInterval((function(){for(var e in t.a){var n=u.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new Xe({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Vb(n))}}),1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,n){t=Gu(t,e),this.a[t]&&(X(this.a[t],(function(t){return t==n})),0==this.a[t].length&&delete this.a[t]),dt(this.a)&&(zu(this,"local").ha(this.f),$u(this))},t.Vb=function(t){if(t&&t.f){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=u.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.ib(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?zu(this,"local").ha(this.f):$u(this),this.m)if(n=u.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?u.localStorage.setItem(e,r):u.localStorage.removeItem(e);else if(this.b[e]===r&&void 0===t.a.a)return;var o=this;n=function(){void 0===t.a.a&&o.b[e]===u.localStorage.getItem(e)||(o.b[e]=u.localStorage.getItem(e),o.ib(e))},$t&&ne&&10==ne&&u.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else B(t,_(this.ib,this))},t.ib=function(t){this.a[t]&&B(this.a[t],(function(t){t()}))};var Xu,Zu={name:"authEvent",F:"local"};function Yu(){this.a=Bu()}function Ju(t,e){this.b=Qu,this.f=u.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=u.Int32Array?new Int32Array(64):Array(64),void 0===Xu&&(Xu=u.Int32Array?new Int32Array(sc):sc),this.reset()}T(Ju,(function(){this.b=-1}));for(var Qu=64,tc=Qu-1,ec=[],nc=0;nc<tc;nc++)ec[nc]=0;var rc=Z(128,ec);function ic(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){var o=(0|n[e-16])+(((i=0|n[e-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,s=(0|n[e-7])+(((r=0|n[e-2])>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+s|0}r=0|t.a[0],i=0|t.a[1];var a=0|t.a[2],u=0|t.a[3],c=0|t.a[4],l=0|t.a[5],h=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&a^i&a)|0;s=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((s=(s=c&l^~c&h)+(0|Xu[e])|0)+(0|n[e])|0)|0,o=h,h=l,l=c,c=u+s|0,u=a,a=i,i=r,r=s+f|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+a|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+l|0,t.a[6]=t.a[6]+h|0,t.a[7]=t.a[7]+o|0}function oc(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if("string"==typeof e)for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(ic(t),i=0);else{if(!d(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(ic(t),i=0)}}t.c=i,t.g+=n}Ju.prototype.reset=function(){this.g=this.c=0,this.a=u.Int32Array?new Int32Array(this.h):Y(this.h)};var sc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function ac(){Ju.call(this,8,uc)}T(ac,Ju);var uc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function cc(t,e,n,r,i){this.u=t,this.i=e,this.l=n,this.m=r||null,this.s=i||null,this.h=e+":"+n,this.w=new Yu,this.g=new Ku(this.h),this.f=null,this.b=[],this.a=this.c=null}function lc(t){return new S("invalid-cordova-configuration",t)}function hc(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(r){}}function fc(t){return t.f||(t.f=t.ka().then((function(){return new be((function(e){t.Ca((function n(r){return e(r),t.Qa(n),!1})),function(t){function e(e){r=!0,i&&i.cancel(),dc(t).then((function(r){var i=n;if(r&&e&&e.url){var o=null;-1!=(i=to(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=Dr(Vn(o=Un(i),"firebaseError")||null))?A(o):null)?new Vo(r.c,r.b,null,null,o,null,r.S()):new Vo(r.c,r.b,i,r.f,null,null,r.S())),i=o||n}hc(t,i)}))}var n=new Vo("unknown",null,null,null,new S("no-auth-event")),r=!1,i=Tn(500).then((function(){return dc(t).then((function(){r||hc(t,n)}))})),o=u.handleOpenURL;u.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(Ar("BuildInfo.packageName",u).toLowerCase()+"://")&&e({url:t}),"function"==typeof o)try{o(t)}catch(n){console.error(n)}},Fo||(Fo=new Mo),function(t){var e=Fo;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=Ar("universalLinks.subscribe",u))&&t(null,e.b))}(e)}(t)}))}))),t.f}function dc(t){var e=null;return function(t){return t.b.get(Zu,t.a).then((function(t){return Uo(t)}))}(t.g).then((function(n){return e=n,Wu((n=t.g).b,Zu,n.a)})).then((function(){return e}))}function pc(t){this.a=t,this.b=Bu()}(t=cc.prototype).ka=function(){return this.Ga?this.Ga:this.Ga=(gr(void 0)?pr().then((function(){return new be((function(t,e){var n=u.document,r=setTimeout((function(){e(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),t()}),!1)}))})):Ce(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!=typeof Ar("universalLinks.subscribe",u))throw lc("cordova-universal-links-plugin-fix is not installed");if(void 0===Ar("BuildInfo.packageName",u))throw lc("cordova-plugin-buildinfo is not installed");if("function"!=typeof Ar("cordova.plugins.browsertab.openUrl",u))throw lc("cordova-plugin-browsertab is not installed");if("function"!=typeof Ar("cordova.InAppBrowser.open",u))throw lc("cordova-plugin-inappbrowser is not installed")}),(function(){throw new S("cordova-not-ready")}))},t.Lb=function(t,e){return e(new S("operation-not-supported-in-this-environment")),Ae()},t.Jb=function(){return Ce(new S("operation-not-supported-in-this-environment"))},t.Xb=function(){return!1},t.Ub=function(){return!0},t.Qb=function(){return!0},t.Kb=function(t,e,n,r){if(this.c)return Ce(new S("redirect-operation-pending"));var i=this,o=u.document,s=null,a=null,c=null,l=null;return this.c=Ae().then((function(){return Lo(e),fc(i)})).then((function(){return function(t,e,n,r,i){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),s=new Vo(e,r,null,o,new S("no-auth-event"),null,i),a=Ar("BuildInfo.packageName",u);if("string"!=typeof a)throw new S("invalid-cordova-configuration");var c=Ar("BuildInfo.displayName",u),l={};if(Sr().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=a;else{if(!Sr().toLowerCase().match(/android/))return Ce(new S("operation-not-supported-in-this-environment"));l.apn=a}c&&(l.appDisplayName=c),o=function(t){var e=new ac;oc(e,t),t=[];var n=8*e.g;oc(e,rc,56>e.c?56-e.c:e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(ic(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return function(t){return G(t,(function(t){return 1<(t=t.toString(16)).length?t:"0"+t})).join("")}(t)}(o),l.sessionId=o;var h=uu(t.u,t.i,t.l,e,n,null,r,t.m,l,t.s,i);return t.ka().then((function(){var e=t.h;return t.w.a.set(Zu,s.v(),e)})).then((function(){var e=Ar("cordova.plugins.browsertab.isAvailable",u);if("function"!=typeof e)throw new S("invalid-cordova-configuration");var n=null;e((function(e){if(e){if("function"!=typeof(n=Ar("cordova.plugins.browsertab.openUrl",u)))throw new S("invalid-cordova-configuration");n(h)}else{if("function"!=typeof(n=Ar("cordova.InAppBrowser.open",u)))throw new S("invalid-cordova-configuration");e=Sr(),t.a=n(h,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,t,e,n,r)})).then((function(){return new be((function(t,e){a=function(){var e=Ar("cordova.plugins.browsertab.close",u);return t(),"function"==typeof e&&e(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ca(a),l=function(){jr()&&c()},o.addEventListener("resume",c=function(){s||(s=Tn(2e3).then((function(){e(new S("redirect-cancelled-by-user"))})))},!1),Sr().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)})).o((function(t){return dc(i).then((function(){throw t}))}))})).ma((function(){c&&o.removeEventListener("resume",c,!1),l&&o.removeEventListener("visibilitychange",l,!1),s&&s.cancel(),a&&i.Qa(a),i.c=null}))},t.Ca=function(t){this.b.push(t),fc(this).o((function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new Vo("unknown",null,null,null,new S("no-auth-event")),t(e))}))},t.Qa=function(t){X(this.b,(function(e){return e==t}))};var gc={name:"pendingRedirect",F:"session"};function vc(t){return Wu(t.b,gc,t.a)}function mc(t,e,n){this.i={},this.w=0,this.D=t,this.u=e,this.m=n,this.h=[],this.f=!1,this.l=_(this.s,this),this.b=new Nc,this.B=new Vc,this.g=new pc(this.u+":"+this.m),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.B,this.c.linkViaPopup=this.B,this.c.reauthViaPopup=this.B,this.a=yc(this.D,this.u,this.m,C)}function yc(t,n,r,i){var o=e.SDK_VERSION||null;return gr()?new cc(t,n,r,o,i):new iu(t,n,r,o,i)}function bc(t){t.f||(t.f=!0,t.a.Ca(t.l));var e=t.a;return t.a.ka().o((function(n){throw t.a==e&&t.reset(),n}))}function wc(t){t.a.Ub()&&bc(t).o((function(e){var n=new Vo("unknown",null,null,null,new S("operation-not-supported-in-this-environment"));Ac(e)&&t.s(n)})),t.a.Qb()||Rc(t.b)}function _c(t,e){$(t.h,e)||t.h.push(e),t.f||function(t){return t.b.get(gc,t.a).then((function(t){return"pending"==t}))}(t.g).then((function(e){e?vc(t.g).then((function(){bc(t).o((function(e){var n=new Vo("unknown",null,null,null,new S("operation-not-supported-in-this-environment"));Ac(e)&&t.s(n)}))})):wc(t)})).o((function(){wc(t)}))}function Ec(t,e){X(t.h,(function(t){return t==e}))}mc.prototype.reset=function(){this.f=!1,this.a.Qa(this.l),this.a=yc(this.D,this.u,this.m),this.i={}},mc.prototype.s=function(t){if(!t)throw new S("invalid-auth-event");if(6e5<=I()-this.w&&(this.i={},this.w=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Cb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,r),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.w=I())),e=!0;break}}return Rc(this.b),e};var Ic=new Mr(2e3,1e4),Tc=new Mr(3e4,6e4);function Sc(t,e,n,r,i,o,s){return t.a.Jb(e,n,r,(function(){t.f||(t.f=!0,t.a.Ca(t.l))}),(function(){t.reset()}),i,o,s)}function Ac(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function Cc(t,e,n,r,i){var o;return function(t){return t.b.set(gc,"pending",t.a)}(t.g).then((function(){return t.a.Kb(e,n,r,i).o((function(e){if(Ac(e))throw new S("operation-not-supported-in-this-environment");return o=e,vc(t.g).then((function(){throw o}))})).then((function(){return t.a.Xb()?new be((function(){})):vc(t.g).then((function(){return t.pa()})).then((function(){})).o((function(){}))}))}))}function kc(t,e,n,r,i){return t.a.Lb(r,(function(t){e.la(n,null,t,i)}),Ic.get())}mc.prototype.pa=function(){return this.b.pa()};var xc={};function Oc(t,e,n){var r=e+":"+n;return xc[r]||(xc[r]=new mc(t,e,n)),xc[r]}function Nc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Rc(t){t.g||(t.g=!0,Lc(t,!1,null,null))}function Pc(t){t.g&&!t.i&&Lc(t,!1,null,null)}function Dc(t,e){if(t.b=function(){return Ae(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function Lc(t,e,n,r){e?r?function(t,e){if(t.b=function(){return Ce(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):Dc(t,n):Dc(t,{user:null}),t.f=[],t.c=[]}function Vc(){}function Uc(){this.Bb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.Bb},set:function(t){this.Bb=t},enumerable:!1})}function Mc(t,e){this.a=e,Wr(this,"verificationId",t)}function jc(t,e,n,r){return new Ro(t).cb(e,n).then((function(t){return new Mc(t,r)}))}function Fc(t){var e=Fi(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new S("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");$r(this,{token:t,expirationTime:Fr(1e3*e.exp),authTime:Fr(1e3*e.auth_time),issuedAtTime:Fr(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function qc(t,e,n){var r=e&&e[Bc];if(!r)throw new S("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=pt(e),this.g=n,this.c=new eo(null,r),this.b=[];var i=this;B(e[Hc]||[],(function(t){(t=Yr(t))&&i.b.push(t)})),Wr(this,"auth",this.a),Wr(this,"session",this.c),Wr(this,"hints",this.b)}Nc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Nc.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?t.a?(Lc(this,!0,null,t.a),Ae()):e.Da(n,r)?function(t,e,n){n=n.Da(e.c,e.b);var r=e.g,i=e.f,o=e.i,s=e.S(),a=!!e.c.match(/Redirect$/);n(r,i,s,o).then((function(e){Lc(t,a,e,null)})).o((function(e){Lc(t,a,null,e)}))}(this,t,e):Ce(new S("invalid-auth-event")):(Lc(this,!1,null,null),Ae())}else Ce(new S("invalid-auth-event"))},Nc.prototype.pa=function(){var t=this;return new be((function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new S("timeout");t.a&&t.a.cancel(),t.a=Tn(Tc.get()).then((function(){t.b||(t.g=!0,Lc(t,!0,null,e))}))}(t))}))},Vc.prototype.h=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.la(t.c,null,t.a,t.b),Ae()):e.Da(n,r)?function(t,e){var n=t.b,r=t.c;e.Da(r,n)(t.g,t.f,t.S(),t.i).then((function(t){e.la(r,t,null,n)})).o((function(t){e.la(r,null,t,n)}))}(t,e):Ce(new S("invalid-auth-event"))}else Ce(new S("invalid-auth-event"))},Mc.prototype.confirm=function(t){return t=Po(this.verificationId,t),this.a(t)};var Hc="mfaInfo",Bc="mfaPendingCredential";function zc(t,e,n,r){S.call(this,"multi-factor-auth-required",r,e),this.b=new qc(t,e,n),Wr(this,"resolver",this.b)}function Gc(t,e,n){if(t&&g(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new zc(e,t.serverResponse,n,t.message)}catch(r){}return null}function Wc(){}function $c(t){Wr(this,"factorId",t.ea),this.a=t}function Kc(t){if($c.call(this,t),this.a.ea!=Ro.PROVIDER_ID)throw new S("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function Xc(t,e){for(var n in Ke.call(this,t),e)this[n]=e[n]}function Zc(t,e){this.a=t,this.b=[],this.c=_(this.wc,this),an(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&B(e.multiFactor.enrolledFactors,(function(t){var e=null,r={};if(t){t.uid&&(r[ti]=t.uid),t.displayName&&(r[Jr]=t.displayName),t.enrollmentTime&&(r[Qr]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(r[ei]=t.phoneNumber);try{e=new ni(r)}catch(i){}t=e}else t=null;t&&n.push(t)})),Yc(this,n)}function Yc(t,e){t.b=e,Wr(t,"enrolledFactors",e)}function Jc(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function Qc(t){this.c=t,this.b=this.a=null}function tl(t){return t.b&&1e3*t.b.c||0}function el(t,e){var n=e.refreshToken;t.b=ji(e[Gs]||""),t.a=n}function nl(t,e){this.a=t||null,this.b=e||null,$r(this,{lastSignInTime:Fr(e||null),creationTime:Fr(t||null)})}function rl(t,e,n,r,i,o){$r(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function il(t,n,r){this.N=[],this.l=t.apiKey,this.m=t.appName,this.s=t.authDomain||null,t=e.SDK_VERSION?Tr(e.SDK_VERSION):null,this.a=new Bs(this.l,N(C),t),this.b=new Qc(this.a),hl(this,n[Gs]),el(this.b,n),Wr(this,"refreshToken",this.b.a),pl(this,r||{}),bn.call(this),this.P=!1,this.s&&kr()&&(this.i=Oc(this.s,this.l,this.m)),this.R=[],this.h=null,this.B=function(t){return new Jc((function(){return t.I(!0)}),(function(t){return!(!t||"auth/network-request-failed"!=t.code)}),(function(){var e=tl(t.b)-I()-3e5;return 0<e?e:0}))}(this),this.Z=_(this.Ma,this);var i=this;this.oa=null,this.za=function(t){i.va(t.g)},this.aa=null,this.W=[],this.ya=function(t){sl(i,t.c)},this.$=null,this.O=new Zc(this,r),Wr(this,"multiFactor",this.O)}function ol(t,e){t.aa&&ln(t.aa,"languageCodeChanged",t.za),(t.aa=e)&&an(e,"languageCodeChanged",t.za)}function sl(t,n){t.W=n,Ys(t.a,e.SDK_VERSION?Tr(e.SDK_VERSION,t.W):null)}function al(t,e){t.$&&ln(t.$,"frameworkChanged",t.ya),(t.$=e)&&an(e,"frameworkChanged",t.ya)}function ul(t){try{return e.app(t.m).auth()}catch(n){throw new S("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function cl(t){t.D||t.B.b||(t.B.start(),ln(t,"tokenChanged",t.Z),an(t,"tokenChanged",t.Z))}function ll(t){ln(t,"tokenChanged",t.Z),t.B.stop()}function hl(t,e){t.xa=e,Wr(t,"_lat",e)}function fl(t){for(var e=[],n=0;n<t.R.length;n++)e.push(t.R[n](t));return xe(e).then((function(){return t}))}function dl(t){t.i&&!t.P&&(t.P=!0,_c(t.i,t))}function pl(t,e){$r(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new nl(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function gl(){}function vl(t){return Ae().then((function(){if(t.D)throw new S("app-deleted")}))}function ml(t){return G(t.providerData,(function(t){return t.providerId}))}function yl(t,e){e&&(bl(t,e.providerId),t.providerData.push(e))}function bl(t,e){X(t.providerData,(function(t){return t.providerId==e}))}function wl(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Wr(t,e,n)}function _l(t,e){t!=e&&($r(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),Wr(t,"metadata",e.metadata?function(t){return new nl(t.a,t.b)}(e.metadata):new nl),B(e.providerData,(function(e){yl(t,e)})),function(t,e){t.b=e.b,t.a=e.a}(t.b,e.b),Wr(t,"refreshToken",t.b.a),Yc(t.O,e.O.b))}function El(t){return t.I().then((function(e){var n=t.isAnonymous;return function(t,e){return $a(t.a,Ta,{idToken:e}).then(_(t.Ic,t))}(t,e).then((function(){return n||wl(t,"isAnonymous",!1),e}))}))}function Il(t,e){e[Gs]&&t.xa!=e[Gs]&&(el(t.b,e),t.dispatchEvent(new Xc("tokenChanged")),hl(t,e[Gs]),wl(t,"refreshToken",t.b.a))}function Tl(t,e){return El(t).then((function(){if($(ml(t),e))return fl(t).then((function(){throw new S("provider-already-linked")}))}))}function Sl(t,e,n){return Kr({user:t,credential:Do(e),additionalUserInfo:e=Gi(e),operationType:n})}function Al(t,e){return Il(t,e),t.reload().then((function(){return t}))}function Cl(t,n,r,i,o){if(!kr())return Ce(new S("operation-not-supported-in-this-environment"));if(t.h&&!o)return Ce(t.h);var s=zi(r.providerId),a=Lr(t.uid+":::"),u=null;(!Nr()||vr())&&t.s&&r.isOAuthProvider&&(u=uu(t.s,t.l,t.m,n,r,null,a,e.SDK_VERSION||null,null,null,t.tenantId));var c=hr(u,s&&s.ta,s&&s.sa);return i=i().then((function(){if(xl(t),!o)return t.I().then((function(){}))})).then((function(){return Sc(t.i,c,n,r,a,!!u,t.tenantId)})).then((function(){return new be((function(e,r){t.la(n,null,new S("cancelled-popup-request"),t.g||null),t.f=e,t.w=r,t.g=a,t.c=kc(t.i,t,n,c,a)}))})).then((function(t){return c&&lr(c),t?Kr(t):null})).o((function(t){throw c&&lr(c),t})),Ol(t,i,o)}function kl(t,e,n,r,i){if(!kr())return Ce(new S("operation-not-supported-in-this-environment"));if(t.h&&!i)return Ce(t.h);var o=null,s=Lr(t.uid+":::");return r=r().then((function(){if(xl(t),!i)return t.I().then((function(){}))})).then((function(){return t.fa=s,fl(t)})).then((function(e){return t.ga&&(e=(e=t.ga).b.set(Pl,t.v(),e.a)),e})).then((function(){return Cc(t.i,e,n,s,t.tenantId)})).o((function(e){if(o=e,t.ga)return Dl(t.ga);throw o})).then((function(){if(o)throw o})),Ol(t,r,i)}function xl(t){if(!t.i||!t.P){if(t.i&&!t.P)throw new S("internal-error");throw new S("auth-domain-config-required")}}function Ol(t,e,n){var r=function(t,e,n){return t.h&&!n?(e.cancel(),Ce(t.h)):e.o((function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.h||t.dispatchEvent(new Xc("userInvalidated")),t.h=e),e}))}(t,e,n);return t.N.push(r),r.ma((function(){K(t.N,r)})),r.o((function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=Gc(e.v(),ul(t),_(t.hc,t))),n||e}))}function Nl(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[Gs]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var r=new il(e,n,t);return t.providerData&&B(t.providerData,(function(t){t&&yl(r,Kr(t))})),t.redirectEventId&&(r.fa=t.redirectEventId),r}function Rl(t){this.a=t,this.b=Bu()}qc.prototype.Pc=function(t){var e=this;return t.ob(this.a.b,this.c).then((function(t){var n=pt(e.f);return delete n[Hc],delete n[Bc],vt(n,t),e.g(n)}))},T(zc,S),Wc.prototype.ob=function(t,e,n){return e.type==no?function(t,e,n,r){return n.Fa().then((function(n){return n={idToken:n},void 0!==r&&(n.displayName=r),vt(n,{phoneVerificationInfo:No(t.a)}),$a(e,Ea,n)}))}(this,t,e,n):function(t,e,n){return n.Fa().then((function(n){return vt(n={mfaPendingCredential:n},{phoneVerificationInfo:No(t.a)}),$a(e,Ia,n)}))}(this,t,e)},T($c,Wc),T(Kc,$c),T(Xc,Ke),(t=Zc.prototype).wc=function(t){Yc(this,function(t){var e=[];return B(t.mfaInfo||[],(function(t){(t=Yr(t))&&e.push(t)})),e}(t.ed))},t.Ob=function(){return this.a.I().then((function(t){return new eo(t,null)}))},t.dc=function(t,e){var n=this,r=this.a.a;return this.Ob().then((function(n){return t.ob(r,n,e)})).then((function(t){return Il(n.a,t),n.a.reload()}))},t.$c=function(t){var e=this,n="string"==typeof t?t:t.uid,r=this.a.a;return this.a.I().then((function(t){return $a(r,Wa,{idToken:t,mfaEnrollmentId:n})})).then((function(t){var r=z(e.b,(function(t){return t.uid!=n}));return Yc(e,r),Il(e.a,t),e.a.reload().o((function(t){if("auth/user-token-expired"!=t.code)throw t}))}))},t.v=function(){return{multiFactor:{enrolledFactors:G(this.b,(function(t){return t.v()}))}}},Jc.prototype.start=function(){this.a=this.c,function t(e,n){e.stop(),e.b=Tn(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(e,n)).then((function(){return function(){var t=u.document,e=null;return jr()||!t?Ae():new be((function(n){e=function(){jr()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)})).o((function(n){throw t.removeEventListener("visibilitychange",e,!1),n}))}()})).then((function(){return e.h()})).then((function(){t(e,!0)})).o((function(n){e.i(n)&&t(e,!1)}))}(this,!0)},Jc.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},Qc.prototype.v=function(){return{apiKey:this.c.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:tl(this)}},Qc.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?Ce(new S("user-token-expired")):t||!this.b||I()>tl(this)-3e4?this.a?function(t,e){return function(t,e){return new be((function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?Js(t,t.u+"?key="+encodeURIComponent(t.c),(function(t){t?t.error?r(Xa(t)):t.access_token&&t.refresh_token?n(t):r(new S("internal-error")):r(new S("network-request-failed"))}),"POST",Xn(e).toString(),t.g,t.m.get()):r(new S("internal-error"))}))}(t.c,e).then((function(e){return t.b=ji(e.access_token),t.a=e.refresh_token,{accessToken:t.b.toString(),refreshToken:t.a}})).o((function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e}))}(this,{grant_type:"refresh_token",refresh_token:this.a}):Ae(null):Ae({accessToken:this.b.toString(),refreshToken:this.a})},nl.prototype.v=function(){return{lastLoginAt:this.b,createdAt:this.a}},T(il,bn),il.prototype.va=function(t){this.oa=t,Zs(this.a,t)},il.prototype.ja=function(){return this.oa},il.prototype.Ea=function(){return Y(this.W)},il.prototype.Ma=function(){this.B.b&&(this.B.stop(),this.B.start())},Wr(il.prototype,"providerId","firebase"),(t=il.prototype).reload=function(){var t=this;return Ol(this,vl(this).then((function(){return El(t).then((function(){return fl(t)})).then(gl)})))},t.mc=function(t){return this.I(t).then((function(t){return new Fc(t)}))},t.I=function(t){var e=this;return Ol(this,vl(this).then((function(){return e.b.getToken(t)})).then((function(t){if(!t)throw new S("internal-error");return t.accessToken!=e.xa&&(hl(e,t.accessToken),e.dispatchEvent(new Xc("tokenChanged"))),wl(e,"refreshToken",t.refreshToken),t.accessToken})))},t.Ic=function(t){if(!(t=t.users)||!t.length)throw new S("internal-error");pl(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?G(t,(function(t){return new rl(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)})):[]}(t),n=0;n<e.length;n++)yl(this,e[n]);wl(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new Xc("userReloaded",{ed:t}))},t.Jc=function(t){return zr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.pb(t)},t.pb=function(t){var e=this,n=null;return Ol(this,t.c(this.a,this.uid).then((function(t){return Il(e,t),n=Sl(e,t,"reauthenticate"),e.h=null,e.reload()})).then((function(){return n})),!0)},t.Ac=function(t){return zr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.mb(t)},t.mb=function(t){var e=this,n=null;return Ol(this,Tl(this,t.providerId).then((function(){return e.I()})).then((function(n){return t.b(e.a,n)})).then((function(t){return n=Sl(e,t,"link"),Al(e,t)})).then((function(){return n})))},t.Bc=function(t,e){var n=this;return Ol(this,Tl(this,"phone").then((function(){return jc(ul(n),t,e,_(n.mb,n))})))},t.Kc=function(t,e){var n=this;return Ol(this,Ae().then((function(){return jc(ul(n),t,e,_(n.pb,n))})),!0)},t.xb=function(t){var e=this;return Ol(this,this.I().then((function(n){return e.a.xb(n,t)})).then((function(t){return Il(e,t),e.reload()})))},t.cd=function(t){var e=this;return Ol(this,this.I().then((function(n){return t.b(e.a,n)})).then((function(t){return Il(e,t),e.reload()})))},t.yb=function(t){var e=this;return Ol(this,this.I().then((function(n){return e.a.yb(n,t)})).then((function(t){return Il(e,t),e.reload()})))},t.zb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return vl(this);var e=this;return Ol(this,this.I().then((function(n){return e.a.zb(n,{displayName:t.displayName,photoUrl:t.photoURL})})).then((function(t){return Il(e,t),wl(e,"displayName",t.displayName||null),wl(e,"photoURL",t.photoUrl||null),B(e.providerData,(function(t){"password"===t.providerId&&(Wr(t,"displayName",e.displayName),Wr(t,"photoURL",e.photoURL))})),fl(e)})).then(gl))},t.ad=function(t){var e=this;return Ol(this,El(this).then((function(n){return $(ml(e),t)?function(t,e,n){return $a(t,ba,{idToken:e,deleteProvider:n})}(e.a,n,[t]).then((function(t){var n={};return B(t.providerUserInfo||[],(function(t){n[t.providerId]=!0})),B(ml(e),(function(t){n[t]||bl(e,t)})),n[Ro.PROVIDER_ID]||Wr(e,"phoneNumber",null),fl(e)})):fl(e).then((function(){throw new S("no-such-provider")}))})))},t.delete=function(){var t=this;return Ol(this,this.I().then((function(e){return $a(t.a,ya,{idToken:e})})).then((function(){t.dispatchEvent(new Xc("userDeleted"))}))).then((function(){for(var e=0;e<t.N.length;e++)t.N[e].cancel("app-deleted");ol(t,null),al(t,null),t.N=[],t.D=!0,ll(t),Wr(t,"refreshToken",null),t.i&&Ec(t.i,t)}))},t.Cb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.fa||null)==e||"reauthViaRedirect"==t&&(this.fa||null)==e)},t.la=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.g||null)||(n&&this.w?this.w(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.w)},t.Da=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?_(this.Hb,this):"reauthViaPopup"==t&&e==(this.g||null)?_(this.Ib,this):"linkViaRedirect"==t&&(this.fa||null)==e?_(this.Hb,this):"reauthViaRedirect"==t&&(this.fa||null)==e?_(this.Ib,this):null},t.Cc=function(t){var e=this;return Cl(this,"linkViaPopup",t,(function(){return Tl(e,t.providerId).then((function(){return fl(e)}))}),!1)},t.Lc=function(t){return Cl(this,"reauthViaPopup",t,(function(){return Ae()}),!0)},t.Dc=function(t){var e=this;return kl(this,"linkViaRedirect",t,(function(){return Tl(e,t.providerId)}),!1)},t.Mc=function(t){return kl(this,"reauthViaRedirect",t,(function(){return Ae()}),!0)},t.Hb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Ol(this,this.I().then((function(n){return ha(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})})).then((function(t){return o=Sl(i,t,"link"),Al(i,t)})).then((function(){return o})))},t.Ib=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Ol(this,Ae().then((function(){return oo(fa(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)})).then((function(t){return o=Sl(i,t,"reauthenticate"),Il(i,t),i.h=null,i.reload()})).then((function(){return o})),!0)},t.qb=function(t){var e=this,n=null;return Ol(this,this.I().then((function(e){return n=e,void 0===t||dt(t)?{}:Vi(new Ai(t))})).then((function(t){return e.a.qb(n,t)})).then((function(t){if(e.email!=t)return e.reload()})).then((function(){})))},t.Ab=function(t,e){var n=this,r=null;return Ol(this,this.I().then((function(t){return r=t,void 0===e||dt(e)?{}:Vi(new Ai(e))})).then((function(e){return n.a.Ab(r,t,e)})).then((function(t){if(n.email!=t)return n.reload()})).then((function(){})))},t.hc=function(t){var e=null,n=this;return Ol(this,t=oo(Ae(t),n.uid).then((function(t){return e=Sl(n,t,"reauthenticate"),Il(n,t),n.h=null,n.reload()})).then((function(){return e})),!0)},t.toJSON=function(){return this.v()},t.v=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.v(),redirectEventId:this.fa||null};return this.metadata&&vt(t,this.metadata.v()),B(this.providerData,(function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))})),vt(t,this.O.v()),t};var Pl={name:"redirectUser",F:"session"};function Dl(t){return Wu(t.b,Pl,t.a)}function Ll(t){this.a=t,this.b=Bu(),this.c=null,this.f=function(t){var e=Ml("local"),n=Ml("session"),r=Ml("none");return function(t,e,n){var r=Gu(e,n),i=zu(t,e.F);return t.get(e,n).then((function(o){var s=null;try{s=Dr(u.localStorage.getItem(r))}catch(a){}if(s&&!o)return u.localStorage.removeItem(r),t.set(e,s,n);s&&o&&"localStorage"!=i.type&&u.localStorage.removeItem(r)}))}(t.b,e,t.a).then((function(){return t.b.get(n,t.a)})).then((function(i){return i?n:t.b.get(r,t.a).then((function(n){return n?r:t.b.get(e,t.a).then((function(n){return n?e:t.b.get(Ul,t.a).then((function(t){return t?Ml(t):e}))}))}))})).then((function(e){return t.c=e,Vl(t,e.F)})).o((function(){t.c||(t.c=e)}))}(this),this.b.addListener(Ml("local"),this.a,_(this.g,this))}function Vl(t,e){var n,r=[];for(n in qu)qu[n]!==e&&r.push(Wu(t.b,Ml(qu[n]),t.a));return r.push(Wu(t.b,Ul,t.a)),function(t){return new be((function(e,n){var r=t.length,i=[];if(r)for(var o=function(t,n){r--,i[t]=n,0==r&&e(i)},s=function(t){n(t)},a=0;a<t.length;a++)ke(t[a],E(o,a),s);else e(i)}))}(r)}Ll.prototype.g=function(){var t=this,e=Ml("local");Hl(this,(function(){return Ae().then((function(){return t.c&&"local"!=t.c.F?t.b.get(e,t.a):null})).then((function(n){if(n)return Vl(t,"local").then((function(){t.c=e}))}))}))};var Ul={name:"persistence",F:"session"};function Ml(t){return{name:"authUser",F:t}}function jl(t,e){return Hl(t,(function(){return t.b.set(t.c,e.v(),t.a)}))}function Fl(t){return Hl(t,(function(){return Wu(t.b,t.c,t.a)}))}function ql(t,e){return Hl(t,(function(){return t.b.get(t.c,t.a).then((function(t){return t&&e&&(t.authDomain=e),Nl(t||{})}))}))}function Hl(t,e){return t.f=t.f.then(e,e),t.f}function Bl(t){if(this.l=!1,Wr(this,"settings",new Uc),Wr(this,"app",t),!Zl(this).options||!Zl(this).options.apiKey)throw new S("invalid-api-key");t=e.SDK_VERSION?Tr(e.SDK_VERSION):null,this.b=new Bs(Zl(this).options&&Zl(this).options.apiKey,N(C),t),this.P=[],this.m=[],this.O=[],this.$b=e.INTERNAL.createSubscribe(_(this.xc,this)),this.W=void 0,this.ac=e.INTERNAL.createSubscribe(_(this.yc,this)),Kl(this,null),this.i=new Ll(Zl(this).options.apiKey+":"+Zl(this).name),this.B=new Rl(Zl(this).options.apiKey+":"+Zl(this).name),this.Z=th(this,function(t){var e=Zl(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(Pl,t.a).then((function(t){return t&&e&&(t.authDomain=e),Nl(t||{})}))}(t.B,Zl(t).options.authDomain).then((function(e){return(t.D=e)&&(e.ga=t.B),Dl(t.B)}));return th(t,e)}(t).then((function(){return ql(t.i,e)})).then((function(e){return e?(e.ga=t.B,t.D&&(t.D.fa||null)==(e.fa||null)?e:e.reload().then((function(){return jl(t.i,e).then((function(){return e}))})).o((function(n){return"auth/network-request-failed"==n.code?e:Fl(t.i)}))):null})).then((function(e){Kl(t,e||null)}));return th(t,n)}(this)),this.h=th(this,function(t){return t.Z.then((function(){return $l(t)})).o((function(){})).then((function(){if(!t.l)return t.oa()})).o((function(){})).then((function(){if(!t.l){t.aa=!0;var e=t.i;e.b.addListener(Ml("local"),e.a,t.oa)}}))}(this)),this.aa=!1,this.oa=_(this.Xc,this),this.Ma=_(this.ca,this),this.xa=_(this.jc,this),this.ya=_(this.uc,this),this.za=_(this.vc,this),this.a=null,function(t){var e=Zl(t).options.authDomain,n=Zl(t).options.apiKey;e&&kr()&&(t.Zb=t.Z.then((function(){if(!t.l){if(t.a=Oc(e,n,Zl(t).name),_c(t.a,t),Yl(t)&&dl(Yl(t)),t.D){dl(t.D);var r=t.D;r.va(t.ja()),ol(r,t),sl(r=t.D,t.N),al(r,t),t.D=null}return t.a}})))}(this),this.INTERNAL={},this.INTERNAL.delete=_(this.delete,this),this.INTERNAL.logFramework=_(this.Ec,this),this.s=0,bn.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.ja()},set:function(t){this.va(t)},enumerable:!1}),t.$=null,Object.defineProperty(t,"ti",{get:function(){return this.S()},set:function(t){this.ub(t)},enumerable:!1}),t.R=null}(this),this.N=[]}function zl(t){Ke.call(this,"languageCodeChanged"),this.g=t}function Gl(t){Ke.call(this,"frameworkChanged"),this.c=t}function Wl(t){return t.Zb||Ce(new S("auth-domain-config-required"))}function $l(t){if(!kr())return Ce(new S("operation-not-supported-in-this-environment"));var e=Wl(t).then((function(){return t.a.pa()})).then((function(t){return t?Kr(t):null}));return th(t,e)}function Kl(t,e){Yl(t)&&(function(t,e){X(t.R,(function(t){return t==e}))}(Yl(t),t.Ma),ln(Yl(t),"tokenChanged",t.xa),ln(Yl(t),"userDeleted",t.ya),ln(Yl(t),"userInvalidated",t.za),ll(Yl(t))),e&&(e.R.push(t.Ma),an(e,"tokenChanged",t.xa),an(e,"userDeleted",t.ya),an(e,"userInvalidated",t.za),0<t.s&&cl(e)),Wr(t,"currentUser",e),e&&(e.va(t.ja()),ol(e,t),sl(e,t.N),al(e,t))}function Xl(t,e){var n=null,r=null;return th(t,e.then((function(e){return n=Do(e),r=Gi(e),function(t,e){var n={};return n.apiKey=Zl(t).options.apiKey,n.authDomain=Zl(t).options.authDomain,n.appName=Zl(t).name,t.Z.then((function(){return function(t,e,n,r){var i=new il(t,e);return n&&(i.ga=n),r&&sl(i,r),i.reload().then((function(){return i}))}(n,e,t.B,t.Ea())})).then((function(e){return Yl(t)&&e.uid==Yl(t).uid?(_l(Yl(t),e),t.ca(e)):(Kl(t,e),dl(e),t.ca(e))})).then((function(){Ql(t)}))}(t,e)}),(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=Gc(e.v(),t,_(t.ic,t))),n||e})).then((function(){return Kr({user:Yl(t),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function Zl(t){return t.app}function Yl(t){return t.currentUser}function Jl(t){return Yl(t)&&Yl(t)._lat||null}function Ql(t){if(t.aa){for(var e=0;e<t.m.length;e++)t.m[e]&&t.m[e](Jl(t));if(t.W!==t.getUid()&&t.O.length)for(t.W=t.getUid(),e=0;e<t.O.length;e++)t.O[e]&&t.O[e](Jl(t))}}function th(t,e){return t.P.push(e),e.ma((function(){K(t.P,e)})),e}function eh(){}function nh(){this.a={},this.b=1e12}Ll.prototype.tb=function(t){var e=null,n=this;return function(t){var e=new S("invalid-persistence-type"),n=new S("unsupported-persistence-type");t:{for(r in qu)if(qu[r]==t){var r=!0;break t}r=!1}if(!r||"string"!=typeof t)throw e;switch(yr()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;case"Worker":if("session"===t||!wu()&&"none"!==t)throw n;break;default:if(!Cr()&&"none"!==t)throw n}}(t),Hl(this,(function(){return t!=n.c.F?n.b.get(n.c,n.a).then((function(r){return e=r,Vl(n,t)})).then((function(){if(n.c=Ml(t),e)return n.b.set(n.c,e,n.a)})):Ae()}))},T(Bl,bn),T(zl,Ke),T(Gl,Ke),(t=Bl.prototype).tb=function(t){return th(this,t=this.i.tb(t))},t.va=function(t){this.$===t||this.l||(this.$=t,Zs(this.b,this.$),this.dispatchEvent(new zl(this.ja())))},t.ja=function(){return this.$},t.dd=function(){var t=u.navigator;this.va(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.Ec=function(t){this.N.push(t),Ys(this.b,e.SDK_VERSION?Tr(e.SDK_VERSION,this.N):null),this.dispatchEvent(new Gl(this.N))},t.Ea=function(){return Y(this.N)},t.ub=function(t){this.R===t||this.l||(this.R=t,this.b.b=this.R)},t.S=function(){return this.R},t.toJSON=function(){return{apiKey:Zl(this).options.apiKey,authDomain:Zl(this).options.authDomain,appName:Zl(this).name,currentUser:Yl(this)&&Yl(this).v()}},t.Cb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},t.la=function(t,e,n,r){"signInViaPopup"==t&&this.g==r&&(n&&this.w?this.w(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.w)},t.Da=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?_(this.gc,this):null},t.gc=function(t,e,n,r){var i=this,o={requestUri:t,postBody:r,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.Z.then((function(){return Xl(i,la(i.b,o))}))},t.Vc=function(t){if(!kr())return Ce(new S("operation-not-supported-in-this-environment"));var n=this,r=zi(t.providerId),i=Lr(),o=null;(!Nr()||vr())&&Zl(this).options.authDomain&&t.isOAuthProvider&&(o=uu(Zl(this).options.authDomain,Zl(this).options.apiKey,Zl(this).name,"signInViaPopup",t,null,i,e.SDK_VERSION||null,null,null,this.S()));var s=hr(o,r&&r.ta,r&&r.sa);return th(this,r=Wl(this).then((function(e){return Sc(e,s,"signInViaPopup",t,i,!!o,n.S())})).then((function(){return new be((function(t,e){n.la("signInViaPopup",null,new S("cancelled-popup-request"),n.g),n.f=t,n.w=e,n.g=i,n.c=kc(n.a,n,"signInViaPopup",s,i)}))})).then((function(t){return s&&lr(s),t?Kr(t):null})).o((function(t){throw s&&lr(s),t})))},t.Wc=function(t){if(!kr())return Ce(new S("operation-not-supported-in-this-environment"));var e=this;return th(this,Wl(this).then((function(){return function(t){return Hl(t,(function(){return t.b.set(Ul,t.c.F,t.a)}))}(e.i)})).then((function(){return Cc(e.a,"signInViaRedirect",t,void 0,e.S())})))},t.pa=function(){var t=this;return $l(this).then((function(e){return t.a&&Pc(t.a.b),e})).o((function(e){throw t.a&&Pc(t.a.b),e}))},t.bd=function(t){if(!t)return Ce(new S("null-user"));if(this.R!=t.tenantId)return Ce(new S("tenant-id-mismatch"));var e=this,n={};n.apiKey=Zl(this).options.apiKey,n.authDomain=Zl(this).options.authDomain,n.appName=Zl(this).name;var r=function(t,e,n,r){var i=t.b,o={};return o[Gs]=i.b&&i.b.toString(),o.refreshToken=i.a,e=new il(e||{apiKey:t.l,authDomain:t.s,appName:t.m},o),n&&(e.ga=n),r&&sl(e,r),_l(e,t),e}(t,n,e.B,e.Ea());return th(this,this.h.then((function(){if(Zl(e).options.apiKey!=t.l)return r.reload()})).then((function(){return Yl(e)&&t.uid==Yl(e).uid?(_l(Yl(e),t),e.ca(t)):(Kl(e,r),dl(r),e.ca(r))})).then((function(){Ql(e)})))},t.wb=function(){var t=this;return th(this,this.h.then((function(){return t.a&&Pc(t.a.b),Yl(t)?(Kl(t,null),Fl(t.i).then((function(){Ql(t)}))):Ae()})))},t.Xc=function(){var t=this;return ql(this.i,Zl(this).options.authDomain).then((function(e){if(!t.l){var n;if(n=Yl(t)&&e){n=Yl(t).uid;var r=e.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return _l(Yl(t),e),Yl(t).I();(Yl(t)||e)&&(Kl(t,e),e&&(dl(e),e.ga=t.B),t.a&&_c(t.a,t),Ql(t))}}))},t.ca=function(t){return jl(this.i,t)},t.jc=function(){Ql(this),this.ca(Yl(this))},t.uc=function(){this.wb()},t.vc=function(){this.wb()},t.ic=function(t){var e=this;return this.h.then((function(){return Xl(e,Ae(t))}))},t.xc=function(t){var e=this;this.addAuthTokenListener((function(){t.next(Yl(e))}))},t.yc=function(t){var e=this;!function(t,e){t.O.push(e),th(t,t.h.then((function(){!t.l&&$(t.O,e)&&t.W!==t.getUid()&&(t.W=t.getUid(),e(Jl(t)))})))}(this,(function(){t.next(Yl(e))}))},t.Gc=function(t,e,n){var r=this;return this.aa&&Promise.resolve().then((function(){"function"==typeof t?t(Yl(r)):"function"==typeof t.next&&t.next(Yl(r))})),this.$b(t,e,n)},t.Fc=function(t,e,n){var r=this;return this.aa&&Promise.resolve().then((function(){r.W=r.getUid(),"function"==typeof t?t(Yl(r)):"function"==typeof t.next&&t.next(Yl(r))})),this.ac(t,e,n)},t.kc=function(t){var e=this;return th(this,this.h.then((function(){return Yl(e)?Yl(e).I(t).then((function(t){return{accessToken:t}})):null})))},t.Rc=function(t){var e=this;return this.h.then((function(){return Xl(e,$a(e.b,qa,{token:t}))})).then((function(t){var n=t.user;return wl(n,"isAnonymous",!1),e.ca(n),t}))},t.Sc=function(t,e){var n=this;return this.h.then((function(){return Xl(n,$a(n.b,Ha,{email:t,password:e}))}))},t.cc=function(t,e){var n=this;return this.h.then((function(){return Xl(n,$a(n.b,va,{email:t,password:e}))}))},t.Ya=function(t){var e=this;return this.h.then((function(){return Xl(e,t.ia(e.b))}))},t.Qc=function(t){return zr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.Ya(t)},t.vb=function(){var t=this;return this.h.then((function(){var e=Yl(t);if(e&&e.isAnonymous){var n=Kr({providerId:null,isNewUser:!1});return Kr({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return Xl(t,t.b.vb()).then((function(e){var n=e.user;return wl(n,"isAnonymous",!0),t.ca(n),e}))}))},t.getUid=function(){return Yl(this)&&Yl(this).uid||null},t.bc=function(t){this.addAuthTokenListener(t),this.s++,0<this.s&&Yl(this)&&cl(Yl(this))},t.Nc=function(t){var e=this;B(this.m,(function(n){n==t&&e.s--})),0>this.s&&(this.s=0),0==this.s&&Yl(this)&&ll(Yl(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.m.push(t),th(this,this.h.then((function(){e.l||$(e.m,t)&&t(Jl(e))})))},t.removeAuthTokenListener=function(t){X(this.m,(function(e){return e==t}))},t.delete=function(){this.l=!0;for(var t=0;t<this.P.length;t++)this.P[t].cancel("app-deleted");return this.P=[],this.i&&(t=this.i).b.removeListener(Ml("local"),t.a,this.oa),this.a&&(Ec(this.a,this),Pc(this.a.b)),Promise.resolve()},t.fc=function(t){return th(this,function(t,e){return $a(t,ma,{identifier:e,continueUri:xr()?ar():"http://localhost"}).then((function(t){return t.signinMethods||[]}))}(this.b,t))},t.zc=function(t){return!!ko(t)},t.sb=function(t,e){var n=this;return th(this,Ae().then((function(){var t=new Ai(e);if(!t.c)throw new S("argument-error",xi+" must be true when sending sign in link to email");return Vi(t)})).then((function(e){return n.b.sb(t,e)})).then((function(){})))},t.fd=function(t){return this.Pa(t).then((function(t){return t.data.email}))},t.jb=function(t,e){return th(this,this.b.jb(t,e).then((function(){})))},t.Pa=function(t){return th(this,this.b.Pa(t).then((function(t){return new ri(t)})))},t.fb=function(t){return th(this,this.b.fb(t).then((function(){})))},t.rb=function(t,e){var n=this;return th(this,Ae().then((function(){return void 0===e||dt(e)?{}:Vi(new Ai(e))})).then((function(e){return n.b.rb(t,e)})).then((function(){})))},t.Uc=function(t,e){return th(this,jc(this,t,e,_(this.Ya,this)))},t.Tc=function(t,e){var n=this;return th(this,Ae().then((function(){var r=e||ar(),i=Co(t,r);if(!(r=ko(r)))throw new S("argument-error","Invalid email link!");if(r.tenantId!==n.S())throw new S("tenant-id-mismatch");return n.Ya(i)})))},eh.prototype.render=function(){},eh.prototype.reset=function(){},eh.prototype.getResponse=function(){},eh.prototype.execute=function(){};var rh=null;function ih(t,e){return(e=oh(e))&&t.a[e]||null}function oh(t){return(t=void 0===t?1e12:t)?t.toString():null}function sh(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=se(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():an(this.f,"click",this.i)}function ah(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function uh(){}function ch(){}nh.prototype.render=function(t,e){return this.a[this.b.toString()]=new sh(t,e),this.b++},nh.prototype.reset=function(t){var e=ih(this,t);t=oh(t),e&&t&&(e.delete(),delete this.a[t])},nh.prototype.getResponse=function(t){return(t=ih(this,t))?t.getResponse():null},nh.prototype.execute=function(t){(t=ih(this,t))&&t.execute()},sh.prototype.getResponse=function(){return ah(this),this.b},sh.prototype.execute=function(){ah(this);var t=this;this.a||(this.a=setTimeout((function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(r){}t.a=setTimeout((function(){if(t.a=null,t.b=null,n)try{n()}catch(r){}t.h&&t.execute()}),6e4)}),500))},sh.prototype.delete=function(){ah(this),this.g=!0,clearTimeout(this.a),this.a=null,ln(this.f,"click",this.i)},Wr(uh,"FACTOR_ID","phone"),ch.prototype.g=function(){return rh||(rh=new nh),Ae(rh)},ch.prototype.c=function(){};var lh=null;function hh(){this.b=u.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var fh=new yt(_t,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),dh=new Mr(3e4,6e4);hh.prototype.g=function(t){var e=this;return new be((function(n,r){var i=setTimeout((function(){r(new S("network-request-failed"))}),dh.get());!u.grecaptcha||t!==e.f&&!e.b?(u[e.a]=function(){if(u.grecaptcha){e.f=t;var o=u.grecaptcha.render;u.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(u.grecaptcha)}else clearTimeout(i),r(new S("internal-error"));delete u[e.a]},Ae(Vs(St(fh,{onload:e.a,hl:t||""}))).o((function(){clearTimeout(i),r(new S("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(u.grecaptcha))}))},hh.prototype.c=function(){this.b--};var ph=null;function gh(t,e,n,r,i,o,s){if(Wr(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.u=e,this.g=null,s?(lh||(lh=new ch),s=lh):(ph||(ph=new hh),s=ph),this.m=s,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[yh])throw new S("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[bh],!u.document)throw new S("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!se(e)||!this.i&&se(e).hasChildNodes())throw new S("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Bs(t,o||null,i||null),this.w=r||function(){return null};var a=this;this.l=[];var c=this.a[vh];this.a[vh]=function(t){if(wh(a,t),"function"==typeof c)c(t);else if("string"==typeof c){var e=Ar(c,u);"function"==typeof e&&e(t)}};var l=this.a[mh];this.a[mh]=function(){if(wh(a,null),"function"==typeof l)l();else if("string"==typeof l){var t=Ar(l,u);"function"==typeof t&&t()}}}var vh="callback",mh="expired-callback",yh="sitekey",bh="size";function wh(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(r){}}function _h(t,e){return t.h.push(e),e.ma((function(){K(t.h,e)})),e}function Eh(t){if(t.D)throw new S("internal-error","RecaptchaVerifier instance has been destroyed.")}function Ih(t,n,r){var i=!1;try{this.b=r||e.app()}catch(a){throw new S("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new S("invalid-api-key");r=this.b.options.apiKey;var o=this,s=null;try{s=this.b.auth().Ea()}catch(a){}try{i=this.b.auth().settings.appVerificationDisabledForTesting}catch(a){}s=e.SDK_VERSION?Tr(e.SDK_VERSION,s):null,gh.call(this,r,t,n,(function(){try{var t=o.b.auth().ja()}catch(e){t=null}return t}),s,N(C),i)}function Th(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,s=0;s<e.length;s++)if(e[s].optional)o=!0;else{if(o)throw new S("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].K(n[i])&&!o){if(e=e[i],0>i||i>=Sh.length)throw new S("internal-error","Argument validator received an unsupported number of arguments.");n=Sh[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.J+".";break t}r=null}}if(r)throw new S("argument-error",t+" failed: "+r)}(t=gh.prototype).Ga=function(){var t=this;return this.f?this.f:this.f=_h(this,Ae().then((function(){if(xr()&&!mr())return pr();throw new S("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return t.m.g(t.w())})).then((function(e){return t.g=e,$a(t.s,Oa,{})})).then((function(e){t.a[yh]=e.recaptchaSiteKey})).o((function(e){throw t.f=null,e})))},t.render=function(){Eh(this);var t=this;return _h(this,this.Ga().then((function(){if(null===t.c){var e=t.u;if(!t.i){var n=se(e);e=function(t,e,n){var r=arguments,i=document,o=String(r[0]),s=r[1];if(!oe&&s&&(s.name||s.type)){if(o=["<",o],s.name&&o.push(' name="',Ht(s.name),'"'),s.type){o.push(' type="',Ht(s.type),'"');var a={};vt(a,s),delete a.type,s=a}o.push(">"),o=o.join("")}return o=fe(i,o),s&&("string"==typeof s?o.className=s:Array.isArray(s)?o.className=s.join(" "):ae(o,s)),2<r.length&&he(i,o,r),o}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c})))},t.verify=function(){Eh(this);var t=this;return _h(this,this.render().then((function(e){return new be((function(n){var r=t.g.getResponse(e);if(r)n(r);else{var i=function(e){e&&(function(t,e){X(t.l,(function(t){return t==e}))}(t,i),n(e))};t.l.push(i),t.i&&t.g.execute(t.c)}}))})))},t.reset=function(){Eh(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){Eh(this),this.D=!0,this.m.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=se(this.u);for(var e;e=t.firstChild;)t.removeChild(e)}},T(Ih,gh);var Sh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Ah(t,e){return{name:t||"",J:"a valid string",optional:!!e,K:function(t){return"string"==typeof t}}}function Ch(t,e){return{name:t||"",J:"a boolean",optional:!!e,K:function(t){return"boolean"==typeof t}}}function kh(t,e){return{name:t||"",J:"a valid object",optional:!!e,K:g}}function xh(t,e){return{name:t||"",J:"a function",optional:!!e,K:function(t){return"function"==typeof t}}}function Oh(t,e){return{name:t||"",J:"null",optional:!!e,K:function(t){return null===t}}}function Nh(t){return{name:t?t+"Credential":"credential",J:t?"a valid "+t+" credential":"a valid credential",optional:!1,K:function(e){return!!e&&!(!e.ia||t&&e.providerId!==t)}}}function Rh(t,e){return g(t)&&"string"==typeof t.type&&t.type===e&&"function"==typeof t.Fa}function Ph(t){return g(t)&&"string"==typeof t.uid}function Dh(t,e,n,r){return{name:n||"",J:t.J+" or "+e.J,optional:!!r,K:function(n){return t.K(n)||e.K(n)}}}function Lh(t,e){for(var n in e){var r=e[n].name;t[r]=Mh(r,t[n],e[n].j)}}function Vh(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:E((function(t){return this[t]}),n),set:E((function(t,e,n,r){Th(t,[n],[r],!0),this[e]=r}),r,n,e[n].gb),enumerable:!0})}}function Uh(t,e,n,r){t[e]=Mh(e,n,r)}function Mh(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return Th(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}Lh(Bl.prototype,{fb:{name:"applyActionCode",j:[Ah("code")]},Pa:{name:"checkActionCode",j:[Ah("code")]},jb:{name:"confirmPasswordReset",j:[Ah("code"),Ah("newPassword")]},cc:{name:"createUserWithEmailAndPassword",j:[Ah("email"),Ah("password")]},fc:{name:"fetchSignInMethodsForEmail",j:[Ah("email")]},pa:{name:"getRedirectResult",j:[]},zc:{name:"isSignInWithEmailLink",j:[Ah("emailLink")]},Fc:{name:"onAuthStateChanged",j:[Dh(kh(),xh(),"nextOrObserver"),xh("opt_error",!0),xh("opt_completed",!0)]},Gc:{name:"onIdTokenChanged",j:[Dh(kh(),xh(),"nextOrObserver"),xh("opt_error",!0),xh("opt_completed",!0)]},rb:{name:"sendPasswordResetEmail",j:[Ah("email"),Dh(kh("opt_actionCodeSettings",!0),Oh(null,!0),"opt_actionCodeSettings",!0)]},sb:{name:"sendSignInLinkToEmail",j:[Ah("email"),kh("actionCodeSettings")]},tb:{name:"setPersistence",j:[Ah("persistence")]},Qc:{name:"signInAndRetrieveDataWithCredential",j:[Nh()]},vb:{name:"signInAnonymously",j:[]},Ya:{name:"signInWithCredential",j:[Nh()]},Rc:{name:"signInWithCustomToken",j:[Ah("token")]},Sc:{name:"signInWithEmailAndPassword",j:[Ah("email"),Ah("password")]},Tc:{name:"signInWithEmailLink",j:[Ah("email"),Ah("emailLink",!0)]},Uc:{name:"signInWithPhoneNumber",j:[Ah("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Vc:{name:"signInWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Wc:{name:"signInWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},bd:{name:"updateCurrentUser",j:[Dh({name:"user",J:"an instance of Firebase User",optional:!1,K:function(t){return!!(t&&t instanceof il)}},Oh(),"user")]},wb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Ah(null,!0)]},dd:{name:"useDeviceLanguage",j:[]},fd:{name:"verifyPasswordResetCode",j:[Ah("code")]}}),Vh(Bl.prototype,{lc:{name:"languageCode",gb:Dh(Ah(),Oh(),"languageCode")},ti:{name:"tenantId",gb:Dh(Ah(),Oh(),"tenantId")}}),(Bl.Persistence=qu).LOCAL="local",Bl.Persistence.SESSION="session",Bl.Persistence.NONE="none",Lh(il.prototype,{delete:{name:"delete",j:[]},mc:{name:"getIdTokenResult",j:[Ch("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Ch("opt_forceRefresh",!0)]},Ac:{name:"linkAndRetrieveDataWithCredential",j:[Nh()]},mb:{name:"linkWithCredential",j:[Nh()]},Bc:{name:"linkWithPhoneNumber",j:[Ah("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Cc:{name:"linkWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Dc:{name:"linkWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Jc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Nh()]},pb:{name:"reauthenticateWithCredential",j:[Nh()]},Kc:{name:"reauthenticateWithPhoneNumber",j:[Ah("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Lc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Mc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},qb:{name:"sendEmailVerification",j:[Dh(kh("opt_actionCodeSettings",!0),Oh(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Ah(null,!0)]},ad:{name:"unlink",j:[Ah("provider")]},xb:{name:"updateEmail",j:[Ah("email")]},yb:{name:"updatePassword",j:[Ah("password")]},cd:{name:"updatePhoneNumber",j:[Nh("phone")]},zb:{name:"updateProfile",j:[kh("profile")]},Ab:{name:"verifyBeforeUpdateEmail",j:[Ah("email"),Dh(kh("opt_actionCodeSettings",!0),Oh(null,!0),"opt_actionCodeSettings",!0)]}}),Lh(nh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Lh(eh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Lh(be.prototype,{ma:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),Vh(Uc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",gb:Ch("appVerificationDisabledForTesting")}}),Lh(Mc.prototype,{confirm:{name:"confirm",j:[Ah("verificationCode")]}}),Uh(io,"fromJSON",(function(t){t="string"==typeof t?JSON.parse(t):t;for(var e,n=[ho,So,Oo,uo],r=0;r<n.length;r++)if(e=n[r](t))return e;return null}),[Dh(Ah(),kh(),"json")]),Uh(Ao,"credential",(function(t,e){return new To(t,e)}),[Ah("email"),Ah("password")]),Lh(To.prototype,{v:{name:"toJSON",j:[Ah(null,!0)]}}),Lh(vo.prototype,{Aa:{name:"addScope",j:[Ah("scope")]},Ia:{name:"setCustomParameters",j:[kh("customOAuthParameters")]}}),Uh(vo,"credential",mo,[Dh(Ah(),kh(),"token")]),Uh(Ao,"credentialWithLink",Co,[Ah("email"),Ah("emailLink")]),Lh(yo.prototype,{Aa:{name:"addScope",j:[Ah("scope")]},Ia:{name:"setCustomParameters",j:[kh("customOAuthParameters")]}}),Uh(yo,"credential",bo,[Dh(Ah(),kh(),"token")]),Lh(wo.prototype,{Aa:{name:"addScope",j:[Ah("scope")]},Ia:{name:"setCustomParameters",j:[kh("customOAuthParameters")]}}),Uh(wo,"credential",_o,[Dh(Ah(),Dh(kh(),Oh()),"idToken"),Dh(Ah(),Oh(),"accessToken",!0)]),Lh(Eo.prototype,{Ia:{name:"setCustomParameters",j:[kh("customOAuthParameters")]}}),Uh(Eo,"credential",Io,[Dh(Ah(),kh(),"token"),Ah("secret",!0)]),Lh(go.prototype,{Aa:{name:"addScope",j:[Ah("scope")]},credential:{name:"credential",j:[Dh(Ah(),Dh(kh(),Oh()),"optionsOrIdToken"),Dh(Ah(),Oh(),"accessToken",!0)]},Ia:{name:"setCustomParameters",j:[kh("customOAuthParameters")]}}),Lh(co.prototype,{v:{name:"toJSON",j:[Ah(null,!0)]}}),Lh(so.prototype,{v:{name:"toJSON",j:[Ah(null,!0)]}}),Uh(Ro,"credential",Po,[Ah("verificationId"),Ah("verificationCode")]),Lh(Ro.prototype,{cb:{name:"verifyPhoneNumber",j:[Dh(Ah(),{name:"phoneInfoOptions",J:"valid phone info options",optional:!1,K:function(t){return!!t&&(t.session&&t.phoneNumber?Rh(t.session,no)&&"string"==typeof t.phoneNumber:t.session&&t.multiFactorHint?Rh(t.session,ro)&&Ph(t.multiFactorHint):t.session&&t.multiFactorUid?Rh(t.session,ro)&&"string"==typeof t.multiFactorUid:!!t.phoneNumber&&"string"==typeof t.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]}}),Lh(xo.prototype,{v:{name:"toJSON",j:[Ah(null,!0)]}}),Lh(S.prototype,{toJSON:{name:"toJSON",j:[Ah(null,!0)]}}),Lh(Ho.prototype,{toJSON:{name:"toJSON",j:[Ah(null,!0)]}}),Lh(qo.prototype,{toJSON:{name:"toJSON",j:[Ah(null,!0)]}}),Lh(zc.prototype,{toJSON:{name:"toJSON",j:[Ah(null,!0)]}}),Lh(qc.prototype,{Pc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(t){return!!t&&!!t.ob}}]}}),Lh(Zc.prototype,{Ob:{name:"getSession",j:[]},dc:{name:"enroll",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(t){return!!t&&!!t.ob}},Ah("displayName",!0)]},$c:{name:"unenroll",j:[Dh({name:"multiFactorInfo",J:"a valid multiFactorInfo",optional:!1,K:Ph},Ah(),"multiFactorInfoIdentifier")]}}),Lh(Ih.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Uh(mi,"parseLink",Si,[Ah("link")]),Uh(uh,"assertion",(function(t){return new Kc(t)}),[Nh("phone")]),function(){if(void 0===e||!e.INTERNAL||!e.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:oi,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:ii,VERIFY_AND_CHANGE_EMAIL:si,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:Bl,AuthCredential:io,Error:S};Uh(t,"EmailAuthProvider",Ao,[]),Uh(t,"FacebookAuthProvider",vo,[]),Uh(t,"GithubAuthProvider",yo,[]),Uh(t,"GoogleAuthProvider",wo,[]),Uh(t,"TwitterAuthProvider",Eo,[]),Uh(t,"OAuthProvider",go,[Ah("providerId")]),Uh(t,"SAMLAuthProvider",po,[Ah("providerId")]),Uh(t,"PhoneAuthProvider",Ro,[{name:"auth",J:"an instance of Firebase Auth",optional:!0,K:function(t){return!!(t&&t instanceof Bl)}}]),Uh(t,"RecaptchaVerifier",Ih,[Dh(Ah(),{name:"",J:"an HTML element",optional:!1,K:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),kh("recaptchaParameters",!0),{name:"app",J:"an instance of Firebase App",optional:!0,K:function(t){return!!(t&&t instanceof e.app.App)}}]),Uh(t,"ActionCodeURL",mi,[]),Uh(t,"PhoneMultiFactorGenerator",uh,[]),e.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new Bl(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC"}),e.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:_((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:_(t.kc,t),addAuthTokenListener:_(t.bc,t),removeAuthTokenListener:_(t.Nc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),e.registerVersion("@firebase/auth","0.14.9"),e.INTERNAL.extendNamespace({User:il})}()}).apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},"S+S0":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("uXP2"),i=n("zVF4"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),s="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t=s);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.Deferred;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=r.__assign({identifier:s,optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var o=this.getOrInitializeService(i);if(!o){if(n)return null;throw Error("Service "+this.name+" is not available")}return o}catch(a){if(n)return null;throw a}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService(s)}catch(h){}try{for(var i=r.__values(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var a=r.__read(o.value,2),u=a[1],c=this.normalizeInstanceIdentifier(a[0]);try{var l=this.getOrInitializeService(c);u.resolve(l)}catch(h){}}}catch(f){e={error:f}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t=s),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return r.__awaiter(this,void 0,void 0,(function(){var t;return r.__generator(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return t===s?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:s:t},t}(),u=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();e.Component=o,e.ComponentContainer=u,e.Provider=a},Wcq6:function(t,e,n){"use strict";var r,i=(r=n("wj3C"))&&"object"==typeof r&&"default"in r?r.default:r;i.registerVersion("firebase","7.19.0","app"),t.exports=i},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var i;n.r(e),n.d(e,"LogLevel",(function(){return s})),n.d(e,"Logger",(function(){return h})),n.d(e,"setLogLevel",(function(){return f})),n.d(e,"setUserLogHandler",(function(){return d}));var o=[],s=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},u=s.INFO,c=((i={})[s.DEBUG]="log",i[s.VERBOSE]="log",i[s.INFO]="info",i[s.WARN]="warn",i[s.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=c[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in s))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],t)),this._logHandler.apply(this,r([this,s.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],t)),this._logHandler.apply(this,r([this,s.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],t)),this._logHandler.apply(this,r([this,s.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],t)),this._logHandler.apply(this,r([this,s.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],t)),this._logHandler.apply(this,r([this,s.ERROR],t))},t}();function f(t){o.forEach((function(e){e.setLogLevel(t)}))}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:s[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},uXP2:function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",(function(){return i})),n.d(e,"__assign",(function(){return o})),n.d(e,"__rest",(function(){return s})),n.d(e,"__decorate",(function(){return a})),n.d(e,"__param",(function(){return u})),n.d(e,"__metadata",(function(){return c})),n.d(e,"__awaiter",(function(){return l})),n.d(e,"__generator",(function(){return h})),n.d(e,"__createBinding",(function(){return f})),n.d(e,"__exportStar",(function(){return d})),n.d(e,"__values",(function(){return p})),n.d(e,"__read",(function(){return g})),n.d(e,"__spread",(function(){return v})),n.d(e,"__spreadArrays",(function(){return m})),n.d(e,"__await",(function(){return y})),n.d(e,"__asyncGenerator",(function(){return b})),n.d(e,"__asyncDelegator",(function(){return w})),n.d(e,"__asyncValues",(function(){return _})),n.d(e,"__makeTemplateObject",(function(){return E})),n.d(e,"__importStar",(function(){return I})),n.d(e,"__importDefault",(function(){return T})),n.d(e,"__classPrivateFieldGet",(function(){return S})),n.d(e,"__classPrivateFieldSet",(function(){return A}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function a(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}function u(t,e){return function(n,r){e(n,r,t)}}function c(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function l(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))}function h(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function f(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}function d(t,e){for(var n in t)"default"===n||e.hasOwnProperty(n)||(e[n]=t[n])}function p(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function v(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(g(arguments[e]));return t}function m(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function y(t){return this instanceof y?(this.v=t,this):new y(t)}function b(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(t){i[t]&&(r[t]=function(e){return new Promise((function(n,r){o.push([t,e,n,r])>1||a(t,e)}))})}function a(t,e){try{(n=i[t](e)).value instanceof y?Promise.resolve(n.value.v).then(u,c):l(o[0][2],n)}catch(r){l(o[0][3],r)}var n}function u(t){a("next",t)}function c(t){a("throw",t)}function l(t,e){t(e),o.shift(),o.length&&a(o[0][0],o[0][1])}}function w(t){var e,n;return e={},r("next"),r("throw",(function(t){throw t})),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:y(t[r](e)),done:"return"===r}:i?i(e):e}:i}}function _(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=p(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,i){!function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)}(r,i,(e=t[n](e)).done,e.value)}))}}}function E(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function I(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function T(t){return t&&t.__esModule?t:{default:t}}function S(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function A(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}},wj3C:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i,o=n("uXP2"),s=n("zVF4"),a=n("S+S0"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new s.ErrorFactory("app","Firebase",c),h="@firebase/app",f="[DEFAULT]",d=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new u.Logger("@firebase/app"),g=function(){function t(t,e,n){var r,i,u=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=s.deepCopy(t),this.container=new a.ComponentContainer(e.name),this._addComponent(new a.Component("app",(function(){return u}),"PUBLIC"));try{for(var c=o.__values(this.firebase_.INTERNAL.components.values()),l=c.next();!l.done;l=c.next())this._addComponent(l.value)}catch(h){r={error:h}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e=f),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=f),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();g.prototype.name&&g.prototype.options||g.prototype.delete||console.log("dc");var v=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=f);var a=o.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(s.contains(e,a))throw l.create("duplicate-app",{appName:a});var u=new t(n,o,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=d[t])&&void 0!==r?r:t;n&&(i+="-"+n);var o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return o&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&s&&u.push("and"),s&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(u.join(" "))}c(new a.Component(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:u.setLogLevel,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument",{appName:name});u.setUserLogHandler(t,e)},apps:null,SDK_VERSION:"7.18.0",INTERNAL:{registerComponent:c,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(!s.contains(e,t=t||f))throw l.create("no-app",{appName:t});return e[t]}function c(a){var u,c,h=a.name;if(n.has(h))return p.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===a.type?r[h]:null;if(n.set(h,a),"PUBLIC"===a.type){var f=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[h])throw l.create("invalid-app-argument",{appName:h});return t[h]()};void 0!==a.serviceProps&&s.deepExtend(f,a.serviceProps),r[h]=f,t.prototype[h]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,h).apply(this,a.multipleInstances?t:[])}}try{for(var d=o.__values(Object.keys(e)),g=d.next();!g.done;g=d.next())e[g.value]._addComponent(a)}catch(v){u={error:v}}finally{try{g&&!g.done&&(c=d.return)&&c.call(d)}finally{if(u)throw u.error}}return"PUBLIC"===a.type?r[h]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}(g);return e.INTERNAL=o.__assign(o.__assign({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){s.deepExtend(e,t)},createSubscribe:s.createSubscribe,ErrorFactory:s.ErrorFactory,deepExtend:s.deepExtend}),e}(),m=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if(s.isBrowser()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var y=self.firebase.SDK_VERSION;y&&y.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var b=v.initializeApp;v.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return s.isNode()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),b.apply(void 0,t)};var w=v;!function(t,e){t.INTERNAL.registerComponent(new a.Component("platform-logger",(function(t){return new m(t)}),"PRIVATE")),t.registerVersion(h,"0.6.10",void 0),t.registerVersion("fire-js","")}(w),e.default=w,e.firebase=w},x7I3:function(t,e,n){"use strict";n.r(e),n.d(e,"ErrorCode",(function(){return Qn})),n.d(e,"EventType",(function(){return tr})),n.d(e,"WebChannel",(function(){return er})),n.d(e,"XhrIo",(function(){return nr})),n.d(e,"createWebChannelTransport",(function(){return Jn}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var o,s="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},a=a||{},u=s||self;function c(){}function l(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function h(t){var e=l(t);return"array"==e||"object"==e&&"number"==typeof t.length}function f(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var d="closure_uid_"+(1e9*Math.random()>>>0),p=0;function g(t,e,n){return t.call.apply(t.bind,arguments)}function v(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function m(t,e,n){return(m=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?g:v).apply(null,arguments)}function y(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var b=Date.now;function w(t,e){function n(){}n.prototype=e.prototype,t.S=e.prototype,t.prototype=new n,t.prototype.constructor=t}function _(){this.j=this.j,this.i=this.i}_.prototype.j=!1,_.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,d)&&t[d]||(t[d]=++p)}(this)},_.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var E=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},I=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function T(t){return Array.prototype.concat.apply([],arguments)}function S(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function A(t){return/^[\s\xa0]*$/.test(t)}var C,k=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function x(t,e){return-1!=t.indexOf(e)}function O(t,e){return t<e?-1:t>e?1:0}t:{var N=u.navigator;if(N){var R=N.userAgent;if(R){C=R;break t}}C=""}function P(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function D(t){var e={};for(var n in t)e[n]=t[n];return e}var L="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<L.length;o++)n=L[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function U(t){return U[" "](t),t}U[" "]=c;var M,j,F=x(C,"Opera"),q=x(C,"Trident")||x(C,"MSIE"),H=x(C,"Edge"),B=H||q,z=x(C,"Gecko")&&!(x(C.toLowerCase(),"webkit")&&!x(C,"Edge"))&&!(x(C,"Trident")||x(C,"MSIE"))&&!x(C,"Edge"),G=x(C.toLowerCase(),"webkit")&&!x(C,"Edge");function W(){var t=u.document;return t?t.documentMode:void 0}t:{var $="",K=(j=C,z?/rv:([^\);]+)(\)|;)/.exec(j):H?/Edge\/([\d\.]+)/.exec(j):q?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(j):G?/WebKit\/(\S+)/.exec(j):F?/(?:Version)[ \/]?(\S+)/.exec(j):void 0);if(K&&($=K?K[1]:""),q){var X=W();if(null!=X&&X>parseFloat($)){M=String(X);break t}}M=$}var Z={};function Y(t){return function(t,e){var n=Z;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=k(String(M)).split("."),r=k(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=O(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||O(0==s[2].length,0==a[2].length)||O(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e}))}var J=u.document&&q&&(W()||parseInt(M,10))||void 0,Q=!q||9<=Number(J),tt=q&&!Y("9"),et=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{u.addEventListener("test",c,e),u.removeEventListener("test",c,e)}catch(n){}return t}();function nt(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function rt(t,e){if(nt.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(z){t:{try{U(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:it[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}nt.prototype.b=function(){this.defaultPrevented=!0},w(rt,nt);var it={2:"touch",3:"pen",4:"mouse"};rt.prototype.b=function(){rt.S.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,tt)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var ot="closure_listenable_"+(1e6*Math.random()|0),st=0;function at(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++st,this.Y=this.Z=!1}function ut(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function ct(t){this.src=t,this.a={},this.b=0}function lt(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=E(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(ut(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function ht(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}ct.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=ht(t,e,r,i);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new at(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var ft="closure_lm_"+(1e6*Math.random()|0),dt={};function pt(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,o){if(Array.isArray(n)){for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);return null}return r=Et(r),e&&e[ot]?e.wa(n,r,f(i)?!!i.capture:!!i,o):gt(e,n,r,!0,i,o)}(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)pt(t,e[o],n,r,i);return null}return n=Et(n),t&&t[ot]?t.va(e,n,f(r)?!!r.capture:!!r,i):gt(t,e,n,!1,r,i)}function gt(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=f(i)?!!i.capture:!!i;if(s&&!Q)return null;var a=wt(t);if(a||(t[ft]=a=new ct(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=bt,e=Q?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)et||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(mt(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function vt(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[ot])lt(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(mt(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=wt(e))?(lt(n,t),0==n.b&&(n.src=null,e[ft]=null)):ut(t)}}}function mt(t){return t in dt?dt[t]:dt[t]="on"+t}function yt(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&vt(t),n.call(r,e)}function bt(t,e){if(t.Y)return!0;if(!Q){if(!e)t:{e=["window","event"];for(var n=u,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return yt(t,e=new rt(e,this))}return yt(t,new rt(e,this))}function wt(t){return(t=t[ft])instanceof ct?t:null}var _t="__closure_events_fn_"+(1e9*Math.random()>>>0);function Et(t){return"function"==l(t)?t:(t[_t]||(t[_t]=function(e){return t.handleEvent(e)}),t[_t])}function It(){_.call(this),this.c=new ct(this),this.J=this,this.C=null}function Tt(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.Y&&s.capture==n){var a=s.listener,u=s.ca||s.src;s.Z&&lt(t.c,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}w(It,_),It.prototype[ot]=!0,(o=It.prototype).addEventListener=function(t,e,n,r){pt(this,t,e,n,r)},o.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,o){if(Array.isArray(n))for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);else i=f(i)?!!i.capture:!!i,r=Et(r),e&&e[ot]?(e=e.c,(n=String(n).toString())in e.a&&-1<(r=ht(s=e.a[n],r,i,o))&&(ut(s[r]),Array.prototype.splice.call(s,r,1),0==s.length&&(delete e.a[n],e.b--))):e&&(e=wt(e))&&(n=e.a[n.toString()],e=-1,n&&(e=ht(n,r,i,o)),(r=-1<e?n[e]:null)&&vt(r))}(this,t,e,n,r)},o.dispatchEvent=function(t){var e,n=this.C;if(n)for(e=[];n;n=n.C)e.push(n);n=this.J;var r=t.type||t;if("string"==typeof t)t=new nt(t,n);else if(t instanceof nt)t.target=t.target||n;else{var i=t;V(t=new nt(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var s=t.a=e[o];i=Tt(s,r,!0,t)&&i}if(i=Tt(s=t.a=n,r,!0,t)&&i,i=Tt(s,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=Tt(s=t.a=e[o],r,!1,t)&&i;return i},o.G=function(){if(It.S.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)ut(n[r]);delete e.a[t],e.b--}}this.C=null},o.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},o.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var St=u.JSON.stringify;function At(){this.b=this.a=null}var Ct,kt=new(function(){function t(t,e,n){this.f=n,this.c=t,this.g=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())((function(){return new Ot}),(function(t){t.reset()}),100);function xt(){var t=Dt,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Ot(){this.next=this.b=this.a=null}function Nt(t){u.setTimeout((function(){throw t}),0)}function Rt(t,e){Ct||function(){var t=u.Promise.resolve(void 0);Ct=function(){t.then(Lt)}}(),Pt||(Ct(),Pt=!0),Dt.add(t,e)}At.prototype.add=function(t,e){var n=kt.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Ot.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Ot.prototype.reset=function(){this.next=this.b=this.a=null};var Pt=!1,Dt=new At;function Lt(){for(var t;t=xt();){try{t.a.call(t.b)}catch(n){Nt(n)}var e=kt;e.g(t),e.b<e.f&&(e.b++,t.next=e.a,e.a=t)}Pt=!1}function Vt(t,e){It.call(this),this.b=t||1,this.a=e||u,this.f=m(this.Ya,this),this.g=b()}function Ut(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function Mt(t,e,n){if("function"==l(t))n&&(t=m(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=m(t.handleEvent,t)}return 2147483647<Number(e)?-1:u.setTimeout(t,e||0)}function jt(t){t.a=Mt((function(){t.a=null,t.c&&(t.c=!1,jt(t))}),t.h);var e=t.b;t.b=null,t.g.apply(null,e)}w(Vt,It),(o=Vt.prototype).aa=!1,o.M=null,o.Ya=function(){if(this.aa){var t=b()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),this.dispatchEvent("tick"),this.aa&&(Ut(this),this.start()))}},o.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=b())},o.G=function(){Vt.S.G.call(this),Ut(this),delete this.a};var Ft=function(t){function e(e,n,r){var i=t.call(this)||this;return i.g=null!=r?e.bind(r):e,i.h=n,i.b=null,i.c=!1,i.a=null,i}return function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:jt(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(u.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(_);function qt(t){_.call(this),this.b=t,this.a={}}w(qt,_);var Ht=[];function Bt(t,e,n,r){Array.isArray(n)||(n&&(Ht[0]=n.toString()),n=Ht);for(var i=0;i<n.length;i++){var o=pt(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function zt(t){P(t.a,(function(t,e){this.a.hasOwnProperty(e)&&vt(t)}),t),t.a={}}function Gt(){this.a=!0}function Wt(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return St(n)}catch(a){return e}}(t,n)+(r?" "+r:"")}))}qt.prototype.G=function(){qt.S.G.call(this),zt(this)},qt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Gt.prototype.info=function(){};var $t=null;function Kt(){return $t=$t||new It}function Xt(t){nt.call(this,"serverreachability",t)}function Zt(t){var e=Kt();e.dispatchEvent(new Xt(e,t))}function Yt(t){nt.call(this,"statevent",t)}function Jt(t){var e=Kt();e.dispatchEvent(new Yt(e,t))}function Qt(t){nt.call(this,"timingevent",t)}function te(t,e){if("function"!=l(t))throw Error("Fn must not be null and must be a function");return u.setTimeout((function(){t()}),e)}w(Xt,nt),w(Yt,nt),w(Qt,nt);var ee={NO_ERROR:0,Za:1,gb:2,fb:3,bb:4,eb:5,hb:6,Da:7,TIMEOUT:8,kb:9},ne={ab:"complete",ob:"success",Ea:"error",Da:"abort",mb:"ready",nb:"readystatechange",TIMEOUT:"timeout",ib:"incrementaldata",lb:"progress",cb:"downloadprogress",pb:"uploadprogress"};function re(){}function ie(){}re.prototype.a=null;var oe,se={OPEN:"a",$a:"b",Ea:"c",jb:"d"};function ae(){nt.call(this,"d")}function ue(){nt.call(this,"c")}function ce(){}function le(t,e,n,r){this.g=t,this.c=e,this.f=n,this.T=r||1,this.J=new qt(this),this.P=he,this.R=new Vt(t=B?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.U=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.W=this.C=this.V=this.I=!1}w(ae,nt),w(ue,nt),w(ce,re),oe=new ce;var he=45e3,fe={},de={};function pe(t,e,n){t.H=1,t.i=Ve(Oe(e)),t.j=n,t.I=!0,ge(t,null)}function ge(t,e){t.u=b(),ye(t),t.l=Oe(t.i);var n=t.l,r=t.T;Array.isArray(r)||(r=[String(r)]),Xe(n.b,"t",r),t.D=0,t.a=zn(t.g,t.g.C?e:null),0<t.O&&(t.F=new Ft(m(t.Ca,t,t.a),t.O)),Bt(t.J,t.a,"readystatechange",t.Wa),e=t.B?D(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),Zt(1),function(t,e,n,r,i,o){t.info((function(){if(t.a)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s}))}(t.c,t.m,t.l,t.f,t.T,t.j)}function ve(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=me(t,n);if(i==de){4==e&&(t.h=4,Jt(14),r=!1),Wt(t.c,t.f,null,"[Incomplete Response]");break}if(i==fe){t.h=4,Jt(15),Wt(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}Wt(t.c,t.f,i,null),Ie(t,i)}4==e&&0==n.length&&(t.h=1,Jt(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.W&&(t.W=!0,(e=t.g).a==t&&e.V&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Vn(e),e.F=!0)):(Wt(t.c,t.f,n,"[Invalid Chunked Response]"),Ee(t),_e(t))}function me(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?de:(n=Number(e.substring(n,r)),isNaN(n)?fe:(r+=1)+n>e.length?de:(e=e.substr(r,n),t.D=r+n,e))}function ye(t){t.U=b()+t.P,be(t,t.P)}function be(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=te(m(t.Ua,t),e)}function we(t){t.o&&(u.clearTimeout(t.o),t.o=null)}function _e(t){0==t.g.v||t.A||jn(t.g,t)}function Ee(t){we(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,Ut(t.R),zt(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function Ie(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||nn(n.b,t)))if(n.I=t.N,!t.C&&nn(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(v){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;Mn(n),Cn(n)}Ln(n),Jt(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=te(m(n.Ra,n),6e3));if(1>=en(n.b)&&n.ea){try{n.ea()}catch(v){}n.ea=void 0}}else qn(n,11)}else if((t.C||n.a==t)&&Mn(n),!A(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var s=i[4];null!=s&&(n.pa=s,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(x(l,"spdy")||x(l,"quic")||x(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(rn(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,Le(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.V&&(n.N=b()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((u=n).la=Bn(u,u.C?u.ga:null,u.fa),d.C){on(u.b,d);var p=d,g=u.D;g&&p.setTimeout(g),p.o&&(we(p),ye(p)),u.a=d}else Dn(u);0<n.g.length&&On(n)}else"stop"!=i[0]&&"close"!=i[0]||qn(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?qn(n,7):An(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);Zt(4)}catch(v){}}function Te(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(h(t)||"string"==typeof t)I(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(h(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(h(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Se(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Se)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Ae(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Ce(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Ce(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Ce(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(o=le.prototype).setTimeout=function(t){this.P=t},o.Wa=function(t){t=t.target;var e=this.F;e&&3==En(t)?e.f():this.Ca(t)},o.Ca=function(t){try{if(t==this.a)t:{var e=En(this.a),n=this.a.ua(),r=this.a.X();if(!(3>e||3==e&&!B&&!this.a.$())){this.A||4!=e||7==n||Zt(8==n||0>=r?3:2),we(this);var i=this.a.X();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,s){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s}))}(this.c,this.m,this.l,this.f,this.T,e,i),this.b){if(this.V&&!this.C){e:{if(this.a){var s,a=this.a;if((s=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(s)){var u=s;break e}}u=null}if(!u){this.b=!1,this.h=3,Jt(12),Ee(this),_e(this);break t}Wt(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Ie(this,u)}this.I?(ve(this,e,o),B&&this.b&&3==e&&(Bt(this.J,this.R,"tick",this.Va),this.R.start())):(Wt(this.c,this.f,o,null),Ie(this,o)),4==e&&Ee(this),this.b&&!this.A&&(4==e?jn(this.g,this):(this.b=!1,ye(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,Jt(12)):(this.h=0,Jt(13)),Ee(this),_e(this)}}}catch(c){}},o.Va=function(){if(this.a){var t=En(this.a),e=this.a.$();this.D<e.length&&(we(this),ve(this,t,e),this.b&&4!=t&&ye(this))}},o.cancel=function(){this.A=!0,Ee(this)},o.Ua=function(){this.o=null;var t=b();0<=t-this.U?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.c,this.l),2!=this.H&&(Zt(3),Jt(17)),Ee(this),this.h=2,_e(this)):be(this,this.U-t)},(o=Se.prototype).K=function(){Ae(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},o.L=function(){return Ae(this),this.a.concat()},o.get=function(t,e){return Ce(this.b,t)?this.b[t]:e},o.set=function(t,e){Ce(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},o.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var ke=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function xe(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof xe){this.a=void 0!==e?e:t.a,Ne(this,t.f),this.j=t.j,Re(this,t.c),Pe(this,t.h),this.g=t.g,e=t.b;var n=new Ge;n.c=e.c,e.a&&(n.a=new Se(e.a),n.b=e.b),De(this,n),this.i=t.i}else t&&(n=String(t).match(ke))?(this.a=!!e,Ne(this,n[1]||"",!0),this.j=Ue(n[2]||""),Re(this,n[3]||"",!0),Pe(this,n[4]),this.g=Ue(n[5]||"",!0),De(this,n[6]||"",!0),this.i=Ue(n[7]||"")):(this.a=!!e,this.b=new Ge(null,this.a))}function Oe(t){return new xe(t)}function Ne(t,e,n){t.f=n?Ue(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Re(t,e,n){t.c=n?Ue(e,!0):e}function Pe(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function De(t,e,n){e instanceof Ge?(t.b=e,function(t,e){e&&!t.f&&(We(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&($e(this,e),Xe(this,n,t))}),t)),t.f=e}(t.b,t.a)):(n||(e=Me(e,Be)),t.b=new Ge(e,t.a))}function Le(t,e,n){t.b.set(e,n)}function Ve(t){return Le(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^b()).toString(36)),t}function Ue(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Me(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,je),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function je(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}xe.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Me(e,Fe,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Me(e,Fe,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Me(n,"/"==n.charAt(0)?He:qe,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Me(n,ze)),t.join("")};var Fe=/[#\/\?@]/g,qe=/[#\?:]/g,He=/[#\?]/g,Be=/[#\?@]/g,ze=/#/g;function Ge(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function We(t){t.a||(t.a=new Se,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function $e(t,e){We(t),e=Ze(t,e),Ce(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Ce((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Ae(t)))}function Ke(t,e){return We(t),e=Ze(t,e),Ce(t.a.b,e)}function Xe(t,e,n){$e(t,e),0<n.length&&(t.c=null,t.a.set(Ze(t,e),S(n)),t.b+=n.length)}function Ze(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function Ye(t,e){this.b=t,this.a=e}function Je(t){this.g=t||Qe,t=u.PerformanceNavigationTiming?0<(t=u.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(u.ia&&u.ia.ya&&u.ia.ya()&&u.ia.ya().qb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}(o=Ge.prototype).add=function(t,e){We(this),this.c=null,t=Ze(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},o.forEach=function(t,e){We(this),this.a.forEach((function(n,r){I(n,(function(n){t.call(e,n,r,this)}),this)}),this)},o.L=function(){We(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},o.K=function(t){We(this);var e=[];if("string"==typeof t)Ke(this,t)&&(e=T(e,this.a.get(Ze(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=T(e,t[n])}return e},o.set=function(t,e){return We(this),this.c=null,Ke(this,t=Ze(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},o.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},o.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var Qe=10;function tn(t){return!!t.b||!!t.a&&t.a.size>=t.f}function en(t){return t.b?1:t.a?t.a.size:0}function nn(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function rn(t,e){t.a?t.a.add(e):t.b=e}function on(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function sn(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var o=i(t.a.values()),s=o.next();!s.done;s=o.next())r=r.concat(s.value.s)}catch(a){e={error:a}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return r}return S(t.c)}function an(){}function un(){this.a=new an}function cn(t,e,n){var r=n||"";try{Te(t,(function(t,n){var i=t;f(t)&&(i=St(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function ln(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}Je.prototype.cancel=function(){var t,e;if(this.c=sn(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=i(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(o){t={error:o}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},an.prototype.stringify=function(t){return u.JSON.stringify(t,void 0)},an.prototype.parse=function(t){return u.JSON.parse(t,void 0)};var hn=u.JSON.parse;function fn(t){It.call(this),this.headers=new Se,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=dn,this.D=this.F=!1}w(fn,It);var dn="",pn=/^https?$/i,gn=["POST","PUT"];function vn(t){return"content-type"==t.toLowerCase()}function mn(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,yn(t),wn(t)}function yn(t){t.u||(t.u=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function bn(t){if(t.b&&void 0!==a&&(!t.s[1]||4!=En(t)||2!=t.X()))if(t.l&&4==En(t))Mt(t.za,0,t);else if(t.dispatchEvent("readystatechange"),4==En(t)){t.b=!1;try{var e,n=t.X();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(ke)[1]||null;if(!o&&u.self&&u.self.location){var s=u.self.location.protocol;o=s.substr(0,s.length-1)}i=!pn.test(o?o.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{t.h=6;try{var c=2<En(t)?t.a.statusText:""}catch(l){c=""}t.f=c+" ["+t.X()+"]",yn(t)}}finally{wn(t)}}}function wn(t,e){if(t.a){_n(t);var n=t.a,r=t.s[0]?c:null;t.a=null,t.s=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){}}}function _n(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(u.clearTimeout(t.m),t.m=null)}function En(t){return t.a?t.a.readyState:0}function In(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return P(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Le(t,e,n))}function Tn(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Sn(t){this.pa=0,this.g=[],this.c=new Gt,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.W=this.i=this.O=this.l=null,this.La=this.R=0,this.Ia=Tn("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.T=!0,this.I=this.oa=this.P=-1,this.U=this.o=this.u=0,this.Fa=Tn("baseRetryDelayMs",5e3,t),this.Ma=Tn("retryDelaySeedMs",1e4,t),this.Ja=Tn("forwardChannelMaxRetries",2,t),this.ma=Tn("forwardChannelRequestTimeoutMs",2e4,t),this.Ka=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new Je(t&&t.concurrentRequestLimit),this.ka=new un,this.da=t&&t.fastHandshake||!1,this.Ga=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.T=!1),this.V=!this.da&&this.T&&t&&t.c||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null}function An(t){if(kn(t),3==t.v){var e=t.R++,n=Oe(t.B);Le(n,"SID",t.J),Le(n,"RID",e),Le(n,"TYPE","terminate"),Rn(t,n),(e=new le(t,t.c,e,void 0)).H=2,e.i=Ve(Oe(n)),n=!1,u.navigator&&u.navigator.sendBeacon&&(n=u.navigator.sendBeacon(e.i.toString(),"")),!n&&u.Image&&((new Image).src=e.i,n=!0),n||(e.a=zn(e.g,null),e.a.ba(e.i)),e.u=b(),ye(e)}Hn(t)}function Cn(t){t.a&&(Vn(t),t.a.cancel(),t.a=null)}function kn(t){Cn(t),t.j&&(u.clearTimeout(t.j),t.j=null),Mn(t),t.b.cancel(),t.h&&("number"==typeof t.h&&u.clearTimeout(t.h),t.h=null)}function xn(t,e){t.g.push(new Ye(t.La++,e)),3==t.v&&On(t)}function On(t){tn(t.b)||t.h||(t.h=!0,Rt(t.Ba,t),t.u=0)}function Nn(t,e){var n;n=e?e.f:t.R++;var r=Oe(t.B);Le(r,"SID",t.J),Le(r,"RID",n),Le(r,"AID",t.P),Rn(t,r),t.i&&t.l&&In(r,t.i,t.l),n=new le(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=Pn(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),rn(t.b,n),pe(n,r,e)}function Rn(t,e){t.f&&Te({},(function(t,n){Le(e,n,t)}))}function Pn(t,e,n){n=Math.min(t.g.length,n);var r=t.f?m(t.f.Ha,t.f,t):null;t:for(var i=t.g,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=i[0].b)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),a=!1;else try{cn(l,s,"req"+c+"_")}catch(h){r&&r(l)}}if(a){r=s.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function Dn(t){t.a||t.j||(t.U=1,Rt(t.Aa,t),t.o=0)}function Ln(t){return!(t.a||t.j||3<=t.o||(t.U++,t.j=te(m(t.Aa,t),Fn(t,t.o)),t.o++,0))}function Vn(t){null!=t.s&&(u.clearTimeout(t.s),t.s=null)}function Un(t){t.a=new le(t,t.c,"rpc",t.U),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Oe(t.la);Le(e,"RID","rpc"),Le(e,"SID",t.J),Le(e,"CI",t.H?"0":"1"),Le(e,"AID",t.P),Rn(t,e),Le(e,"TYPE","xmlhttp"),t.i&&t.l&&In(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=Ve(Oe(e)),n.j=null,n.I=!0,ge(n,t)}function Mn(t){null!=t.m&&(u.clearTimeout(t.m),t.m=null)}function jn(t,e){var n=null;if(t.a==e){Mn(t),Vn(t),t.a=null;var r=2}else{if(!nn(t.b,e))return;n=e.s,on(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=b()-e.u;var i=t.u;(r=Kt()).dispatchEvent(new Qt(r,n,e,i)),On(t)}else Dn(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(en(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.Ia?0:t.Ja)||(t.h=te(m(t.Ba,t,e),Fn(t,t.u)),t.u++,0)))}(t,e)||2==r&&Ln(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:qn(t,5);break;case 4:qn(t,10);break;case 3:qn(t,6);break;default:qn(t,2)}}function Fn(t,e){var n=t.Fa+Math.floor(Math.random()*t.Ma);return t.f||(n*=2),n*e}function qn(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=m(t.Xa,t);n||(n=new xe("//www.google.com/images/cleardot.gif"),u.location&&"http"==u.location.protocol||Ne(n,"https"),Ve(n)),function(t,e){var n=new Gt;if(u.Image){var r=new Image;r.onload=y(ln,n,r,"TestLoadImage: loaded",!0,e),r.onerror=y(ln,n,r,"TestLoadImage: error",!1,e),r.onabort=y(ln,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=y(ln,n,r,"TestLoadImage: timeout",!1,e),u.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else Jt(2);t.v=0,t.f&&t.f.ra(e),Hn(t),kn(t)}function Hn(t){t.v=0,t.I=-1,t.f&&(0==sn(t.b).length&&0==t.g.length||(t.b.c.length=0,S(t.g),t.g.length=0),t.f.qa())}function Bn(t,e,n){var r=function(t){return t instanceof xe?Oe(t):new xe(t,void 0)}(n);if(""!=r.c)e&&Re(r,e+"."+r.c),Pe(r,r.h);else{var i=u.location;r=function(t,e,n,r){var i=new xe(null,void 0);return t&&Ne(i,t),e&&Re(i,e),n&&Pe(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.W&&P(t.W,(function(t,e){Le(r,e,t)})),n=t.na,(e=t.A)&&n&&Le(r,e,n),Le(r,"VER",t.ha),Rn(t,r),r}function zn(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new fn(t.Ka)).F=t.C,e}function Gn(){}function Wn(){if(q&&!(10<=Number(J)))throw Error("Environmental error: no available transport.")}function $n(t,e){It.call(this),this.a=new Sn(e),this.l=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!A(t)&&(this.a.i=t),this.h=e&&e.supportsCrossDomainXhr||!1,this.g=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!A(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new Zn(this)}function Kn(t){ae.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Xn(){ue.call(this),this.status=1}function Zn(t){this.a=t}(o=fn.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:oe),this.a.onreadystatechange=m(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(o){return void mn(this,o)}t=n||"";var i=new Se(this.headers);r&&Te(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=vn,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=u.FormData&&t instanceof u.FormData,!(0<=E(gn,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{_n(this),0<this.o&&((this.D=function(t){return q&&Y(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=m(this.xa,this)):this.m=Mt(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){mn(this,o)}},o.xa=function(){void 0!==a&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},o.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),wn(this))},o.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),wn(this,!0)),fn.S.G.call(this)},o.za=function(){this.j||(this.A||this.l||this.g?bn(this):this.Ta())},o.Ta=function(){bn(this)},o.X=function(){try{return 2<En(this)?this.a.status:-1}catch(j){return-1}},o.$=function(){try{return this.a?this.a.responseText:""}catch(j){return""}},o.Na=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),hn(e)}},o.ua=function(){return this.h},o.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(o=Sn.prototype).ha=8,o.v=1,o.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new le(this,this.c,t,void 0),r=this.l;if(this.O&&(r?V(r=D(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=Pn(this,n,e),Le(i=Oe(this.B),"RID",t),Le(i,"CVER",22),this.A&&Le(i,"X-HTTP-Session-Id",this.A),Rn(this,i),this.i&&r&&In(i,this.i,r),rn(this.b,n),this.Ga&&Le(i,"TYPE","init"),this.da?(Le(i,"$req",e),Le(i,"SID","null"),n.V=!0,pe(n,i,null)):pe(n,i,e),this.v=2}}else 3==this.v&&(t?Nn(this,t):0==this.g.length||tn(this.b)||Nn(this))},o.Aa=function(){if(this.j=null,Un(this),this.V&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=te(m(this.Sa,this),t)}},o.Sa=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Cn(this),Un(this))},o.Ra=function(){null!=this.m&&(this.m=null,Cn(this),Ln(this),Jt(19))},o.Xa=function(t){t?(this.c.info("Successfully pinged google.com"),Jt(2)):(this.c.info("Failed to ping google.com"),Jt(1))},(o=Gn.prototype).ta=function(){},o.sa=function(){},o.ra=function(){},o.qa=function(){},o.Ha=function(){},Wn.prototype.a=function(t,e){return new $n(t,e)},w($n,It),(o=$n.prototype).addEventListener=function(t,e,n,r){$n.S.addEventListener.call(this,t,e,n,r)},o.removeEventListener=function(t,e,n,r){$n.S.removeEventListener.call(this,t,e,n,r)},o.Oa=function(){this.a.f=this.f,this.h&&(this.a.C=!0);var t=this.a,e=this.l,n=this.b||void 0;Jt(0),t.fa=e,t.W=n||{},t.H=t.T,t.B=Bn(t,null,t.fa),On(t)},o.close=function(){An(this.a)},o.Pa=function(t){if("string"==typeof t){var e={};e.__data__=t,xn(this.a,e)}else this.g?((e={}).__data__=St(t),xn(this.a,e)):xn(this.a,t)},o.G=function(){this.a.f=null,delete this.f,An(this.a),delete this.a,$n.S.G.call(this)},w(Kn,ae),w(Xn,ue),w(Zn,Gn),Zn.prototype.ta=function(){this.a.dispatchEvent("a")},Zn.prototype.sa=function(t){this.a.dispatchEvent(new Kn(t))},Zn.prototype.ra=function(t){this.a.dispatchEvent(new Xn(t))},Zn.prototype.qa=function(){this.a.dispatchEvent("b")},Wn.prototype.createWebChannel=Wn.prototype.a,$n.prototype.send=$n.prototype.Pa,$n.prototype.open=$n.prototype.Oa,$n.prototype.close=$n.prototype.close,ee.NO_ERROR=0,ee.TIMEOUT=8,ee.HTTP_ERROR=6,ne.COMPLETE="complete",ie.EventType=se,se.OPEN="a",se.CLOSE="b",se.ERROR="c",se.MESSAGE="d",It.prototype.listen=It.prototype.va,fn.prototype.listenOnce=fn.prototype.wa,fn.prototype.getLastError=fn.prototype.Qa,fn.prototype.getLastErrorCode=fn.prototype.ua,fn.prototype.getStatus=fn.prototype.X,fn.prototype.getResponseJson=fn.prototype.Na,fn.prototype.getResponseText=fn.prototype.$,fn.prototype.send=fn.prototype.ba;var Yn={createWebChannelTransport:function(){return new Wn},ErrorCode:ee,EventType:ne,WebChannel:ie,XhrIo:fn},Jn=Yn.createWebChannelTransport,Qn=Yn.ErrorCode,tr=Yn.EventType,er=Yn.WebChannel,nr=Yn.XhrIo;e.default=Yn},zUnb:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.r(e);let i=!1;const o={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else i&&console.log("RxJS: Back to a better error behavior. Thank you. <3");i=t},get useDeprecatedSynchronousErrorHandling(){return i}};function s(t){setTimeout(()=>{throw t},0)}const a={closed:!0,next(t){},error(t){if(o.useDeprecatedSynchronousErrorHandling)throw t;s(t)},complete(){}},u=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))();function c(t){return null!==t&&"object"==typeof t}const l=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let h=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_unsubscribe:i,_subscriptions:o}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(r(i))try{i.call(this)}catch(s){e=s instanceof l?f(s.errors):[s]}if(u(o)){let t=-1,n=o.length;for(;++t<n;){const n=o[t];if(c(n))try{n.unsubscribe()}catch(s){e=e||[],s instanceof l?e=e.concat(f(s.errors)):e.push(s)}}}if(e)throw new l(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}return t.EMPTY=function(t){return t.closed=!0,t}(new t),t})();function f(t){return t.reduce((t,e)=>t.concat(e instanceof l?e.errors:e),[])}const d=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())();class p extends h{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=a;break;case 1:if(!t){this.destination=a;break}if("object"==typeof t){t instanceof p?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new g(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new g(this,t,e,n)}}[d](){return this}static create(t,e,n){const r=new p(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class g extends p{constructor(t,e,n,i){let o;super(),this._parentSubscriber=t;let s=this;r(e)?o=e:e&&(o=e.next,n=e.error,i=e.complete,e!==a&&(s=Object.create(e),r(s.unsubscribe)&&this.add(s.unsubscribe.bind(s)),s.unsubscribe=this.unsubscribe.bind(this))),this._context=s,this._next=o,this._error=n,this._complete=i}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;o.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=o;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):s(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;s(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);o.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),o.useDeprecatedSynchronousErrorHandling)throw n;s(n)}}__tryOrSetError(t,e,n){if(!o.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return o.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(s(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}const v=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")();function m(t){return t}let y=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:r}=this,i=function(t,e,n){if(t){if(t instanceof p)return t;if(t[d])return t[d]()}return t||e||n?new p(t,e,n):new p(a)}(t,e,n);if(i.add(r?r.call(i,this.source):this.source||o.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),o.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i}_trySubscribe(t){try{return this._subscribe(t)}catch(e){o.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:r}=t;if(e||r)return!1;t=n&&n instanceof p?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=b(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[v](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?m:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=b(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function b(t){if(t||(t=o.Promise||Promise),!t)throw new Error("no Promise impl found");return t}const w=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})();class _ extends h{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}class E extends p{constructor(t){super(t),this.destination=t}}let I=(()=>{class t extends y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[d](){return new E(this)}lift(t){const e=new T(this,this);return e.operator=t,e}next(t){if(this.closed)throw new w;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new w;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new w;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new w;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new w;return this.hasError?(t.error(this.thrownError),h.EMPTY):this.isStopped?(t.complete(),h.EMPTY):(this.observers.push(t),new _(this,t))}asObservable(){const t=new y;return t.source=this,t}}return t.create=(t,e)=>new T(t,e),t})();class T extends I{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):h.EMPTY}}function S(t){return t&&"function"==typeof t.schedule}class A extends p{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}const C=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()};function k(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}const x=k(),O=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function N(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}const R=t=>{if(t&&"function"==typeof t[v])return r=t,t=>{const e=r[v]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(O(t))return C(t);if(N(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,s),t);if(t&&"function"==typeof t[x])return e=t,t=>{const n=e[x]();for(;;){const e=n.next();if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=c(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,r};function P(t,e,n,r,i=new A(t,n,r)){if(!i.closed)return e instanceof y?e.subscribe(i):R(e)(i)}class D extends p{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}function L(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new V(t,e))}}class V{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new U(t,this.project,this.thisArg))}}class U extends p{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}function M(t,e){return new y(n=>{const r=new h;let i=0;return r.add(e.schedule((function(){i!==t.length?(n.next(t[i++]),n.closed||r.add(this.schedule())):n.complete()}))),r})}function j(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[v]}(t))return function(t,e){return new y(n=>{const r=new h;return r.add(e.schedule(()=>{const i=t[v]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(N(t))return function(t,e){return new y(n=>{const r=new h;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(O(t))return M(t,e);if(function(t){return t&&"function"==typeof t[x]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new y(n=>{const r=new h;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[x](),r.add(e.schedule((function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())})))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof y?t:new y(R(t))}function F(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?r=>r.pipe(F((n,r)=>j(t(n,r)).pipe(L((t,i)=>e(n,t,r,i))),n)):("number"==typeof e&&(n=e),e=>e.lift(new q(t,n)))}class q{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new H(t,this.project,this.concurrent))}}class H extends D{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e,t,n)}_innerSub(t,e,n){const r=new A(this,e,n),i=this.destination;i.add(r);const o=P(this,t,void 0,void 0,r);o!==r&&i.add(o)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t,e,n,r,i){this.destination.next(e)}notifyComplete(t){const e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function B(t=Number.POSITIVE_INFINITY){return F(m,t)}function z(t,e){return e?M(t,e):new y(C(t))}function G(){return function(t){return t.lift(new W(t))}}class W{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new $(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class $ extends p{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}class K extends y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new h,t.add(this.source.subscribe(new Z(this.getSubject(),this))),t.closed&&(this._connection=null,t=h.EMPTY)),t}refCount(){return G()(this)}}const X=(()=>{const t=K.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class Z extends E{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function Y(){return new I}function J(t){return{toString:t}.toString()}const Q="__parameters__";function tt(t,e,n){return J(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(Q)?t[Q]:Object.defineProperty(t,Q,{value:[]})[Q];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}const et=tt("Inject",t=>({token:t})),nt=tt("Optional"),rt=tt("Self"),it=tt("SkipSelf");var ot=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function st(t){for(let e in t)if(t[e]===st)return e;throw Error("Could not find renamed property on target object.")}function at(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function ut(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function ct(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function lt(t){return ht(t,t[dt])||ht(t,t[vt])}function ht(t,e){return e&&e.token===t?e:null}function ft(t){return t&&(t.hasOwnProperty(pt)||t.hasOwnProperty(mt))?t[pt]:null}const dt=st({"\u0275prov":st}),pt=st({"\u0275inj":st}),gt=st({"\u0275provFallback":st}),vt=st({ngInjectableDef:st}),mt=st({ngInjectorDef:st});function yt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(yt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function bt(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const wt=st({__forward_ref__:st});function _t(t){return t.__forward_ref__=_t,t.toString=function(){return yt(this())},t}function Et(t){return It(t)?t():t}function It(t){return"function"==typeof t&&t.hasOwnProperty(wt)&&t.__forward_ref__===_t}const Tt="undefined"!=typeof globalThis&&globalThis,St="undefined"!=typeof window&&window,At="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Ct="undefined"!=typeof global&&global,kt=Tt||Ct||St||At,xt=st({"\u0275cmp":st}),Ot=st({"\u0275dir":st}),Nt=st({"\u0275pipe":st}),Rt=st({"\u0275mod":st}),Pt=st({"\u0275loc":st}),Dt=st({"\u0275fac":st}),Lt=st({__NG_ELEMENT_ID__:st});class Vt{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=ut({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return"InjectionToken "+this._desc}}const Ut=new Vt("INJECTOR",-1),Mt={},jt=/\n/gm,Ft="__source",qt=st({provide:String,useValue:st});let Ht,Bt=void 0;function zt(t){const e=Bt;return Bt=t,e}function Gt(t){const e=Ht;return Ht=t,e}function Wt(t,e=ot.Default){if(void 0===Bt)throw new Error("inject() must be called from an injection context");return null===Bt?Kt(t,void 0,e):Bt.get(t,e&ot.Optional?null:void 0,e)}function $t(t,e=ot.Default){return(Ht||Wt)(Et(t),e)}function Kt(t,e,n){const r=lt(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&ot.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${yt(t)}]`)}function Xt(t){const e=[];for(let n=0;n<t.length;n++){const r=Et(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t=void 0,n=ot.Default;for(let e=0;e<r.length;e++){const i=r[e];i instanceof nt||"Optional"===i.ngMetadataName||i===nt?n|=ot.Optional:i instanceof it||"SkipSelf"===i.ngMetadataName||i===it?n|=ot.SkipSelf:i instanceof rt||"Self"===i.ngMetadataName||i===rt?n|=ot.Self:t=i instanceof et||i===et?i.token:i}e.push($t(t,n))}else e.push($t(r))}return e}class Zt{get(t,e=Mt){if(e===Mt){const e=new Error(`NullInjectorError: No provider for ${yt(t)}!`);throw e.name="NullInjectorError",e}return e}}class Yt{}class Jt{}function Qt(t,e){t.forEach(t=>Array.isArray(t)?Qt(t,e):e(t))}function te(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function ee(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function ne(t,e,n){let r=ie(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function re(t,e){const n=ie(t,e);if(n>=0)return t[1|n]}function ie(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),o=t[n<<1];if(e===o)return n<<1;o>e?i=n:r=n+1}return~(i<<1)}(t,e)}var oe=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),se=function(t){return t[t.Emulated=0]="Emulated",t[t.Native=1]="Native",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const ae={},ue=[];let ce=0;function le(t){return J(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===oe.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||ue,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||se.Emulated,id:"c",styles:t.styles||ue,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,o=t.pipes;return n.id+=ce++,n.inputs=ge(t.inputs,e),n.outputs=ge(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(he):null,n.pipeDefs=o?()=>("function"==typeof o?o():o).map(fe):null,n})}function he(t){return ye(t)||function(t){return t[Ot]||null}(t)}function fe(t){return function(t){return t[Nt]||null}(t)}const de={};function pe(t){const e={type:t.type,bootstrap:t.bootstrap||ue,declarations:t.declarations||ue,imports:t.imports||ue,exports:t.exports||ue,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&J(()=>{de[t.id]=t.type}),e}function ge(t,e){if(null==t)return ae;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}const ve=le;function me(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function ye(t){return t[xt]||null}function be(t,e){return t.hasOwnProperty(Dt)?t[Dt]:null}function we(t,e){const n=t[Rt]||null;if(!n&&!0===e)throw new Error(`Type ${yt(t)} does not have '\u0275mod' property.`);return n}const _e=20,Ee=10;function Ie(t){return Array.isArray(t)&&"object"==typeof t[1]}function Te(t){return Array.isArray(t)&&!0===t[1]}function Se(t){return 0!=(8&t.flags)}function Ae(t){return 2==(2&t.flags)}function Ce(t){return 1==(1&t.flags)}function ke(t){return null!==t.template}function xe(t){return 0!=(512&t[2])}class Oe{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function Ne(){return Re}function Re(t){return t.type.prototype.ngOnChanges&&(t.setInput=De),Pe}function Pe(){const t=Le(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===ae)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function De(t,e,n,r){const i=Le(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:ae,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[n],u=s[a];o[a]=new Oe(u&&u.currentValue,e,s===ae),t[r]=e}function Le(t){return t.__ngSimpleChanges__||null}Ne.ngInherit=!0;let Ve=void 0;function Ue(t){return!!t.listen}const Me={createRenderer:(t,e)=>void 0!==Ve?Ve:"undefined"!=typeof document?document:void 0};function je(t){for(;Array.isArray(t);)t=t[0];return t}function Fe(t,e){return je(e[t+_e])}function qe(t,e){return je(e[t.index])}function He(t,e){return t.data[e+_e]}function Be(t,e){return t[e+_e]}function ze(t,e){const n=e[t];return Ie(n)?n:n[0]}function Ge(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function We(t){return 128==(128&t[2])}function $e(t,e){return null===t||null==e?null:t[e]}function Ke(t){t[18]=0}function Xe(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const Ze={lFrame:pn(null),bindingsEnabled:!0,checkNoChangesMode:!1};function Ye(){return Ze.bindingsEnabled}function Je(){return Ze.lFrame.lView}function Qe(){return Ze.lFrame.tView}function tn(t){Ze.lFrame.contextLView=t}function en(){return Ze.lFrame.currentTNode}function nn(t,e){Ze.lFrame.currentTNode=t,Ze.lFrame.isParent=e}function rn(){return Ze.lFrame.isParent}function on(){return Ze.checkNoChangesMode}function sn(t){Ze.checkNoChangesMode=t}function an(){return Ze.lFrame.bindingIndex++}function un(t,e){const n=Ze.lFrame;n.bindingIndex=n.bindingRootIndex=t,cn(e)}function cn(t){Ze.lFrame.currentDirectiveIndex=t}function ln(t){Ze.lFrame.currentQueryIndex=t}function hn(t,e){const n=dn();Ze.lFrame=n,n.currentTNode=e,n.lView=t}function fn(t){const e=dn(),n=t[1];Ze.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex}function dn(){const t=Ze.lFrame,e=null===t?null:t.child;return null===e?pn(t):e}function pn(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null};return null!==t&&(t.child=e),e}function gn(){const t=Ze.lFrame;return Ze.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const vn=gn;function mn(){const t=gn();t.isParent=!0,t.tView=null,t.selectedIndex=0,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function yn(){return Ze.lFrame.selectedIndex}function bn(t){Ze.lFrame.selectedIndex=t}function wn(){const t=Ze.lFrame;return He(t.tView,t.selectedIndex)}function _n(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:o,ngAfterViewChecked:s,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),o&&(t.viewHooks||(t.viewHooks=[])).push(-n,o),s&&((t.viewHooks||(t.viewHooks=[])).push(n,s),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,s)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function En(t,e,n){Sn(t,e,3,n)}function In(t,e,n,r){(3&t[2])===n&&Sn(t,e,n,r)}function Tn(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Sn(t,e,n,r){const i=null!=r?r:-1;let o=0;for(let s=void 0!==r?65535&t[18]:0;s<e.length;s++)if("number"==typeof e[s+1]){if(o=e[s],null!=r&&o>=r)break}else e[s]<0&&(t[18]+=65536),(o<i||-1==i)&&(An(t,n,e,s),t[18]=(4294901760&t[18])+s+2),s++}function An(t,e,n,r){const i=n[r]<0,o=n[r+1],s=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,o.call(s)):o.call(s)}const Cn=-1;class kn{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function xn(t,e,n){const r=Ue(t);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,s):e.setAttributeNS(s,a,u)}else{const s=o,a=n[++i];Nn(s)?r&&t.setProperty(e,s,a):r?t.setAttribute(e,s,a):e.setAttribute(s,a),i++}}return i}function On(t){return 3===t||4===t||6===t}function Nn(t){return 64===t.charCodeAt(0)}function Rn(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Pn(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Pn(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const n=t[o++];if("number"==typeof n){if(n===e){s=-1;break}if(n>e){s=o-1;break}}}for(;o<t.length;){const e=t[o];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function Dn(t){return t!==Cn}function Ln(t){return 32767&t}function Vn(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}function Un(t){return"string"==typeof t?t:null==t?"":""+t}function Mn(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Un(t)}const jn=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(kt))();function Fn(t){return t instanceof Function?t():t}let qn=!0;function Hn(t){const e=qn;return qn=t,e}let Bn=0;function zn(t,e){const n=Wn(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Gn(r.data,t),Gn(e,null),Gn(r.blueprint,null));const i=$n(t,e),o=t.injectorIndex;if(Dn(i)){const t=Ln(i),n=Vn(i,e),r=n[1].data;for(let i=0;i<8;i++)e[o+i]=n[t+i]|r[t+i]}return e[o+8]=i,o}function Gn(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Wn(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function $n(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return Cn;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Cn}function Kn(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Lt)&&(r=n[Lt]),null==r&&(r=n[Lt]=Bn++);const i=255&r,o=1<<i,s=64&i,a=32&i,u=e.data;128&i?s?a?u[t+7]|=o:u[t+6]|=o:a?u[t+5]|=o:u[t+4]|=o:s?a?u[t+3]|=o:u[t+2]|=o:a?u[t+1]|=o:u[t]|=o}(t,e,n)}function Xn(t,e,n,r=ot.Default,i){if(null!==t){const i=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Lt)?t[Lt]:void 0;return"number"==typeof e&&e>0?255&e:e}(n);if("function"==typeof i){hn(e,t);try{const t=i();if(null!=t||r&ot.Optional)return t;throw new Error(`No provider for ${Mn(n)}!`)}finally{vn()}}else if("number"==typeof i){if(-1===i)return new er(t,e);let o=null,s=Wn(t,e),a=Cn,u=r&ot.Host?e[16][6]:null;for((-1===s||r&ot.SkipSelf)&&(a=-1===s?$n(t,e):e[s+8],a!==Cn&&tr(r,!1)?(o=e[1],s=Ln(a),e=Vn(a,e)):s=-1);-1!==s;){const t=e[1];if(Qn(i,s,t.data)){const t=Yn(s,e,n,o,r,u);if(t!==Zn)return t}a=e[s+8],a!==Cn&&tr(r,e[1].data[s+8]===u)&&Qn(i,s,e)?(o=t,s=Ln(a),e=Vn(a,e)):s=-1}}}if(r&ot.Optional&&void 0===i&&(i=null),0==(r&(ot.Self|ot.Host))){const t=e[9],o=Gt(void 0);try{return t?t.get(n,i,r&ot.Optional):Kt(n,i,r&ot.Optional)}finally{Gt(o)}}if(r&ot.Optional)return i;throw new Error(`NodeInjector: NOT_FOUND [${Mn(n)}]`)}const Zn={};function Yn(t,e,n,r,i,o){const s=e[1],a=s.data[t+8],u=function(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,u=t.directiveStart,c=o>>20,l=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<l;h++){const t=s[h];if(h<u&&n===t||h>=u&&t.type===n)return h}if(i){const t=s[u];if(t&&ke(t)&&t.type===n)return u}return null}(a,s,n,null==r?Ae(a)&&qn:r!=s&&2===a.type,i&ot.Host&&o===a);return null!==u?Jn(e,s,u,a):Zn}function Jn(t,e,n,r){let i=t[n];const o=e.data;if(i instanceof kn){const s=i;if(s.resolving)throw new Error("Circular dep for "+Mn(o[n]));const a=Hn(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?Gt(s.injectImpl):null;hn(t,r);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const r=Re(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{null!==u&&Gt(u),Hn(a),s.resolving=!1,vn()}}return i}function Qn(t,e,n){const r=64&t,i=32&t;let o;return o=128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e],!!(o&1<<t)}function tr(t,e){return!(t&ot.Self||t&ot.Host&&e)}class er{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return Xn(this._tNode,this._lView,t,void 0,e)}}function nr(t){const e=t;if(It(t))return()=>{const t=nr(Et(e));return t?t():null};let n=be(e);if(null===n){const t=ft(e);n=t&&t.factory}return n||null}function rr(t){return J(()=>{const e=t.prototype.constructor,n=e[Dt]||nr(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[Dt]||nr(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function ir(t){return t.ngDebugContext}function or(t){return t.ngOriginalError}function sr(t,...e){t.error(...e)}class ar{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||sr}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?ir(t)?ir(t):this._findContext(or(t)):null}_findOriginalError(t){let e=or(t);for(;e&&or(e);)e=or(e);return e}}class ur{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"}}function cr(t){return t instanceof ur?t.changingThisBreaksApplicationSecurity:t}let lr=!0,hr=!1;function fr(){return hr=!0,lr}const dr=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,pr=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var gr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function vr(t){const e=function(){const t=Je();return t&&t[12]}();return e?e.sanitize(gr.URL,t)||"":function(t,e){const n=function(t){return t instanceof ur&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see http://g.co/ng/security#xss)`)}return n===e}(t,"URL")?cr(t):(n=Un(t),(n=String(n)).match(dr)||n.match(pr)?n:(fr()&&console.warn(`WARNING: sanitizing unsafe URL value ${n} (see http://g.co/ng/security#xss)`),"unsafe:"+n));var n}function mr(t,e){t.__ngContext__=e}function yr(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const br="ng-template";function wr(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==yr(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function _r(t){return 0===t.type&&t.tagName!==br}function Er(t,e,n){return e===(0!==t.type||n?t.tagName:br)}function Ir(t,e,n){let r=4;const i=t.attrs||[],o=function(t){for(let e=0;e<t.length;e++)if(On(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!Er(t,u,n)||""===u&&1===e.length){if(Tr(r))return!1;s=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!wr(t.attrs,c,n)){if(Tr(r))return!1;s=!0}continue}const l=Sr(8&r?"class":u,i,_r(t),n);if(-1===l){if(Tr(r))return!1;s=!0;continue}if(""!==c){let t;t=l>o?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==yr(e,c,0)||2&r&&c!==t){if(Tr(r))return!1;s=!0}}}}else{if(!s&&!Tr(r)&&!Tr(u))return!1;if(s&&Tr(u))continue;s=!1,r=u|1&r}}return Tr(r)||s}function Tr(t){return 0==(1&t)}function Sr(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function Ar(t,e,n=!1){for(let r=0;r<e.length;r++)if(Ir(t,e[r],n))return!0;return!1}function Cr(t,e){return t?":not("+e.trim()+")":e}function kr(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const e=t[++n];i+="["+s+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""===i||Tr(s)||(e+=Cr(o,i),i=""),r=s,o=o||!Tr(r);n++}return""!==i&&(e+=Cr(o,i)),e}const xr={};function Or(t){const e=t[3];return Te(e)?e[3]:e}function Nr(t){return Pr(t[13])}function Rr(t){return Pr(t[4])}function Pr(t){for(;null!==t&&!Te(t);)t=t[4];return t}function Dr(t){Lr(Qe(),Je(),yn()+t,on())}function Lr(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&En(e,r,n)}else{const r=t.preOrderHooks;null!==r&&In(e,r,0,n)}bn(n)}function Vr(t,e){return t<<17|e<<2}function Ur(t){return t>>17&32767}function Mr(t){return 2|t}function jr(t){return(131068&t)>>2}function Fr(t,e){return-131069&t|e<<2}function qr(t){return 1|t}function Hr(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const n=t.data[o];ln(i),n.contentQueries(2,e[o],o)}}}function Br(t,e,n){return Ue(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function zr(t,e,n,r,i,o,s,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,Ke(l),l[3]=l[15]=t,l[8]=n,l[10]=s||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function Gr(t,e,n,r,i){const o=e+_e,s=t.data[o]||function(t,e,n,r,i){const o=en(),s=rn(),a=t.data[e]=function(t,e,n,r,i,o){return{type:n,index:r,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==o&&(s&&null==o.child&&null!==a.parent?o.child=a:s||(o.next=a)),a}(t,o,n,r,i);return nn(s,!0),s}function Wr(t,e,n){fn(e);try{const r=t.viewQuery;null!==r&&_i(1,r,n);const i=t.template;null!==i&&Xr(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Hr(t,e),t.staticViewQueries&&_i(2,t.viewQuery,n);const o=t.components;null!==o&&function(t,e){for(let n=0;n<e.length;n++)vi(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,mn()}}function $r(t,e,n,r){const i=e[2];if(256==(256&i))return;fn(e);const o=on();try{Ke(e),Ze.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Xr(t,e,n,2,r);const s=3==(3&i);if(!o)if(s){const n=t.preOrderCheckHooks;null!==n&&En(e,n,null)}else{const n=t.preOrderHooks;null!==n&&In(e,n,0,null),Tn(e,0)}if(function(t){for(let e=Nr(t);null!==e;e=Rr(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&Xe(r,1),n[2]|=1024}}}(e),function(t){for(let e=Nr(t);null!==e;e=Rr(e))for(let t=Ee;t<e.length;t++){const n=e[t],r=n[1];We(n)&&$r(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&Hr(t,e),!o)if(s){const n=t.contentCheckHooks;null!==n&&En(e,n)}else{const n=t.contentHooks;null!==n&&In(e,n,1),Tn(e,1)}!function(t,e){try{const n=t.expandoInstructions;if(null!==n){let r=t.expandoStartIndex,i=-1,o=-1;for(let t=0;t<n.length;t++){const s=n[t];"number"==typeof s?s<=0?(o=0-s,bn(o),r+=9+n[++t],i=r):r+=s:(null!==s&&(un(r,i),s(2,e[i])),i++)}}}finally{bn(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)gi(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&_i(2,u,r),!o)if(s){const n=t.viewCheckHooks;null!==n&&En(e,n)}else{const n=t.viewHooks;null!==n&&In(e,n,2),Tn(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Xe(e[3],-1))}finally{mn()}}function Kr(t,e,n,r){const i=e[10],o=!on(),s=4==(4&e[2]);try{o&&!s&&i.begin&&i.begin(),s&&Wr(t,e,r),$r(t,e,n,r)}finally{o&&!s&&i.end&&i.end()}}function Xr(t,e,n,r,i){const o=yn();try{bn(-1),2&r&&e.length>_e&&Lr(t,e,0,on()),n(r,i)}finally{bn(o)}}function Zr(t,e,n){Ye()&&(function(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||zn(n,e),mr(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const r=t.data[a],o=ke(r);o&&hi(e,n,r);const u=Jn(e,t,a,n);mr(u,e),null!==s&&fi(0,a-i,u,r,0,s),o&&(ze(n.index,e)[8]=u)}}(t,e,n,qe(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=t.expandoInstructions,s=t.firstCreatePass,a=n.index-_e,u=Ze.lFrame.currentDirectiveIndex;try{bn(a);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];cn(n),null!==r.hostBindings||0!==r.hostVars||null!==r.hostAttrs?oi(r,i):s&&o.push(null)}}finally{bn(-1),cn(u)}}(t,e,n))}function Yr(t,e,n=qe){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function Jr(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Qr(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Qr(t,e,n,r,i,o,s,a,u,c){const l=_e+r,h=l+i,f=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:xr);return n}(l,h),d="function"==typeof c?c():c;return f[1]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:d,incompleteFirstPass:!1}}function ti(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function ei(t,e,n,r,i,o,s,a){const u=qe(e,n);let c,l=e.inputs;!a&&null!=l&&(c=l[r])?(Si(t,n,c,r,i),Ae(e)&&function(t,e){const n=ze(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):2===e.type&&(r=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=s?s(i,e.tagName||"",r):i,Ue(o)?o.setProperty(u,r,i):Nn(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function ni(t,e,n,r){let i=!1;if(Ye()){const o=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];Ar(n,s.selectors,!1)&&(i||(i=[]),Kn(zn(n,e),t,s.type),ke(s)?(ai(t,n),i.unshift(s)):i.push(s))}return i}(t,e,n),s=null===r?null:{"":-1};if(null!==o){let r=0;i=!0,ci(n,t.data.length,o.length);for(let t=0;t<o.length;t++){const e=o[t];e.providersResolver&&e.providersResolver(e)}si(t,n,o.length);let a=!1,u=!1;for(let i=0;i<o.length;i++){const c=o[i];n.mergedAttrs=Rn(n.mergedAttrs,c.hostAttrs),li(t,e,c),ui(t.data.length-1,c,s),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!a&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index-_e),a=!0),u||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index-_e),u=!0),ri(t,c),r+=c.hostVars}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,o=[];let s=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=r[u],n=t.inputs,c=null===i||_r(e)?null:di(n,i);o.push(c),s=ti(n,u,s),a=ti(t.outputs,u,a)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=s,e.outputs=a}(t,n),ii(t,e,r)}s&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new Error(`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,s)}return n.mergedAttrs=Rn(n.mergedAttrs,n.attrs),i}function ri(t,e){const n=t.expandoInstructions;n.push(e.hostBindings),0!==e.hostVars&&n.push(e.hostVars)}function ii(t,e,n){for(let r=0;r<n;r++)e.push(xr),t.blueprint.push(xr),t.data.push(null)}function oi(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function si(t,e,n){const r=_e-e.index,i=t.data.length-(1048575&e.providerIndexes);(t.expandoInstructions||(t.expandoInstructions=[])).push(r,i,n)}function ai(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function ui(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;ke(e)&&(n[""]=t)}}function ci(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function li(t,e,n){t.data.push(n);const r=n.factory||(n.factory=be(n.type)),i=new kn(r,ke(n),null);t.blueprint.push(i),e.push(i)}function hi(t,e,n){const r=qe(e,t),i=Jr(n),o=t[10],s=mi(t,zr(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n),null,null));t[e.index]=s}function fi(t,e,n,r,i,o){const s=o[e];if(null!==s){const t=r.setInput;for(let e=0;e<s.length;){const i=s[e++],o=s[e++],a=s[e++];null!==t?r.setInput(n,a,i,o):n[o]=a}}}function di(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function pi(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function gi(t,e){const n=ze(e,t);if(We(n)){const t=n[1];80&n[2]?$r(t,n,t.template,n[8]):n[5]>0&&function t(e){for(let r=Nr(e);null!==r;r=Rr(r))for(let e=Ee;e<r.length;e++){const n=r[e];if(1024&n[2]){const t=n[1];$r(t,n,t.template,n[8])}else n[5]>0&&t(n)}const n=e[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=ze(n[r],e);We(i)&&i[5]>0&&t(i)}}(n)}}function vi(t,e){const n=ze(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),Wr(r,n,n[8])}function mi(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function yi(t){for(;t;){t[2]|=64;const e=Or(t);if(xe(t)&&!e)return t;t=e}return null}function bi(t,e,n){const r=e[10];r.begin&&r.begin();try{$r(t,e,t.template,n)}catch(i){throw Ti(e,i),i}finally{r.end&&r.end()}}function wi(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Ge(n),i=r[1];Kr(i,r,i.template,n)}}(t[8])}function _i(t,e,n){ln(0),e(t,n)}const Ei=(()=>Promise.resolve(null))();function Ii(t){return t[7]||(t[7]=[])}function Ti(t,e){const n=t[9],r=n?n.get(ar,null):null;r&&r.handleError(e)}function Si(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],u=e[s],c=t.data[s];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function Ai(t,e,n,r,i){if(null!=r){let o,s=!1;Te(r)?o=r:Ie(r)&&(s=!0,r=r[0]);const a=je(r);0===t&&null!==n?null==i?Ri(e,n,a):Ni(e,n,a,i||null):1===t&&null!==n?Ni(e,n,a,i||null):2===t?function(t,e,n){const r=Di(t,e);r&&function(t,e,n,r){Ue(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function(t,e,n,r,i){const o=n[7];o!==je(n)&&Ai(e,t,r,o,i);for(let s=Ee;s<n.length;s++){const i=n[s];Ui(i[1],i,t,e,r,o)}}(e,t,o,n,i)}}function Ci(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Xe(i,-1)),n.splice(r,1)}function ki(t,e){if(t.length<=Ee)return;const n=Ee+e,r=t[n];if(r){const o=r[17];null!==o&&o!==t&&Ci(o,r),e>0&&(t[n-1][4]=r[4]);const s=ee(t,Ee+e);Ui(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=s[19];null!==a&&a.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function xi(t,e){if(!(256&e[2])){const n=e[11];Ue(n)&&n.destroyNode&&Ui(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Oi(t[1],t);for(;e;){let n=null;if(Ie(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)Ie(e)&&Oi(e[1],e),e=e[3];null===e&&(e=t),Ie(e)&&Oi(e[1],e),n=e&&e[4]}e=n}}(e)}}function Oi(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof kn)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup;if(null!==n){const t=e[7];for(let r=0;r<n.length-1;r+=2)if("string"==typeof n[r]){const i=n[r+1],o="function"==typeof i?i(e):je(e[i]),s=t[n[r+2]],a=n[r+3];"boolean"==typeof a?o.removeEventListener(n[r],s,a):a>=0?t[a]():t[-a].unsubscribe(),r+=2}else n[r].call(t[n[r+1]]);e[7]=null}}(t,e),1===e[1].type&&Ue(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&Te(e[3])){n!==e[3]&&Ci(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function Ni(t,e,n,r){Ue(t)?t.insertBefore(e,n,r):e.insertBefore(n,r,!0)}function Ri(t,e,n){Ue(t)?t.appendChild(e,n):e.appendChild(n)}function Pi(t,e,n,r){null!==r?Ni(t,e,n,r):Ri(t,e,n)}function Di(t,e){return Ue(t)?t.parentNode(e):e.parentNode}function Li(t,e,n,r){const i=function(t,e,n){let r=e.parent;for(;null!=r&&(3===r.type||4===r.type);)r=(e=r).parent;if(null===r)return n[0];if(e&&4===e.type&&4&e.flags)return qe(e,n).parentNode;if(2&r.flags){const e=t.data,n=e[e[r.index].directiveStart].encapsulation;if(n!==se.ShadowDom&&n!==se.Native)return null}return qe(r,n)}(t,r,e);if(null!=i){const t=e[11],o=function(t,e){return 3===t.type||4===t.type?qe(t,e):null}(r.parent||e[6],e);if(Array.isArray(n))for(let e=0;e<n.length;e++)Pi(t,i,n[e],o);else Pi(t,i,n,o)}}function Vi(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],u=n.type;s&&0===e&&(a&&mr(je(a),r),n.flags|=4),64!=(64&n.flags)&&(3===u||4===u?(Vi(t,e,n.child,r,i,o,!1),Ai(e,t,i,a,o)):1===u?Mi(t,e,r,n,i,o):Ai(e,t,i,a,o)),n=s?n.projectionNext:n.next}}function Ui(t,e,n,r,i,o){Vi(n,r,t.firstChild,e,i,o,!1)}function Mi(t,e,n,r,i,o){const s=n[16],a=s[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)Ai(e,t,i,a[u],o);else Vi(t,e,a,s[3],i,o,!0)}function ji(t,e,n){Ue(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Fi(t,e,n){Ue(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}class qi{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._viewContainerRef=null}get rootNodes(){const t=this._lView,e=t[1];return function t(e,n,r,i,o=!1){for(;null!==r;){const s=n[r.index];if(null!==s&&i.push(je(s)),Te(s))for(let e=Ee;e<s.length;e++){const n=s[e],r=n[1].firstChild;null!==r&&t(n[1],n,r,i)}const a=r.type;if(3===a||4===a)t(e,n,r.child,i);else if(1===a){const e=n[16],o=e[6].projection[r.projection];if(Array.isArray(o))i.push(...o);else{const n=Or(e);t(n[1],n,o,i,!0)}}r=o?r.projectionNext:r.next}return i}(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){const t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}xi(this._lView[1],this._lView)}onDestroy(t){!function(t,e,n,r){const i=Ii(e);i.push(null),t.firstCreatePass&&function(t){return t.cleanup||(t.cleanup=[])}(t).push(r,i.length-1)}(this._lView[1],this._lView,0,t)}markForCheck(){yi(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){bi(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){sn(!0);try{bi(t,e,n)}finally{sn(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}detachFromAppRef(){var t;this._appRef=null,Ui(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class Hi extends qi{constructor(t){super(t),this._view=t}detectChanges(){wi(this._view)}checkNoChanges(){!function(t){sn(!0);try{wi(t)}finally{sn(!1)}}(this._view)}get context(){return null}}let Bi,zi,Gi;function Wi(t,e,n){return Bi||(Bi=class extends t{}),new Bi(qe(e,n))}function $i(t,e,n,r){return zi||(zi=class extends t{constructor(t,e,n){super(),this._declarationView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=zr(this._declarationView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationView[this._declarationTContainer.index];const r=this._declarationView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),Wr(e,n,t),new qi(n)}}),0===n.type?new zi(r,n,Wi(e,n,r)):null}function Ki(t=!1){return function(t,e,n){if(!n&&Ae(t)){const n=ze(t.index,e);return new qi(n,n)}return 2===t.type||0===t.type||3===t.type||4===t.type?new qi(e[16],e):null}(en(),Je(),t)}let Xi=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Zi(),t})();const Zi=Ki,Yi=Function,Ji=new Vt("Set Injector scope."),Qi={},to={},eo=[];let no=void 0;function ro(){return void 0===no&&(no=new Zt),no}function io(t,e=null,n=null,r){return new oo(t,n,e||ro(),r)}class oo{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&Qt(e,n=>this.processProvider(n,t,e)),Qt([t],t=>this.processInjectorType(t,[],i)),this.records.set(Ut,uo(void 0,this));const o=this.records.get(Ji);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof t?null:yt(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=Mt,n=ot.Default){this.assertNotDestroyed();const r=zt(this);try{if(!(n&ot.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof Vt)&&lt(t);e=n&&this.injectableDefInScope(n)?uo(so(t),Qi):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&ot.Self?ro():this.parent).get(t,e=n&ot.Optional&&e===Mt?null:e)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(yt(t)),r)throw o;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[Ft]&&i.unshift(e[Ft]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=yt(e);if(Array.isArray(e))i=e.map(yt).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):yt(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(jt,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(o,t,"R3InjectorError",this.source)}throw o}finally{zt(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(yt(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=Et(t)))return!1;let r=ft(t);const i=null==r&&t.ngModule||void 0,o=void 0===i?t:i,s=-1!==n.indexOf(o);if(void 0!==i&&(r=ft(i)),null==r)return!1;if(null!=r.imports&&!s){let t;n.push(o);try{Qt(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];Qt(r,t=>this.processProvider(t,n,r||eo))}}this.injectorDefTypes.add(o),this.records.set(o,uo(r.factory,Qi));const a=r.providers;if(null!=a&&!s){const e=t;Qt(a,t=>this.processProvider(t,e,a))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=lo(t=Et(t))?t:Et(t&&t.provide);const i=function(t,e,n){return co(t)?uo(void 0,t.useValue):uo(ao(t),Qi)}(t);if(lo(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=uo(void 0,Qi,!0),e.factory=()=>Xt(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===Qi&&(e.value=to,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function so(t){const e=lt(t),n=null!==e?e.factory:be(t);if(null!==n)return n;const r=ft(t);if(null!==r)return r.factory;if(t instanceof Vt)throw new Error(`Token ${yt(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=function(t,e){const n=[];for(let r=0;r<t;r++)n.push("?");return n}(e);throw new Error(`Can't resolve all parameters for ${yt(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[dt]||t[vt]||t[gt]&&t[gt]());if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function ao(t,e,n){let r=void 0;if(lo(t)){const e=Et(t);return be(e)||so(e)}if(co(t))r=()=>Et(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...Xt(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>$t(Et(t.useExisting));else{const e=Et(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return be(e)||so(e);r=()=>new e(...Xt(t.deps))}var i;return r}function uo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function co(t){return null!==t&&"object"==typeof t&&qt in t}function lo(t){return"function"==typeof t}const ho=function(t,e,n){return function(t,e=null,n=null,r){const i=io(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let fo=(()=>{class t{static create(t,e){return Array.isArray(t)?ho(t,e,""):ho(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=Mt,t.NULL=new Zt,t.\u0275prov=ut({token:t,providedIn:"any",factory:()=>$t(Ut)}),t.__NG_ELEMENT_ID__=-1,t})();const po=new Vt("AnalyzeForEntryComponents");function go(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const t=e[s];"number"==typeof t?o=t:1==o?i=bt(i,t):2==o&&(r=bt(r,t+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function vo(t,e){const n=Ge(t)[1],r=n.data.length-1;_n(n,{directiveStart:r,directiveEnd:r+1})}function mo(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i=void 0;if(ke(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=yo(t.inputs),e.declaredInputs=yo(t.declaredInputs),e.outputs=yo(t.outputs);const n=i.hostBindings;n&&_o(t,n);const o=i.viewQuery,s=i.contentQueries;if(o&&bo(t,o),s&&wo(t,s),at(t.inputs,i.inputs),at(t.declaredInputs,i.declaredInputs),at(t.outputs,i.outputs),ke(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===mo&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Rn(i.hostAttrs,n=Rn(n,i.hostAttrs))}}(r)}function yo(t){return t===ae?{}:t===ue?[]:t}function bo(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function wo(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function _o(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}let Eo=null;function Io(){if(!Eo){const t=kt.Symbol;if(t&&t.iterator)Eo=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Eo=n)}}}return Eo}class To{constructor(t){this.wrapped=t}static wrap(t){return new To(t)}static unwrap(t){return To.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof To}}function So(t){return!!Ao(t)&&(Array.isArray(t)||!(t instanceof Map)&&Io()in t)}function Ao(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Co(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function ko(t,e,n,r){return Co(t,an(),n)?e+Un(n)+r:xr}function xo(t,e,n,r,i,o,s,a){const u=Je(),c=Qe(),l=t+_e,h=c.firstCreatePass?function(t,e,n,r,i,o,s,a,u){const c=e.consts,l=Gr(e,t,0,s||null,$e(c,a));ni(e,n,l,$e(c,u)),_n(e,l);const h=l.tViews=Qr(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(t,c,u,e,n,r,i,o,s):c.data[l];nn(h,!1);const f=u[11].createComment("");Li(c,u,f,h),mr(f,u),mi(u,u[l]=pi(f,u,f,h)),Ce(h)&&Zr(c,u,h),null!=s&&Yr(u,h,a)}function Oo(t){return Be(Ze.lFrame.contextLView,t)}function No(t,e=ot.Default){const n=Je();return null===n?$t(t,e):Xn(en(),n,Et(t),e)}function Ro(t,e,n){const r=Je();return Co(r,an(),e)&&ei(Qe(),wn(),r,t,e,r[11],n,!1),Ro}function Po(t,e,n,r,i){const o=i?"class":"style";Si(t,n,e.inputs[o],o,r)}function Do(t,e,n,r){const i=Je(),o=Qe(),s=_e+t,a=i[11],u=i[s]=Br(e,a,Ze.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,s){const a=e.consts,u=Gr(e,t,2,i,$e(a,o));return ni(e,n,u,$e(a,s)),null!==u.attrs&&go(u,u.attrs,!1),null!==u.mergedAttrs&&go(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(t,o,i,0,e,n,r):o.data[s];nn(c,!0);const l=c.mergedAttrs;null!==l&&xn(a,u,l);const h=c.classes;null!==h&&Fi(a,u,h);const f=c.styles;null!==f&&ji(a,u,f),Li(o,i,u,c),0===Ze.lFrame.elementDepthCount&&mr(u,i),Ze.lFrame.elementDepthCount++,Ce(c)&&(Zr(o,i,c),function(t,e,n){if(Se(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}(o,c,i)),null!==r&&Yr(i,c)}function Lo(){let t=en();rn()?Ze.lFrame.isParent=!1:(t=t.parent,nn(t,!1));const e=t;Ze.lFrame.elementDepthCount--;const n=Qe();n.firstCreatePass&&(_n(n,t),Se(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Po(n,e,Je(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Po(n,e,Je(),e.stylesWithoutHost,!1)}function Vo(t,e,n,r){Do(t,e,n,r),Lo()}function Uo(){return Je()}function Mo(t){return!!t&&"function"==typeof t.then}function jo(t){return!!t&&"function"==typeof t.subscribe}function Fo(t,e,n=!1,r){const i=Je(),o=Qe(),s=en();return function(t,e,n,r,i,o,s=!1,a){const u=Ce(r),c=t.firstCreatePass&&(t.cleanup||(t.cleanup=[])),l=Ii(e);let h=!0;if(2===r.type){const f=qe(r,e),d=a?a(f):ae,p=d.target||f,g=l.length,v=a?t=>a(je(t[r.index])).target:r.index;if(Ue(n)){let s=null;if(!a&&u&&(s=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const t=i[o];if(t===n&&i[o+1]===r){const t=e[7],n=i[o+2];return t.length>n?t[n]:null}"string"==typeof t&&(o+=2)}return null}(t,e,i,r.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=o,s.__ngLastListenerFn__=o,h=!1;else{o=Ho(r,e,o,!1);const t=n.listen(d.name||p,i,o);l.push(o,t),c&&c.push(i,v,g,g+1)}}else o=Ho(r,e,o,!0),p.addEventListener(i,o,s),l.push(o),c&&c.push(i,v,g,s)}const f=r.outputs;let d;if(h&&null!==f&&(d=f[i])){const t=d.length;if(t)for(let n=0;n<t;n+=2){const t=e[d[n]][d[n+1]].subscribe(o),s=l.length;l.push(o,t),c&&c.push(i,r.index,s,-(s+1))}}}(o,i,i[11],s,t,e,n,r),Fo}function qo(t,e,n){try{return!1!==e(n)}catch(r){return Ti(t,r),!1}}function Ho(t,e,n,r){return function i(o){if(o===Function)return n;const s=2&t.flags?ze(t.index,e):e;0==(32&e[2])&&yi(s);let a=qo(e,n,o),u=i.__ngNextListenerFn__;for(;u;)a=qo(e,u,o)&&a,u=u.__ngNextListenerFn__;return r&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function Bo(t,e,n){return zo(t,"",e,"",n),Bo}function zo(t,e,n,r,i){const o=Je(),s=ko(o,e,n,r);return s!==xr&&ei(Qe(),wn(),o,t,s,o[11],i,!1),zo}const Go=[];function Wo(t,e,n,r,i){const o=t[n+1],s=null===e;let a=r?Ur(o):jr(o),u=!1;for(;0!==a&&(!1===u||s);){const n=t[a+1];$o(t[a],e)&&(u=!0,t[a+1]=r?qr(n):Mr(n)),a=r?Ur(n):jr(n)}u&&(t[n+1]=r?Mr(o):qr(o))}function $o(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&ie(t,e)>=0}function Ko(t,e){return function(t,e,n,r){const i=Je(),o=Qe(),s=function(t){const e=Ze.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+2,n}();o.firstUpdatePass&&function(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[yn()+_e],s=function(t,e){return e>=t.expandoStartIndex}(t,n);(function(t,e){return 0!=(16&t.flags)})(o)&&null===e&&!s&&(e=!1),e=function(t,e,n,r){const i=function(t){const e=Ze.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=e.residualClasses;if(null===i)0===e.classBindings&&(n=Zo(n=Xo(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=Xo(i,t,e,n,r),null===o){let n=function(t,e,n){const r=e.classBindings;if(0!==jr(r))return t[Ur(r)]}(t,e);void 0!==n&&Array.isArray(n)&&(n=Xo(null,t,e,n[1],r),n=Zo(n,e.attrs,r),function(t,e,n,r){t[Ur(e.classBindings)]=r}(t,e,0,n))}else o=function(t,e,n){let r=void 0;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=Zo(r,t[o].hostAttrs,true);return Zo(r,e.attrs,true)}(t,e)}return void 0!==o&&(e.residualClasses=o),n}(i,o,e,r),function(t,e,n,r,i,o){let s=e.classBindings,a=Ur(s),u=jr(s);t[r]=n;let c,l=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||ie(t,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){const e=Ur(t[a+1]);t[r+1]=Vr(e,a),0!==e&&(t[e+1]=Fr(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=Vr(a,0),0!==a&&(t[a+1]=Fr(t[a+1],r)),a=r;else t[r+1]=Vr(u,0),0===a?a=r:t[u+1]=Fr(t[u+1],r),u=r;l&&(t[r+1]=Mr(t[r+1])),Wo(t,c,r,!0),Wo(t,c,r,!1),function(t,e,n,r,i){const o=t.residualClasses;null!=o&&"string"==typeof e&&ie(o,e)>=0&&(n[r+1]=qr(n[r+1]))}(e,c,t,r),s=Vr(a,u),e.classBindings=s}(i,o,e,n,s)}}(o,t,s,true),e!==xr&&Co(i,s,e)&&function(t,e,n,r,i,o,s,a){if(2!==e.type)return;const u=t.data,c=u[a+1];Jo(1==(1&c)?Yo(u,e,n,i,jr(c),s):void 0)||(Jo(o)||function(t){return 2==(2&t)}(c)&&(o=Yo(u,null,n,i,a,s)),function(t,e,n,r,i){const o=Ue(t);i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r)}(r,0,Fe(yn(),n),i,o))}(o,o.data[yn()+_e],i,i[11],t,i[s+1]=function(t,e){return null==t||"object"==typeof t&&(t=yt(cr(t))),t}(e),true,s)}(t,e),Ko}function Xo(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=Zo(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Zo(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),ne(t,s,!!n||e[++o]))}return void 0===t?null:t}function Yo(t,e,n,r,i,o){const s=null===e;let a=void 0;for(;i>0;){const e=t[i],o=Array.isArray(e),u=o?e[1]:e,c=null===u;let l=n[i+1];l===xr&&(l=c?Go:void 0);let h=c?re(l,r):u===r?l:void 0;if(o&&!Jo(h)&&(h=re(e,r)),Jo(h)&&(a=h,s))return a;const f=t[i+1];i=s?Ur(f):jr(f)}if(null!==e){let t=o?e.residualClasses:e.residualStyles;null!=t&&(a=re(t,r))}return a}function Jo(t){return void 0!==t}function Qo(t,e=""){const n=Je(),r=Qe(),i=t+_e,o=r.firstCreatePass?Gr(r,t,2,null,null):r.data[i],s=n[i]=function(t,e){return Ue(e)?e.createText(t):e.createTextNode(t)}(e,n[11]);Li(r,n,s,o),nn(o,!1)}function ts(t){return es("",t,""),ts}function es(t,e,n){const r=Je(),i=ko(r,t,e,n);return i!==xr&&function(t,e,n){const r=Fe(e,t),i=t[11];Ue(i)?i.setValue(r,n):r.textContent=n}(r,yn(),i),es}function ns(t,e,n,r,i){if(t=Et(t),Array.isArray(t))for(let o=0;o<t.length;o++)ns(t[o],e,n,r,i);else{const o=Qe(),s=Je();let a=lo(t)?t:Et(t.provide),u=ao(t);const c=en(),l=1048575&c.providerIndexes,h=c.directiveStart,f=c.providerIndexes>>20;if(lo(t)||!t.multi){const r=new kn(u,i,No),d=os(a,e,i?l:l+f,h);-1===d?(Kn(zn(c,s),o,a),rs(o,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),s.push(r)):(n[d]=r,s[d]=r)}else{const d=os(a,e,l+f,h),p=os(a,e,l,l+f),g=d>=0&&n[d],v=p>=0&&n[p];if(i&&!v||!i&&!g){Kn(zn(c,s),o,a);const l=function(t,e,n,r,i){const o=new kn(t,n,No);return o.multi=[],o.index=e,o.componentProviders=0,is(o,i,r&&!n),o}(i?as:ss,n.length,i,r,u);!i&&v&&(n[p].providerFactory=l),rs(o,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(l),s.push(l)}else rs(o,t,d>-1?d:p,is(n[i?p:d],u,!i&&r));!i&&r&&v&&n[p].componentProviders++}}}function rs(t,e,n,r){const i=lo(e);if(i||e.useClass){const o=(e.useClass||e).prototype.ngOnDestroy;if(o){const s=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=s.indexOf(n);-1===t?s.push(n,[r,o]):s[t+1].push(r,o)}else s.push(n,o)}}}function is(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function os(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function ss(t,e,n,r){return us(this.multi,[])}function as(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=Jn(n,n[1],this.providerFactory.index,r);o=e.slice(0,t),us(i,o);for(let n=t;n<e.length;n++)o.push(e[n])}else o=[],us(i,o);return o}function us(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function cs(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=Qe();if(r.firstCreatePass){const i=ke(t);ns(n,r.data,r.blueprint,i,!0),ns(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class ls{}class hs{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${yt(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let fs=(()=>{class t{}return t.NULL=new hs,t})(),ds=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=()=>ps(t),t})();const ps=function(t){return Wi(t,en(),Je())};class gs{}var vs=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});let ms=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>ys(),t})();const ys=function(){const t=Je(),e=ze(en().index,t);return function(t){const e=t[11];if(Ue(e))return e;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(Ie(e)?e:t)};let bs=(()=>{class t{}return t.\u0275prov=ut({token:t,providedIn:"root",factory:()=>null}),t})();class ws{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const _s=new ws("10.1.6");class Es{constructor(){}supports(t){return So(t)}create(t){return new Ts(t)}}const Is=(t,e)=>e;class Ts{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Is}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const o=!n||e&&e.currentIndex<ks(n,r,i)?e:n,s=ks(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);const t=s-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;e<=o&&o<t&&(i[n]=r+1)}i[o.previousIndex]=e-t}}s!==a&&t(o,s,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!So(t))throw new Error(`Error trying to diff '${yt(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),o=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Io()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),o=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new Ss(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Cs),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Cs),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Ss{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class As{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class Cs{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new As,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ks(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class xs{constructor(){}supports(t){return t instanceof Map||Ao(t)}create(){return new Os}}class Os{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Ao(t)))throw new Error(`Error trying to diff '${yt(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new Ns(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class Ns{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let Rs=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new it,new nt]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=ut({token:t,providedIn:"root",factory:()=>new t([new Es])}),t})(),Ps=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new it,new nt]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=ut({token:t,providedIn:"root",factory:()=>new t([new xs])}),t})();const Ds=[new xs],Ls=new Rs([new Es]),Vs=new Ps(Ds);let Us=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Ms(t,ds),t})();const Ms=function(t,e){return $i(t,e,en(),Je())};let js=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Fs(t,ds),t})();const Fs=function(t,e){return function(t,e,n,r){let i;Gi||(Gi=class extends t{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostView=n}get element(){return Wi(e,this._hostTNode,this._hostView)}get injector(){return new er(this._hostTNode,this._hostView)}get parentInjector(){const t=$n(this._hostTNode,this._hostView);if(Dn(t)){const e=Vn(t,this._hostView),n=Ln(t);return new er(e[1].data[n+8],e)}return new er(null,this._hostView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){return null!==this._lContainer[8]&&this._lContainer[8][t]||null}get length(){return this._lContainer.length-Ee}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){const t=o.get(Yt,null);t&&(i=t)}const s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}insert(t,e){const n=t._lView,r=n[1];if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),Te(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new Gi(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),o=this._lContainer;!function(t,e,n,r){const i=Ee+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-Ee?(e[4]=n[i],te(n,Ee+r,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,o,i);const s=function t(e,n){const r=Ee+e+1;if(r<n.length){const e=n[r],i=e[1].firstChild;if(null!==i)return function e(n,r){if(null!==r){const i=r.type;if(2===i)return qe(r,n);if(0===i)return t(-1,n[r.index]);if(3===i||4===i){const i=r.child;if(null!==i)return e(n,i);{const e=n[r.index];return Te(e)?t(-1,e):je(e)}}{const t=n[16],i=t[6],o=Or(t),s=i.projection[r.projection];return null!=s?e(o,s):e(n,r.next)}}return null}(e,i)}return n[7]}(i,o),a=n[11],u=Di(a,o[7]);return null!==u&&function(t,e,n,r,i,o){r[0]=i,r[6]=e,Ui(t,r,n,1,i,o)}(r,o[6],a,n,u,s),t.attachToViewContainerRef(this),te(o[8],i,t),t}move(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(t,e)}indexOf(t){const e=this._lContainer[8];return null!==e?e.indexOf(t):-1}remove(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1),n=ki(this._lContainer,e);n&&(ee(this._lContainer[8],e),xi(n[1],n))}detach(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1),n=ki(this._lContainer,e);return n&&null!=ee(this._lContainer[8],e)?new qi(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}allocateContainerIfNeeded(){null===this._lContainer[8]&&(this._lContainer[8]=[])}});const o=r[n.index];if(Te(o))i=o;else{let t;if(3===n.type)t=je(o);else if(t=r[11].createComment(""),xe(r)){const e=r[11],i=qe(n,r);Ni(e,Di(e,i),t,function(t,e){return Ue(t)?t.nextSibling(e):e.nextSibling}(e,i))}else Li(r[1],r,t,n);r[n.index]=i=pi(o,r,t,n),mi(r,i)}return new Gi(i,n,r)}(t,e,en(),Je())},qs={};class Hs extends fs{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=ye(t);return new Gs(e,this.ngModule)}}function Bs(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const zs=new Vt("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>jn});class Gs extends ls{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(kr).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return Bs(this.componentDef.inputs)}get outputs(){return Bs(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const o=t.get(n,qs,i);return o!==qs||r===qs?o:e.get(n,r,i)}}}(t,r.injector):t,o=i.get(gs,Me),s=i.get(bs,null),a=o.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(Ue(t))return t.selectRootElement(e,n===se.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Br(u,o.createRenderer(null,this.componentDef),function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:jn,clean:Ei,playerHandler:null,flags:0},f=Qr(0,null,null,1,0,null,null,null,null,null),d=zr(null,f,h,l,null,null,o,a,s,i);let p,g;fn(d);try{const t=function(t,e,n,r,i,o){const s=n[1];n[20]=t;const a=Gr(s,0,2,null,null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(go(a,u,!0),null!==t&&(xn(i,t,u),null!==a.classes&&Fi(i,t,a.classes),null!==a.styles&&ji(i,t,a.styles)));const c=r.createRenderer(t,e),l=zr(n,Jr(e),null,e.onPush?64:16,n[20],a,r,c,null,null);return s.firstCreatePass&&(Kn(zn(a,n),s,e.type),ai(s,a),ci(a,n.length,1)),mi(n,l),n[20]=l}(c,this.componentDef,d,o,a);if(c)if(n)xn(a,c,["ng-version",_s.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!Tr(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&xn(a,c,t),e&&e.length>0&&Fi(a,c,e.join(" "))}if(g=He(f,0),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const o=n[1],s=function(t,e,n){const r=en();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),si(t,r,1),li(t,e,n));const i=Jn(e,t,e.length-1,r);mr(i,e);const o=qe(r,e);return o&&mr(o,e),i}(o,n,e);r.components.push(s),t[8]=s,i&&i.forEach(t=>t(s,e)),e.contentQueries&&e.contentQueries(1,s,n.length-1);const a=en();if(o.firstCreatePass&&(null!==e.hostBindings||null!==e.hostAttrs)){bn(a.index-_e);const t=n[1];ri(t,e),ii(t,n,e.hostVars),oi(e,s)}return s}(t,this.componentDef,d,h,[vo]),Wr(f,d,null)}finally{mn()}return new Ws(this.componentType,p,Wi(ds,g,d),d,g)}}class Ws extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.destroyCbs=[],this.instance=e,this.hostView=this.changeDetectorRef=new Hi(r),this.componentType=t}get injector(){return new er(this._tNode,this._rootLView)}destroy(){this.destroyCbs&&(this.destroyCbs.forEach(t=>t()),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}onDestroy(t){this.destroyCbs&&this.destroyCbs.push(t)}}const $s=void 0;var Ks=["en",[["a","p"],["AM","PM"],$s],[["AM","PM"],$s,$s],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],$s,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],$s,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",$s,"{1} 'at' {0}",$s],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let Xs={};function Zs(t){return t in Xs||(Xs[t]=kt.ng&&kt.ng.common&&kt.ng.common.locales&&kt.ng.common.locales[t]),Xs[t]}var Ys=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const Js="en-US";let Qs=Js;function ta(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error("ASSERTION ERROR: "+t+` [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(Qs=t.toLowerCase().replace(/_/g,"-"))}const ea=new Map;class na extends Yt{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Hs(this);const n=we(t),r=t[Pt]||null;r&&ta(r),this._bootstrapComponents=Fn(n.bootstrap),this._r3Injector=io(t,e,[{provide:Yt,useValue:this},{provide:fs,useValue:this.componentFactoryResolver}],yt(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=fo.THROW_IF_NOT_FOUND,n=ot.Default){return t===fo||t===Yt||t===Ut?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class ra extends Jt{constructor(t){super(),this.moduleType=t,null!==we(t)&&function t(e){if(null!==e.\u0275mod.id){const t=e.\u0275mod.id;(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${yt(e)} vs ${yt(e.name)}`)})(t,ea.get(t),e),ea.set(t,e)}let n=e.\u0275mod.imports;n instanceof Function&&(n=n()),n&&n.forEach(e=>t(e))}(t)}create(t){return new na(this.moduleType,t)}}function ia(t,e,n){const r=Je(),i=Be(r,t);return function(t,e){return To.isWrapped(e)&&(e=To.unwrap(e),t[Ze.lFrame.bindingIndex]=xr),e}(r,function(t,e){return t[1].data[e+_e].pure}(r,t)?function(t,e,n,r,i,o){const s=e+n;return Co(t,s,i)?function(t,e,n){return t[e]=n}(t,s+1,o?r.call(o,i):r(i)):function(t,e){const n=t[e];return n===xr?void 0:n}(t,s+1)}(r,function(){const t=Ze.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}(),e,i.transform,n,i):i.transform(n))}const oa=class extends I{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,i=t=>null,o=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(i=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(o=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(i=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(o=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const s=super.subscribe(r,i,o);return t instanceof h&&t.add(s),s}};function sa(t,e){return $i(Us,ds,t,e)}const aa=new Vt("Application Initializer");let ua=(()=>{class t{constructor(t){this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();Mo(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)($t(aa,8))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();const ca=new Vt("AppId"),la={provide:ca,useFactory:function(){return`${ha()}${ha()}${ha()}`},deps:[]};function ha(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const fa=new Vt("Platform Initializer"),da=new Vt("Platform ID"),pa=new Vt("appBootstrapListener");let ga=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();const va=new Vt("LocaleId"),ma=new Vt("DefaultCurrencyCode");class ya{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const ba=function(t){return new ra(t)},wa=ba,_a=function(t){return Promise.resolve(ba(t))},Ea=function(t){const e=ba(t),n=Fn(we(t).declarations).reduce((t,e)=>{const n=ye(e);return n&&t.push(new Gs(n)),t},[]);return new ya(e,n)},Ia=Ea,Ta=function(t){return Promise.resolve(Ea(t))};let Sa=(()=>{class t{constructor(){this.compileModuleSync=wa,this.compileModuleAsync=_a,this.compileModuleAndAllComponentsSync=Ia,this.compileModuleAndAllComponentsAsync=Ta}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();const Aa=(()=>Promise.resolve(0))();function Ca(t){"undefined"==typeof Zone?Aa.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class ka{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new oa(!1),this.onMicrotaskEmpty=new oa(!1),this.onStable=new oa(!1),this.onError=new oa(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const n=this;n._nesting=0,n._outer=n._inner=Zone.current,Zone.wtfZoneSpec&&(n._inner=n._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(n._inner=n._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(n._inner=n._inner.fork(Zone.longStackTraceZoneSpec)),n.shouldCoalesceEventChangeDetection=e,n.lastRequestAnimationFrameId=-1,n.nativeRequestAnimationFrame=function(){let t=kt.requestAnimationFrame,e=kt.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=!!t.shouldCoalesceEventChangeDetection&&t.nativeRequestAnimationFrame&&(()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(kt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Ra(t),Na(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Ra(t))}(t)});t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:e},onInvokeTask:(n,r,i,o,s,a)=>{try{return Pa(t),n.invokeTask(i,o,s,a)}finally{e&&"eventTask"===o.type&&e(),Da(t)}},onInvoke:(e,n,r,i,o,s,a)=>{try{return Pa(t),e.invoke(r,i,o,s,a)}finally{Da(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,Ra(t),Na(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(n)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ka.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(ka.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,Oa,xa,xa);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}function xa(){}const Oa={};function Na(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Ra(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function Pa(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Da(t){t._nesting--,Na(t)}class La{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new oa,this.onMicrotaskEmpty=new oa,this.onStable=new oa,this.onError=new oa}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let Va=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ka.assertNotInAngularZone(),Ca(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Ca(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)($t(ka))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),Ua=(()=>{class t{constructor(){this._applications=new Map,Fa.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Fa.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();class Ma{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}let ja,Fa=new Ma;const qa=new Vt("AllowMultipleToken");class Ha{constructor(t,e){this.name=t,this.token=e}}function Ba(t,e,n=[]){const r="Platform: "+e,i=new Vt(r);return(e=[])=>{let o=za();if(!o||o.injector.get(qa,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:Ji,useValue:"platform"});!function(t){if(ja&&!ja.destroyed&&!ja.injector.get(qa,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");ja=t.get(Ga);const e=t.get(fa,null);e&&e.forEach(t=>t())}(fo.create({providers:t,name:r}))}return function(t){const e=za();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function za(){return ja&&!ja.destroyed?ja:null}let Ga=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new La:("zone.js"===t?void 0:t)||new ka({enableLongStackTrace:fr(),shouldCoalesceEventChangeDetection:e}),n}(e?e.ngZone:void 0,e&&e.ngZoneEventCoalescing||!1),r=[{provide:ka,useValue:n}];return n.run(()=>{const e=fo.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),o=i.injector.get(ar,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return i.onDestroy(()=>Ka(this._modules,i)),n.runOutsideAngular(()=>n.onError.subscribe({next:t=>{o.handleError(t)}})),function(t,e,n){try{const r=n();return Mo(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,n,()=>{const t=i.injector.get(ua);return t.runInitializers(),t.donePromise.then(()=>(ta(i.injector.get(va,Js)||Js),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=Wa({},e);return function(t,e,n){const r=new ra(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get($a);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${yt(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)($t(fo))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();function Wa(t,e){return Array.isArray(e)?e.reduce(Wa,t):Object.assign(Object.assign({},t),e)}let $a=(()=>{class t{constructor(t,e,n,r,i,o){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=fr(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new y(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),a=new y(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{ka.assertNotInAngularZone(),Ca(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{ka.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=function(...t){let e=Number.POSITIVE_INFINITY,n=null,r=t[t.length-1];return S(r)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof r&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof y?t[0]:B(e)(z(t,n))}(s,a.pipe(t=>{return G()((e=Y,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,X);return r.source=t,r.subjectFactory=n,r})(t));var e}))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof ls?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(Yt),i=n.create(fo.NULL,[],e||n.selector,r);i.onDestroy(()=>{this._unloadComponent(i)});const o=i.injector.get(Va,null);return o&&i.injector.get(Ua).registerApplication(i.location.nativeElement,o),this._loadComponent(i),fr()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges();if(this._enforceNoNewChanges)for(let t of this._views)t.checkNoChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;Ka(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(pa,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}_unloadComponent(t){this.detachView(t.hostView),Ka(this.components,t)}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy())}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)($t(ka),$t(ga),$t(fo),$t(ar),$t(fs),$t(ua))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();function Ka(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Xa{}class Za{}const Ya={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Ja=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||Ya}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>Qa(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>Qa(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)($t(Sa),$t(Za,8))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();function Qa(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const tu=Ba(null,"core",[{provide:da,useValue:"unknown"},{provide:Ga,deps:[fo]},{provide:Ua,deps:[]},{provide:ga,deps:[]}]),eu=[{provide:$a,useClass:$a,deps:[ka,ga,fo,ar,fs,ua]},{provide:zs,deps:[ka],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:ua,useClass:ua,deps:[[new nt,aa]]},{provide:Sa,useClass:Sa,deps:[]},la,{provide:Rs,useFactory:function(){return Ls},deps:[]},{provide:Ps,useFactory:function(){return Vs},deps:[]},{provide:va,useFactory:function(t){return ta(t=t||"undefined"!=typeof $localize&&$localize.locale||Js),t},deps:[[new et(va),new nt,new it]]},{provide:ma,useValue:"USD"}];let nu=(()=>{class t{constructor(t){}}return t.\u0275mod=pe({type:t}),t.\u0275inj=ct({factory:function(e){return new(e||t)($t($a))},providers:eu}),t})();const ru=Object.assign(Object.assign({},ru),{production:!0});let iu=null;function ou(){return iu}const su=new Vt("DocumentToken");let au=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({factory:uu,token:t,providedIn:"platform"}),t})();function uu(){return $t(lu)}const cu=new Vt("Location Initialized");let lu=(()=>{class t extends au{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=ou().getLocation(),this._history=ou().getHistory()}getBaseHrefFromDOM(){return ou().getBaseHref(this._doc)}onPopState(t){ou().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){ou().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){hu()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){hu()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)($t(su))},t.\u0275prov=ut({factory:fu,token:t,providedIn:"platform"}),t})();function hu(){return!!window.history.pushState}function fu(){return new lu($t(su))}function du(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function pu(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function gu(t){return t&&"?"!==t[0]?"?"+t:t}let vu=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({factory:mu,token:t,providedIn:"root"}),t})();function mu(t){const e=$t(su).location;return new bu($t(au),e&&e.origin||"")}const yu=new Vt("appBaseHref");let bu=(()=>{class t extends vu{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return du(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+gu(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+gu(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+gu(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)($t(au),$t(yu,8))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),wu=(()=>{class t extends vu{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=du(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+gu(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+gu(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)($t(au),$t(yu,8))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),_u=(()=>{class t{constructor(t,e){this._subject=new oa,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=pu(Iu(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+gu(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,Iu(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+gu(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+gu(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)($t(vu),$t(au))},t.normalizeQueryParams=gu,t.joinWithSlash=du,t.stripTrailingSlash=pu,t.\u0275prov=ut({factory:Eu,token:t,providedIn:"root"}),t})();function Eu(){return new _u($t(vu),$t(au))}function Iu(t){return t.replace(/\/index.html$/,"")}var Tu=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({});class Su{}let Au=(()=>{class t extends Su{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(function(t){return function(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=Zs(e);if(n)return n;const r=e.split("-")[0];if(n=Zs(r),n)return n;if("en"===r)return Ks;throw new Error(`Missing locale data for the locale "${t}".`)}(t)[Ys.PluralCase]}(e||this.locale)(t)){case Tu.Zero:return"zero";case Tu.One:return"one";case Tu.Two:return"two";case Tu.Few:return"few";case Tu.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)($t(va))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();function Cu(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}class ku{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let xu=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){fr()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(t)}. See https://angular.io/api/common/NgForOf#change-propagation for more information.`),this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new ku(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new Ou(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const o=new Ou(t,i);e.push(o)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(No(js),No(Us),No(Rs))},t.\u0275dir=ve({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class Ou{constructor(t,e){this.record=t,this.view=e}}let Nu=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new Ru,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Pu("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Pu("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(No(js),No(Us))},t.\u0275dir=ve({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class Ru{constructor(){this.$implicit=null,this.ngIf=null}}function Pu(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${yt(e)}'.`)}class Du{createSubscription(t,e){return t.subscribe({next:e,error:t=>{throw t}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class Lu{createSubscription(t,e){return t.then(e,t=>{throw t})}dispose(t){}onDestroy(t){}}const Vu=new Lu,Uu=new Du;let Mu=(()=>{class t{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,e=>this._updateLatestValue(t,e))}_selectStrategy(e){if(Mo(e))return Vu;if(jo(e))return Uu;throw Error(`InvalidPipeArgument: '${e}' for pipe '${yt(t)}'`)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(function(t=ot.Default){const e=Ki(!0);if(null!=e||t&ot.Optional)return e;throw new Error("No provider for ChangeDetectorRef!")}())},t.\u0275pipe=me({name:"async",type:t,pure:!1}),t})(),ju=(()=>{class t{}return t.\u0275mod=pe({type:t}),t.\u0275inj=ct({factory:function(e){return new(e||t)},providers:[{provide:Su,useClass:Au}]}),t})();function Fu(t){return"server"===t}let qu=(()=>{class t{}return t.\u0275prov=ut({token:t,providedIn:"root",factory:()=>new Hu($t(su),window,$t(ar))}),t})();class Hu{constructor(t,e,n){this.document=t,this.window=e,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(this.supportsScrolling()){const e=this.document.getElementById(t)||this.document.getElementsByName(t)[0];e&&this.scrollToElement(e)}}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}supportScrollRestoration(){try{if(!this.window||!this.window.scrollTo)return!1;const t=Bu(this.window.history)||Bu(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window.scrollTo}catch(t){return!1}}}function Bu(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class zu extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new zu,iu||(iu=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=Wu||(Wu=document.querySelector("base"),Wu)?Wu.getAttribute("href"):null;return null==e?null:(n=e,Gu||(Gu=document.createElement("a")),Gu.setAttribute("href",n),"/"===Gu.pathname.charAt(0)?Gu.pathname:"/"+Gu.pathname);var n}resetBaseElement(){Wu=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return Cu(document.cookie,t)}}let Gu,Wu=null;const $u=new Vt("TRANSITION_ID"),Ku=[{provide:aa,useFactory:function(t,e,n){return()=>{n.get(ua).donePromise.then(()=>{const n=ou();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[$u,su,fo],multi:!0}];class Xu{static init(){var t;t=new Xu,Fa=t}addToWindow(t){kt.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},kt.getAllAngularTestabilities=()=>t.getAllTestabilities(),kt.getAllAngularRootElements=()=>t.getAllRootElements(),kt.frameworkStabilizers||(kt.frameworkStabilizers=[]),kt.frameworkStabilizers.push(t=>{const e=kt.getAllAngularTestabilities();let n=e.length,r=!1;const i=function(e){r=r||e,n--,0==n&&t(r)};e.forEach((function(t){t.whenStable(i)}))})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?ou().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const Zu=new Vt("EventManagerPlugins");let Yu=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error("No event manager plugin found for event "+t)}}return t.\u0275fac=function(e){return new(e||t)($t(Zu),$t(ka))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();class Ju{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=ou().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let Qu=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),tc=(()=>{class t extends Qu{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>ou().remove(t))}}return t.\u0275fac=function(e){return new(e||t)($t(su))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();const ec={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},nc=/%COMP%/g;function rc(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?rc(t,i,n):(i=i.replace(nc,t),n.push(i))}return n}function ic(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let oc=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new sc(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case se.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new ac(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case se.Native:case se.ShadowDom:return new uc(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=rc(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)($t(Yu),$t(tc),$t(ca))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();class sc{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(ec[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=ec[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=ec[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,r){r&vs.DashCase?t.style.setProperty(e,n,r&vs.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&vs.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,ic(n)):this.eventManager.addEventListener(t,e,ic(n))}}class ac extends sc{constructor(t,e,n,r){super(t),this.component=n;const i=rc(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(nc,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(nc,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class uc extends sc{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.component=r,this.shadowRoot=r.encapsulation===se.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const i=rc(r.id,r.styles,[]);for(let o=0;o<i.length;o++){const t=document.createElement("style");t.textContent=i[o],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let cc=(()=>{class t extends Ju{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)($t(su))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();const lc=["alt","control","meta","shift"],hc={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},fc={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},dc={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let pc=(()=>{class t extends Ju{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),o=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ou().onAndCancel(e,i.domEventName,o))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let o="";if(lc.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;const s={};return s.domEventName=r,s.fullKey=o,s}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&fc.hasOwnProperty(e)&&(e=fc[e]))}return hc[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),lc.forEach(r=>{r!=n&&(0,dc[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)($t(su))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();const gc=Ba(tu,"browser",[{provide:da,useValue:"browser"},{provide:fa,useValue:function(){zu.makeCurrent(),Xu.init()},multi:!0},{provide:su,useFactory:function(){return function(t){Ve=t}(document),document},deps:[]}]),vc=[[],{provide:Ji,useValue:"root"},{provide:ar,useFactory:function(){return new ar},deps:[]},{provide:Zu,useClass:cc,multi:!0,deps:[su,ka,da]},{provide:Zu,useClass:pc,multi:!0,deps:[su]},[],{provide:oc,useClass:oc,deps:[Yu,tc,ca]},{provide:gs,useExisting:oc},{provide:Qu,useExisting:tc},{provide:tc,useClass:tc,deps:[su]},{provide:Va,useClass:Va,deps:[ka]},{provide:Yu,useClass:Yu,deps:[Zu,ka]},[]];let mc=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:ca,useValue:e.appId},{provide:$u,useExisting:ca},Ku]}}}return t.\u0275mod=pe({type:t}),t.\u0275inj=ct({factory:function(e){return new(e||t)($t(t,12))},providers:vc,imports:[ju,nu]}),t})();function yc(...t){let e=t[t.length-1];return S(e)?(t.pop(),M(t,e)):z(t)}"undefined"!=typeof window&&window;class bc extends I{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new w;return this._value}next(t){super.next(this._value=t)}}const wc={};class _c{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Ec(t,this.resultSelector))}}class Ec extends D{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(wc),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++){const e=t[n];this.add(P(this,e,e,n))}}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n,r,i){const o=this.values,s=this.toRespond?o[n]===wc?--this.toRespond:this.toRespond:0;o[n]=e,0===s&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const Ic=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})(),Tc=new y(t=>t.complete());function Sc(t){return t?function(t){return new y(e=>t.schedule(()=>e.complete()))}(t):Tc}function Ac(t){return new y(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?j(n):Sc()).subscribe(e)})}function Cc(){return B(1)}function kc(t,e){return function(n){return n.lift(new xc(t,e))}}class xc{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new Oc(t,this.predicate,this.thisArg))}}class Oc extends p{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}const Nc=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function Rc(t){return function(e){return 0===t?Sc():e.lift(new Pc(t))}}class Pc{constructor(t){if(this.total=t,this.total<0)throw new Nc}call(t,e){return e.subscribe(new Dc(t,this.total))}}class Dc extends p{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function Lc(t=Mc){return e=>e.lift(new Vc(t))}class Vc{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new Uc(t,this.errorFactory))}}class Uc extends p{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function Mc(){return new Ic}function jc(t=null){return e=>e.lift(new Fc(t))}class Fc{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new qc(t,this.defaultValue))}}class qc extends p{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function Hc(t,e){return"function"==typeof e?n=>n.pipe(Hc((n,r)=>j(t(n,r)).pipe(L((t,i)=>e(n,t,r,i))))):e=>e.lift(new Bc(t))}class Bc{constructor(t){this.project=t}call(t,e){return e.subscribe(new zc(t,this.project))}}class zc extends D{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e,t,n)}_innerSub(t,e,n){const r=this.innerSubscription;r&&r.unsubscribe();const i=new A(this,e,n),o=this.destination;o.add(i),this.innerSubscription=P(this,t,void 0,void 0,i),this.innerSubscription!==i&&o.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(t,e,n,r,i){this.destination.next(e)}}function Gc(t){return e=>0===t?Sc():e.lift(new Wc(t))}class Wc{constructor(t){if(this.total=t,this.total<0)throw new Nc}call(t,e){return e.subscribe(new $c(t,this.total))}}class $c extends p{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function Kc(...t){return Cc()(yc(...t))}function Xc(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Zc(t,e,n))}}class Zc{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new Yc(t,this.accumulator,this.seed,this.hasSeed))}}class Yc extends p{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function Jc(t){return function(e){const n=new Qc(t),r=e.lift(n);return n.caught=r}}class Qc{constructor(t){this.selector=t}call(t,e){return e.subscribe(new tl(t,this.selector,this.caught))}}class tl extends D{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new A(this,void 0,void 0);this.add(r);const i=P(this,n,void 0,void 0,r);i!==r&&this.add(i)}}}function el(t,e){return F(t,e,1)}function nl(t,e){const n=arguments.length>=2;return r=>r.pipe(t?kc((e,n)=>t(e,n,r)):m,Gc(1),n?jc(e):Lc(()=>new Ic))}function rl(){}function il(t,e,n){return function(r){return r.lift(new ol(t,e,n))}}class ol{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new sl(t,this.nextOrObserver,this.error,this.complete))}}class sl extends p{constructor(t,e,n,i){super(t),this._tapNext=rl,this._tapError=rl,this._tapComplete=rl,this._tapError=n||rl,this._tapComplete=i||rl,r(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||rl,this._tapError=e.error||rl,this._tapComplete=e.complete||rl)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}class al{constructor(t){this.callback=t}call(t,e){return e.subscribe(new ul(t,this.callback))}}class ul extends p{constructor(t,e){super(t),this.add(new h(e))}}class cl{constructor(t,e){this.id=t,this.url=e}}class ll extends cl{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class hl extends cl{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class fl extends cl{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class dl extends cl{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class pl extends cl{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gl extends cl{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vl extends cl{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ml extends cl{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class yl extends cl{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bl{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class wl{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class _l{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class El{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Il{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Tl{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Sl{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Al="primary";class Cl{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function kl(t){return new Cl(t)}function xl(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function Ol(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const e=r[o],n=t[o];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Nl(t,e){const n=Object.keys(t),r=Object.keys(e);if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!Rl(t[i],e[i]))return!1;return!0}function Rl(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function Pl(t){return Array.prototype.concat.apply([],t)}function Dl(t){return t.length>0?t[t.length-1]:null}function Ll(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Vl(t){return jo(t)?t:Mo(t)?j(Promise.resolve(t)):yc(t)}function Ul(t,e,n){return n?function(t,e){return Nl(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!ql(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children){if(!e.children[r])return!1;if(!t(e.children[r],n.children[r]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Rl(t[n],e[n]))}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,r,i){if(n.segments.length>i.length)return!!ql(n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!ql(n.segments,i))return!1;for(const e in r.children){if(!n.children[e])return!1;if(!t(n.children[e],r.children[e]))return!1}return!0}{const t=i.slice(0,n.segments.length),o=i.slice(n.segments.length);return!!ql(n.segments,t)&&!!n.children.primary&&e(n.children.primary,r,o)}}(e,n,n.segments)}(t.root,e.root)}class Ml{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=kl(this.queryParams)),this._queryParamMap}toString(){return Gl.serialize(this)}}class jl{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Ll(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Wl(this)}}class Fl{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=kl(this.parameters)),this._parameterMap}toString(){return Jl(this)}}function ql(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}function Hl(t,e){let n=[];return Ll(t.children,(t,r)=>{r===Al&&(n=n.concat(e(t,r)))}),Ll(t.children,(t,r)=>{r!==Al&&(n=n.concat(e(t,r)))}),n}class Bl{}class zl{parse(t){const e=new rh(t);return new Ml(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){return`${"/"+function t(e,n){if(!e.hasChildren())return Wl(e);if(n){const n=e.children.primary?t(e.children.primary,!1):"",r=[];return Ll(e.children,(e,n)=>{n!==Al&&r.push(`${n}:${t(e,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=Hl(e,(n,r)=>r===Al?[t(e.children.primary,!1)]:[`${r}:${t(n,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children.primary?`${Wl(e)}/${n[0]}`:`${Wl(e)}/(${n.join("//")})`}}(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${Kl(e)}=${Kl(t)}`).join("&"):`${Kl(e)}=${Kl(n)}`});return e.length?"?"+e.join("&"):""}(t.queryParams)}${"string"==typeof t.fragment?"#"+encodeURI(t.fragment):""}`}}const Gl=new zl;function Wl(t){return t.segments.map(t=>Jl(t)).join("/")}function $l(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Kl(t){return $l(t).replace(/%3B/gi,";")}function Xl(t){return $l(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Zl(t){return decodeURIComponent(t)}function Yl(t){return Zl(t.replace(/\+/g,"%20"))}function Jl(t){return`${Xl(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${Xl(t)}=${Xl(e[t])}`).join("")}`;var e}const Ql=/^[^\/()?;=#]+/;function th(t){const e=t.match(Ql);return e?e[0]:""}const eh=/^[^=?&#]+/,nh=/^[^?&#]+/;class rh{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new jl([],{}):new jl([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new jl(t,e)),n}parseSegment(){const t=th(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Fl(Zl(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=th(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=th(this.remaining);t&&(n=t,this.capture(n))}t[Zl(e)]=Zl(n)}parseQueryParam(t){const e=function(t){const e=t.match(eh);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(nh);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=Yl(e),i=Yl(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=th(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=Al);const o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new jl([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class ih{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=oh(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=oh(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=sh(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return sh(t,this._root).map(t=>t.value)}}function oh(t,e){if(t===e.value)return e;for(const n of e.children){const e=oh(t,n);if(e)return e}return null}function sh(t,e){if(t===e.value)return[e];for(const n of e.children){const r=sh(t,n);if(r.length)return r.unshift(e),r}return[]}class ah{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function uh(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class ch extends ih{constructor(t,e){super(t),this.snapshot=e,gh(this,t)}toString(){return this.snapshot.toString()}}function lh(t,e){const n=function(t,e){const n=new dh([],{},{},"",{},Al,e,null,t.root,-1,{});return new ph("",new ah(n,[]))}(t,e),r=new bc([new Fl("",{})]),i=new bc({}),o=new bc({}),s=new bc({}),a=new bc(""),u=new hh(r,i,s,a,o,Al,e,n.root);return u.snapshot=n.root,new ch(new ah(u,[]),n)}class hh{constructor(t,e,n,r,i,o,s,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(L(t=>kl(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(L(t=>kl(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function fh(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class dh{constructor(t,e,n,r,i,o,s,a,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=kl(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=kl(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ph extends ih{constructor(t,e){super(e),this.url=t,gh(this,e)}toString(){return vh(this._root)}}function gh(t,e){e.value._routerState=t,e.children.forEach(e=>gh(t,e))}function vh(t){const e=t.children.length>0?` { ${t.children.map(vh).join(", ")} } `:"";return`${t.value}${e}`}function mh(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Nl(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Nl(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Nl(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Nl(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function yh(t,e){var n,r;return Nl(t.params,e.params)&&ql(n=t.url,r=e.url)&&n.every((t,e)=>Nl(t.parameters,r[e].parameters))&&!(!t.parent!=!e.parent)&&(!t.parent||yh(t.parent,e.parent))}function bh(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function wh(t,e,n,r,i){let o={};return r&&Ll(r,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>""+t):""+t}),new Ml(n.root===t?e:function t(e,n,r){const i={};return Ll(e.children,(e,o)=>{i[o]=e===n?r:t(e,n,r)}),new jl(e.segments,i)}(n.root,t,e),o,i)}class _h{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&bh(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(t=>"object"==typeof t&&null!=t&&t.outlets);if(r&&r!==Dl(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Eh{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function Ih(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets.primary:""+t}function Th(t,e,n){if(t||(t=new jl([],{})),0===t.segments.length&&t.hasChildren())return Sh(t,e,n);const r=function(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const e=t.segments[i],s=Ih(n[r]),a=r<n.length-1?n[r+1]:null;if(i>0&&void 0===s)break;if(s&&a&&"object"==typeof a&&void 0===a.outlets){if(!xh(s,a,e))return o;r+=2}else{if(!xh(s,{},e))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new jl(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new jl(t.segments.slice(r.pathIndex),t.children),Sh(e,0,i)}return r.match&&0===i.length?new jl(t.segments,{}):r.match&&!t.hasChildren()?Ah(t,e,n):r.match?Sh(t,0,i):Ah(t,e,n)}function Sh(t,e,n){if(0===n.length)return new jl(t.segments,{});{const r=function(t){return"object"==typeof t[0]&&null!==t[0]&&t[0].outlets?t[0].outlets:{[Al]:t}}(n),i={};return Ll(r,(n,r)=>{null!==n&&(i[r]=Th(t.children[r],e,n))}),Ll(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new jl(t.segments,i)}}function Ah(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){if("object"==typeof n[i]&&null!==n[i]&&void 0!==n[i].outlets){const t=Ch(n[i].outlets);return new jl(r,t)}if(0===i&&bh(n[0])){r.push(new Fl(t.segments[e].path,n[0])),i++;continue}const o=Ih(n[i]),s=i<n.length-1?n[i+1]:null;o&&s&&bh(s)?(r.push(new Fl(o,kh(s))),i+=2):(r.push(new Fl(o,{})),i++)}return new jl(r,{})}function Ch(t){const e={};return Ll(t,(t,n)=>{null!==t&&(e[n]=Ah(new jl([],{}),0,t))}),e}function kh(t){const e={};return Ll(t,(t,n)=>e[n]=""+t),e}function xh(t,e,n){return t==n.path&&Nl(e,n.parameters)}class Oh{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),mh(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=uh(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),Ll(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet);if(n){const r=uh(t),i=t.value.component?n.children:e;Ll(r,(t,e)=>this.deactivateRouteAndItsChildren(t,i)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(t,e,n){const r=uh(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new Tl(t.value.snapshot))}),t.children.length&&this.forwardEvent(new El(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(mh(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),Nh(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function Nh(t){mh(t.value),t.children.forEach(Nh)}class Rh{constructor(t,e){this.routes=t,this.module=e}}function Ph(t){return"function"==typeof t}function Dh(t){return t instanceof Ml}const Lh=Symbol("INITIAL_VALUE");function Vh(){return Hc(t=>function(...t){let e=null,n=null;return S(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&u(t[0])&&(t=t[0]),z(t,n).lift(new _c(e))}(...t.map(t=>t.pipe(Gc(1),function(...t){const e=t[t.length-1];return S(e)?(t.pop(),n=>Kc(t,n,e)):e=>Kc(t,e)}(Lh)))).pipe(Xc((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==Lh)return t;if(r===Lh&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||Dh(r))return r}return t},t)},Lh),kc(t=>t!==Lh),L(t=>Dh(t)?t:!0===t),Gc(1)))}class Uh{constructor(t){this.segmentGroup=t||null}}class Mh{constructor(t){this.urlTree=t}}function jh(t){return new y(e=>e.error(new Uh(t)))}function Fh(t){return new y(e=>e.error(new Mh(t)))}function qh(t){return new y(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Hh{constructor(t,e,n,r,i){this.configLoader=e,this.urlSerializer=n,this.urlTree=r,this.config=i,this.allowRedirects=!0,this.ngModule=t.get(Yt)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,Al).pipe(L(t=>this.createUrlTree(t,this.urlTree.queryParams,this.urlTree.fragment))).pipe(Jc(t=>{if(t instanceof Mh)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof Uh)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,Al).pipe(L(e=>this.createUrlTree(e,t.queryParams,t.fragment))).pipe(Jc(t=>{if(t instanceof Uh)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new jl([],{[Al]:t}):t;return new Ml(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(L(t=>new jl([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){return function(t,e){if(0===Object.keys(t).length)return yc({});const n=[],r=[],i={};return Ll(t,(t,o)=>{const s=e(o,t).pipe(L(t=>i[o]=t));o===Al?n.push(s):r.push(s)}),yc.apply(null,n.concat(r)).pipe(Cc(),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?kc((e,n)=>t(e,n,r)):m,Rc(1),n?jc(e):Lc(()=>new Ic))}(),L(()=>i))}(n.children,(n,r)=>this.expandSegmentGroup(t,e,r,n))}expandSegment(t,e,n,r,i,o){return yc(...n).pipe(el(s=>this.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(Jc(t=>{if(t instanceof Uh)return yc(null);throw t}))),nl(t=>!!t),Jc((t,n)=>{if(t instanceof Ic||"EmptyError"===t.name){if(this.noLeftoversInUrl(e,r,i))return yc(new jl([],{}));throw new Uh(e)}throw t}))}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}expandSegmentAgainstRoute(t,e,n,r,i,o,s){return Wh(r)!==o?jh(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):jh(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Fh(i):this.lineralizeSegments(n,i).pipe(F(n=>{const i=new jl(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){const{matched:s,consumedSegments:a,lastChild:u,positionalParamSegments:c}=Bh(e,r,i);if(!s)return jh(e);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?Fh(l):this.lineralizeSegments(r,l).pipe(F(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),o,!1)))}matchSegmentAgainstRoute(t,e,n,r){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(L(t=>(n._loadedConfig=t,new jl(r,{})))):yc(new jl(r,{}));const{matched:i,consumedSegments:o,lastChild:s}=Bh(e,n,r);if(!i)return jh(e);const a=r.slice(s);return this.getChildConfig(t,n,r).pipe(F(t=>{const n=t.module,r=t.routes,{segmentGroup:i,slicedSegments:s}=function(t,e,n,r){return n.length>0&&function(t,e,n){return n.some(n=>Gh(t,e,n)&&Wh(n)!==Al)}(t,n,r)?{segmentGroup:zh(new jl(e,function(t,e){const n={};n.primary=e;for(const r of t)""===r.path&&Wh(r)!==Al&&(n[Wh(r)]=new jl([],{}));return n}(r,new jl(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some(n=>Gh(t,e,n))}(t,n,r)?{segmentGroup:zh(new jl(t.segments,function(t,e,n,r){const i={};for(const o of n)Gh(t,e,o)&&!r[Wh(o)]&&(i[Wh(o)]=new jl([],{}));return Object.assign(Object.assign({},r),i)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,o,a,r);return 0===s.length&&i.hasChildren()?this.expandChildren(n,r,i).pipe(L(t=>new jl(o,t))):0===r.length&&0===s.length?yc(new jl(o,{})):this.expandSegment(n,i,r,s,Al,!0).pipe(L(t=>new jl(o.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?yc(new Rh(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?yc(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(F(n=>n?this.configLoader.load(t.injector,e).pipe(L(t=>(e._loadedConfig=t,t))):function(t){return new y(e=>e.error(xl(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):yc(new Rh([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;return r&&0!==r.length?yc(r.map(r=>{const i=t.get(r);let o;if(function(t){return t&&Ph(t.canLoad)}(i))o=i.canLoad(e,n);else{if(!Ph(i))throw new Error("Invalid CanLoad guard");o=i(e,n)}return Vl(o)})).pipe(Vh(),il(t=>{if(!Dh(t))return;const e=xl(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),L(t=>!0===t)):yc(!0)}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return yc(n);if(r.numberOfChildren>1||!r.children.primary)return qh(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new Ml(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return Ll(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let o={};return Ll(e.children,(e,i)=>{o[i]=this.createSegmentGroup(t,e,n,r)}),new jl(i,o)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function Bh(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const r=(e.matcher||Ol)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function zh(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new jl(t.segments.concat(e.segments),e.children)}return t}function Gh(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function Wh(t){return t.outlet||Al}class $h{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Kh{constructor(t,e){this.component=t,this.route=e}}function Xh(t,e,n){const r=t._root;return function t(e,n,r,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=uh(n);return e.children.forEach(e=>{!function(e,n,r,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=e.value,a=n?n.value:null,u=r?r.getContext(e.value.outlet):null;if(a&&s.routeConfig===a.routeConfig){const c=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!ql(t.url,e.url);case"pathParamsOrQueryParamsChange":return!ql(t.url,e.url)||!Nl(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!yh(t,e)||!Nl(t.queryParams,e.queryParams);case"paramsChange":default:return!yh(t,e)}}(a,s,s.routeConfig.runGuardsAndResolvers);c?o.canActivateChecks.push(new $h(i)):(s.data=a.data,s._resolvedData=a._resolvedData),t(e,n,s.component?u?u.children:null:r,i,o),c&&u&&u.outlet&&u.outlet.isActivated&&o.canDeactivateChecks.push(new Kh(u.outlet.component,a))}else a&&Yh(n,u,o),o.canActivateChecks.push(new $h(i)),t(e,null,s.component?u?u.children:null:r,i,o)}(e,s[e.value.outlet],r,i.concat([e.value]),o),delete s[e.value.outlet]}),Ll(s,(t,e)=>Yh(t,r.getContext(e),o)),o}(r,e?e._root:null,n,[r.value])}function Zh(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Yh(t,e,n){const r=uh(t),i=t.value;Ll(r,(t,r)=>{Yh(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new Kh(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Jh(t,e){return null!==t&&e&&e(new Il(t)),yc(!0)}function Qh(t,e){return null!==t&&e&&e(new _l(t)),yc(!0)}function tf(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;return r&&0!==r.length?yc(r.map(r=>Ac(()=>{const i=Zh(r,e,n);let o;if(function(t){return t&&Ph(t.canActivate)}(i))o=Vl(i.canActivate(e,t));else{if(!Ph(i))throw new Error("Invalid CanActivate guard");o=Vl(i(e,t))}return o.pipe(nl())}))).pipe(Vh()):yc(!0)}function ef(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>Ac(()=>yc(e.guards.map(i=>{const o=Zh(i,e.node,n);let s;if(function(t){return t&&Ph(t.canActivateChild)}(o))s=Vl(o.canActivateChild(r,t));else{if(!Ph(o))throw new Error("Invalid CanActivateChild guard");s=Vl(o(r,t))}return s.pipe(nl())})).pipe(Vh())));return yc(i).pipe(Vh())}class nf{}class rf{constructor(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){try{const t=af(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Al),n=new dh([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Al,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new ah(n,e),i=new ph(this.url,r);return this.inheritParamsAndData(i._root),yc(i)}catch(t){return new y(e=>e.error(t))}}inheritParamsAndData(t){const e=t.value,n=fh(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=Hl(e,(e,n)=>this.processSegmentGroup(t,e,n));return function(t){const e={};t.forEach(t=>{const n=e[t.value.outlet];if(n){const e=n.url.map(t=>t.toString()).join("/"),r=t.value.url.map(t=>t.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${e}' and '${r}'.`)}e[t.value.outlet]=t.value})}(n),n.sort((t,e)=>t.value.outlet===Al?-1:e.value.outlet===Al?1:t.value.outlet.localeCompare(e.value.outlet)),n}processSegment(t,e,n,r){for(const o of t)try{return this.processSegmentAgainstRoute(o,e,n,r)}catch(i){if(!(i instanceof nf))throw i}if(this.noLeftoversInUrl(e,n,r))return[];throw new nf}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo)throw new nf;if((t.outlet||Al)!==r)throw new nf;let i,o=[],s=[];if("**"===t.path){const o=n.length>0?Dl(n).parameters:{};i=new dh(n,o,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,lf(t),r,t.component,t,of(e),sf(e)+n.length,hf(t))}else{const a=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new nf;return{consumedSegments:[],lastChild:0,parameters:{}}}const r=(e.matcher||Ol)(n,t,e);if(!r)throw new nf;const i={};Ll(r.posParams,(t,e)=>{i[e]=t.path});const o=r.consumed.length>0?Object.assign(Object.assign({},i),r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o}}(e,t,n);o=a.consumedSegments,s=n.slice(a.lastChild),i=new dh(o,a.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,lf(t),r,t.component,t,of(e),sf(e)+o.length,hf(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:c}=af(e,o,s,a,this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const t=this.processChildren(a,u);return[new ah(i,t)]}if(0===a.length&&0===c.length)return[new ah(i,[])];const l=this.processSegment(a,u,c,Al);return[new ah(i,l)]}}function of(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function sf(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function af(t,e,n,r,i){if(n.length>0&&function(t,e,n){return n.some(n=>uf(t,e,n)&&cf(n)!==Al)}(t,n,r)){const i=new jl(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&cf(o)!==Al){const n=new jl([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[cf(o)]=n}return i}(t,e,r,new jl(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>uf(t,e,n))}(t,n,r)){const o=new jl(t.segments,function(t,e,n,r,i,o){const s={};for(const a of r)if(uf(t,n,a)&&!i[cf(a)]){const n=new jl([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[cf(a)]=n}return Object.assign(Object.assign({},i),s)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new jl(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function uf(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function cf(t){return t.outlet||Al}function lf(t){return t.data||{}}function hf(t){return t.resolve||{}}function ff(t){return function(e){return e.pipe(Hc(e=>{const n=t(e);return n?j(n).pipe(L(()=>e)):j([e])}))}}class df extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}let pf=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=le({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&Vo(0,"router-outlet")},directives:function(){return[kf]},encapsulation:2}),t})();function gf(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];vf(r,mf(e,r))}}function vf(t,e){if(!t)throw new Error(`\n      Invalid configuration of route '${e}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(t))throw new Error(`Invalid configuration of route '${e}': Array cannot be specified`);if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&t.outlet!==Al)throw new Error(`Invalid configuration of route '${e}': a componentless route without children or loadChildren cannot have a named outlet set`);if(t.redirectTo&&t.children)throw new Error(`Invalid configuration of route '${e}': redirectTo and children cannot be used together`);if(t.redirectTo&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': redirectTo and loadChildren cannot be used together`);if(t.children&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': children and loadChildren cannot be used together`);if(t.redirectTo&&t.component)throw new Error(`Invalid configuration of route '${e}': redirectTo and component cannot be used together`);if(t.path&&t.matcher)throw new Error(`Invalid configuration of route '${e}': path and matcher cannot be used together`);if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error(`Invalid configuration of route '${e}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===t.path&&void 0===t.matcher)throw new Error(`Invalid configuration of route '${e}': routes must have either a path or a matcher specified`);if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error(`Invalid configuration of route '${e}': path cannot start with a slash`);if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error(`Invalid configuration of route '{path: "${e}", redirectTo: "${t.redirectTo}"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`);if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error(`Invalid configuration of route '${e}': pathMatch can only be set to 'prefix' or 'full'`);t.children&&gf(t.children,e)}function mf(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:`${t}/${e.path}`:"":t}function yf(t){const e=t.children&&t.children.map(yf),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Al&&(n.component=pf),n}const bf=new Vt("ROUTES");class wf{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(L(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new Rh(Pl(r.injector.get(bf)).map(yf),r)}))}loadModuleFactory(t){return"string"==typeof t?j(this.loader.load(t)):Vl(t()).pipe(F(t=>t instanceof Jt?yc(t):j(this.compiler.compileModuleAsync(t))))}}class _f{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Ef,this.attachRef=null}}class Ef{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new _f,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class If{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function Tf(t){throw t}function Sf(t,e,n){return e.parse("/")}function Af(t,e){return yc(null)}let Cf=(()=>{class t{constructor(t,e,n,r,i,o,s,a){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=r,this.config=a,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new I,this.errorHandler=Tf,this.malformedUriErrorHandler=Sf,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Af,afterPreactivation:Af},this.urlHandlingStrategy=new If,this.routeReuseStrategy=new df,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=i.get(Yt),this.console=i.get(ga);const u=i.get(ka);this.isNgZoneEnabled=u instanceof ka,this.resetConfig(a),this.currentUrlTree=new Ml(new jl([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new wf(o,s,t=>this.triggerEvent(new bl(t)),t=>this.triggerEvent(new wl(t))),this.routerState=lh(this.currentUrlTree,this.rootComponentType),this.transitions=new bc({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(kc(t=>0!==t.id),L(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),Hc(t=>{let n=!1,r=!1;return yc(t).pipe(il(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Hc(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return yc(t).pipe(Hc(t=>{const n=this.transitions.getValue();return e.next(new ll(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?Tc:[t]}),Hc(t=>Promise.resolve(t)),(r=this.ngModule.injector,i=this.configLoader,o=this.urlSerializer,s=this.config,function(t){return t.pipe(Hc(t=>function(t,e,n,r,i){return new Hh(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,s).pipe(L(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e})))))}),il(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return function(o){return o.pipe(F(o=>function(t,e,n,r,i="emptyOnly",o="legacy"){return new rf(t,e,n,r,i,o).recognize()}(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe(L(t=>Object.assign(Object.assign({},o),{targetSnapshot:t})))))}}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),il(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),il(t=>{const n=new pl(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,o,s;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:o,extras:s}=t,a=new ll(n,this.serializeUrl(r),i,o);e.next(a);const u=lh(r,this.rootComponentType).snapshot;return yc(Object.assign(Object.assign({},t),{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign(Object.assign({},s),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),Tc}),ff(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),il(t=>{const e=new gl(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),L(t=>Object.assign(Object.assign({},t),{guards:Xh(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return function(n){return n.pipe(F(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?yc(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return j(t).pipe(F(t=>function(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?yc(o.map(o=>{const s=Zh(o,e,i);let a;if(function(t){return t&&Ph(t.canDeactivate)}(s))a=Vl(s.canDeactivate(t,e,n,r));else{if(!Ph(s))throw new Error("Invalid CanDeactivate guard");a=Vl(s(t,e,n,r))}return a.pipe(nl())})).pipe(Vh()):yc(!0)}(t.component,t.route,n,e,r)),nl(t=>!0!==t,!0))}(s,r,i,t).pipe(F(n=>n&&"boolean"==typeof n?function(t,e,n,r){return j(e).pipe(el(e=>j([Qh(e.route.parent,r),Jh(e.route,r),ef(t,e.path,n),tf(t,e.route,n)]).pipe(Cc(),nl(t=>!0!==t,!0))),nl(t=>!0!==t,!0))}(r,o,t,e):yc(n)),L(t=>Object.assign(Object.assign({},n),{guardsResult:t})))}))}}(this.ngModule.injector,t=>this.triggerEvent(t)),il(t=>{if(Dh(t.guardsResult)){const e=xl(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}}),il(t=>{const e=new vl(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),kc(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new fl(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),ff(t=>{if(t.guards.canActivateChecks.length)return yc(t).pipe(il(t=>{const e=new ml(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Hc(t=>{let n=!1;return yc(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,function(t){return t.pipe(F(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return yc(t);let o=0;return j(n).pipe(el(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return yc({});const o={};return j(i).pipe(F(i=>function(t,e,n,r){const i=Zh(t,e,r);return Vl(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(il(t=>{o[i]=t}))),Rc(1),F(()=>Object.keys(o).length===i.length?yc(o):Tc))}(t._resolve,t,e,r).pipe(L(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),fh(t,n).resolve),null)))}(t.route,e,r,i)),il(()=>o++),Rc(1),F(e=>o===n.length?yc(t):Tc))}))}),il({next:()=>n=!0,complete:()=>{if(!n){const n=new fl(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),il(t=>{const e=new yl(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),ff(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),L(t=>{const e=function(t,e,n){const r=function t(e,n,r){if(r&&e.shouldReuseRoute(n.value,r.value.snapshot)){const i=r.value;i._futureSnapshot=n.value;const o=function(e,n,r){return n.children.map(n=>{for(const i of r.children)if(e.shouldReuseRoute(i.value.snapshot,n.value))return t(e,n,i);return t(e,n)})}(e,n,r);return new ah(i,o)}{const r=e.retrieve(n.value);if(r){const t=r.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(let r=0;r<e.children.length;++r)t(e.children[r],n.children[r])}(n,t),t}{const r=new hh(new bc((i=n.value).url),new bc(i.params),new bc(i.queryParams),new bc(i.fragment),new bc(i.data),i.outlet,i.component,i),o=n.children.map(n=>t(e,n));return new ah(r,o)}}var i}(t,e._root,n?n._root:void 0);return new ch(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),il(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(o=this.rootContexts,s=this.routeReuseStrategy,a=t=>this.triggerEvent(t),L(t=>(new Oh(s,t.targetRouterState,t.currentRouterState,a).activate(o),t))),il({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new fl(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new al(i))),Jc(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=Dh(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new fl(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);return this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new dl(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(o){t.reject(o)}}var i;return Tc}));var i,o,s,a}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){gf(t),this.config=t.map(yf),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,preserveQueryParams:o,queryParamsHandling:s,preserveFragment:a}=e;fr()&&o&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const u=n||this.routerState.root,c=a?this.currentUrlTree.fragment:i;let l=null;if(s)switch(s){case"merge":l=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=r||null}else l=o?this.currentUrlTree.queryParams:r||null;return null!==l&&(l=this.removeEmptyProps(l)),function(t,e,n,r,i){if(0===n.length)return wh(e.root,e.root,e,r,i);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new _h(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return Ll(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new _h(n,e,r)}(n);if(o.toRoot())return wh(e.root,new jl([],{}),e,r,i);const s=function(t,e,n){if(t.isAbsolute)return new Eh(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new Eh(t,t===e.root,0)}const r=bh(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Eh(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),a=s.processChildren?Sh(s.segmentGroup,s.index,o.commands):Th(s.segmentGroup,s.index,o.commands);return wh(s.segmentGroup,a,e,r,i)}(u,this.currentUrlTree,t,l,c)}navigateByUrl(t,e={skipLocationChange:!1}){fr()&&this.isNgZoneEnabled&&!ka.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const n=Dh(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}isActive(t,e){if(Dh(t))return Ul(this.currentUrlTree,t,e);const n=this.parseUrl(t);return Ul(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new hl(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){const o=this.getTransition(),s="imperative"!==e&&"imperative"===(null==o?void 0:o.source),a=(this.lastSuccessfulId===o.id||this.currentNavigation?o.rawUrl:o.urlAfterRedirects).toString()===t.toString();if(s&&a)return Promise.resolve(!0);let u,c,l;i?(u=i.resolve,c=i.reject,l=i.promise):l=new Promise((t,e)=>{u=t,c=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:u,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)($t(Yi),$t(Bl),$t(Ef),$t(_u),$t(fo),$t(Xa),$t(Sa),$t(void 0))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),kf=(()=>{class t{constructor(t,e,n,r,i){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=i,this.activated=null,this._activatedRoute=null,this.activateEvents=new oa,this.deactivateEvents=new oa,this.name=r||Al,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new xf(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(No(Ef),No(js),No(fs),("name",function(t,e){const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(On(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(en(),"name")),No(Xi))},t.\u0275dir=ve({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class xf{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===hh?this.route:t===Ef?this.childContexts:this.parent.get(t,e)}}class Of{}class Nf{preload(t,e){return yc(null)}}let Rf=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new wf(e,n,e=>t.triggerEvent(new bl(e)),e=>t.triggerEvent(new wl(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(kc(t=>t instanceof hl),el(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(Yt);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return j(n).pipe(B(),L(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(F(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)($t(Cf),$t(Xa),$t(Sa),$t(fo),$t(Of))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),Pf=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof ll?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof hl&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Sl&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new Sl(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)($t(Cf),$t(qu),$t(void 0))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();const Df=new Vt("ROUTER_CONFIGURATION"),Lf=new Vt("ROUTER_FORROOT_GUARD"),Vf=[_u,{provide:Bl,useClass:zl},{provide:Cf,useFactory:function(t,e,n,r,i,o,s,a={},u,c){const l=new Cf(null,t,e,n,r,i,o,Pl(s));if(u&&(l.urlHandlingStrategy=u),c&&(l.routeReuseStrategy=c),a.errorHandler&&(l.errorHandler=a.errorHandler),a.malformedUriErrorHandler&&(l.malformedUriErrorHandler=a.malformedUriErrorHandler),a.enableTracing){const t=ou();l.events.subscribe(e=>{t.logGroup("Router Event: "+e.constructor.name),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return a.onSameUrlNavigation&&(l.onSameUrlNavigation=a.onSameUrlNavigation),a.paramsInheritanceStrategy&&(l.paramsInheritanceStrategy=a.paramsInheritanceStrategy),a.urlUpdateStrategy&&(l.urlUpdateStrategy=a.urlUpdateStrategy),a.relativeLinkResolution&&(l.relativeLinkResolution=a.relativeLinkResolution),l},deps:[Bl,Ef,_u,fo,Xa,Sa,bf,Df,[class{},new nt],[class{},new nt]]},Ef,{provide:hh,useFactory:function(t){return t.routerState.root},deps:[Cf]},{provide:Xa,useClass:Ja},Rf,Nf,class{preload(t,e){return e().pipe(Jc(()=>yc(null)))}},{provide:Df,useValue:{enableTracing:!1}}];function Uf(){return new Ha("Router",Cf)}let Mf=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[Vf,Hf(e),{provide:Lf,useFactory:qf,deps:[[Cf,new nt,new it]]},{provide:Df,useValue:n||{}},{provide:vu,useFactory:Ff,deps:[au,[new et(yu),new nt],Df]},{provide:Pf,useFactory:jf,deps:[Cf,qu,Df]},{provide:Of,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Nf},{provide:Ha,multi:!0,useFactory:Uf},[Bf,{provide:aa,multi:!0,useFactory:zf,deps:[Bf]},{provide:Wf,useFactory:Gf,deps:[Bf]},{provide:pa,multi:!0,useExisting:Wf}]]}}static forChild(e){return{ngModule:t,providers:[Hf(e)]}}}return t.\u0275mod=pe({type:t}),t.\u0275inj=ct({factory:function(e){return new(e||t)($t(Lf,8),$t(Cf,8))}}),t})();function jf(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Pf(t,e,n)}function Ff(t,e,n={}){return n.useHash?new wu(t,e):new bu(t,e)}function qf(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Hf(t){return[{provide:po,multi:!0,useValue:t},{provide:bf,multi:!0,useValue:t}]}let Bf=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new I}appInitializer(){return this.injector.get(cu,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(Cf),r=this.injector.get(Df);if(this.isLegacyDisabled(r)||this.isLegacyEnabled(r))t(!0);else if("disabled"===r.initialNavigation)n.setUpLocationChangeListener(),t(!0);else{if("enabled"!==r.initialNavigation)throw new Error(`Invalid initialNavigation options: '${r.initialNavigation}'`);n.hooks.afterPreactivation=()=>this.initNavigation?yc(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()}return e})}bootstrapListener(t){const e=this.injector.get(Df),n=this.injector.get(Rf),r=this.injector.get(Pf),i=this.injector.get(Cf),o=this.injector.get($a);t===o.components[0]&&(this.isLegacyEnabled(e)?i.initialNavigation():this.isLegacyDisabled(e)&&i.setUpLocationChangeListener(),n.setUpPreloading(),r.init(),i.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation}isLegacyDisabled(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation}}return t.\u0275fac=function(e){return new(e||t)($t(fo))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();function zf(t){return t.appInitializer.bind(t)}function Gf(t){return t.bootstrapListener.bind(t)}const Wf=new Vt("Router Initializer");class $f{}class Kf{}class Xf{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),r=n.toLowerCase(),i=t.slice(e+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const r=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Xf?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Xf;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Xf?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":const i=t.value;if(i){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===i.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class Zf{encodeKey(t){return Yf(t)}encodeValue(t){return Yf(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function Yf(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class Jf{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Zf,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.split("&").forEach(t=>{const r=t.indexOf("="),[i,o]=-1==r?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,r)),e.decodeValue(t.slice(r+1))],s=n.get(i)||[];s.push(o),n.set(i,s)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Jf({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat([t]),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(t.value),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(t.value);-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}function Qf(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function td(t){return"undefined"!=typeof Blob&&t instanceof Blob}function ed(t){return"undefined"!=typeof FormData&&t instanceof FormData}class nd{constructor(t,e,n,r){let i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.params&&(this.params=i.params)),this.headers||(this.headers=new Xf),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new Jf,this.urlWithParams=e}serializeBody(){return null===this.body?null:Qf(this.body)||td(this.body)||ed(this.body)||"string"==typeof this.body?this.body:this.body instanceof Jf?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||ed(this.body)?null:td(this.body)?this.body.type||null:Qf(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Jf?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,r=t.responseType||this.responseType,i=void 0!==t.body?t.body:this.body,o=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,s=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let a=t.headers||this.headers,u=t.params||this.params;return void 0!==t.setHeaders&&(a=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),a)),t.setParams&&(u=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),u)),new nd(e,n,i,{params:u,headers:a,reportProgress:s,responseType:r,withCredentials:o})}}var rd=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}({});class id{constructor(t,e=200,n="OK"){this.headers=t.headers||new Xf,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class od extends id{constructor(t={}){super(t),this.type=rd.ResponseHeader}clone(t={}){return new od({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class sd extends id{constructor(t={}){super(t),this.type=rd.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new sd({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class ad extends id{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?"Http failure during parsing for "+(t.url||"(unknown url)"):`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function ud(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let cd=(()=>{class t{constructor(t){this.handler=t}request(t,e,n={}){let r;if(t instanceof nd)r=t;else{let i=void 0;i=n.headers instanceof Xf?n.headers:new Xf(n.headers);let o=void 0;n.params&&(o=n.params instanceof Jf?n.params:new Jf({fromObject:n.params})),r=new nd(t,e,void 0!==n.body?n.body:null,{headers:i,params:o,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const i=yc(r).pipe(el(t=>this.handler.handle(t)));if(t instanceof nd||"events"===n.observe)return i;const o=i.pipe(kc(t=>t instanceof sd));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return o.pipe(L(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return o.pipe(L(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return o.pipe(L(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return o.pipe(L(t=>t.body))}case"response":return o;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new Jf).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,ud(n,e))}post(t,e,n={}){return this.request("POST",t,ud(n,e))}put(t,e,n={}){return this.request("PUT",t,ud(n,e))}}return t.\u0275fac=function(e){return new(e||t)($t($f))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();class ld{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const hd=new Vt("HTTP_INTERCEPTORS");let fd=(()=>{class t{intercept(t,e){return e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();const dd=/^\)\]\}',?\n/;class pd{}let gd=(()=>{class t{constructor(){}build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),vd=(()=>{class t{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new y(e=>{const n=this.xhrFactory.build();if(n.open(t.method,t.urlWithParams),t.withCredentials&&(n.withCredentials=!0),t.headers.forEach((t,e)=>n.setRequestHeader(t,e.join(","))),t.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const e=t.detectContentTypeHeader();null!==e&&n.setRequestHeader("Content-Type",e)}if(t.responseType){const e=t.responseType.toLowerCase();n.responseType="json"!==e?e:"text"}const r=t.serializeBody();let i=null;const o=()=>{if(null!==i)return i;const e=1223===n.status?204:n.status,r=n.statusText||"OK",o=new Xf(n.getAllResponseHeaders()),s=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(n)||t.url;return i=new od({headers:o,status:e,statusText:r,url:s}),i},s=()=>{let{headers:r,status:i,statusText:s,url:a}=o(),u=null;204!==i&&(u=void 0===n.response?n.responseText:n.response),0===i&&(i=u?200:0);let c=i>=200&&i<300;if("json"===t.responseType&&"string"==typeof u){const t=u;u=u.replace(dd,"");try{u=""!==u?JSON.parse(u):null}catch(l){u=t,c&&(c=!1,u={error:l,text:u})}}c?(e.next(new sd({body:u,headers:r,status:i,statusText:s,url:a||void 0})),e.complete()):e.error(new ad({error:u,headers:r,status:i,statusText:s,url:a||void 0}))},a=t=>{const{url:r}=o(),i=new ad({error:t,status:n.status||0,statusText:n.statusText||"Unknown Error",url:r||void 0});e.error(i)};let u=!1;const c=r=>{u||(e.next(o()),u=!0);let i={type:rd.DownloadProgress,loaded:r.loaded};r.lengthComputable&&(i.total=r.total),"text"===t.responseType&&n.responseText&&(i.partialText=n.responseText),e.next(i)},l=t=>{let n={type:rd.UploadProgress,loaded:t.loaded};t.lengthComputable&&(n.total=t.total),e.next(n)};return n.addEventListener("load",s),n.addEventListener("error",a),t.reportProgress&&(n.addEventListener("progress",c),null!==r&&n.upload&&n.upload.addEventListener("progress",l)),n.send(r),e.next({type:rd.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("load",s),t.reportProgress&&(n.removeEventListener("progress",c),null!==r&&n.upload&&n.upload.removeEventListener("progress",l)),n.readyState!==n.DONE&&n.abort()}})}}return t.\u0275fac=function(e){return new(e||t)($t(pd))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();const md=new Vt("XSRF_COOKIE_NAME"),yd=new Vt("XSRF_HEADER_NAME");class bd{}let wd=(()=>{class t{constructor(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Cu(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)($t(su),$t(da),$t(md))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),_d=(()=>{class t{constructor(t,e){this.tokenService=t,this.headerName=e}intercept(t,e){const n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);const r=this.tokenService.getToken();return null===r||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)($t(bd),$t(yd))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),Ed=(()=>{class t{constructor(t,e){this.backend=t,this.injector=e,this.chain=null}handle(t){if(null===this.chain){const t=this.injector.get(hd,[]);this.chain=t.reduceRight((t,e)=>new ld(t,e),this.backend)}return this.chain.handle(t)}}return t.\u0275fac=function(e){return new(e||t)($t(Kf),$t(fo))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),Id=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:_d,useClass:fd}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:md,useValue:e.cookieName}:[],e.headerName?{provide:yd,useValue:e.headerName}:[]]}}}return t.\u0275mod=pe({type:t}),t.\u0275inj=ct({factory:function(e){return new(e||t)},providers:[_d,{provide:hd,useExisting:_d,multi:!0},{provide:bd,useClass:wd},{provide:md,useValue:"XSRF-TOKEN"},{provide:yd,useValue:"X-XSRF-TOKEN"}]}),t})(),Td=(()=>{class t{}return t.\u0275mod=pe({type:t}),t.\u0275inj=ct({factory:function(e){return new(e||t)},providers:[cd,{provide:$f,useClass:Ed},vd,{provide:Kf,useExisting:vd},gd,{provide:pd,useExisting:gd}],imports:[[Id.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})();function Sd(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))}class Ad extends h{constructor(t,e){super()}schedule(t,e=0){return this}}class Cd extends Ad{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}class kd extends Cd{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}let xd=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class Od extends xd{constructor(t,e=xd.now){super(t,()=>Od.delegate&&Od.delegate!==this?Od.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return Od.delegate&&Od.delegate!==this?Od.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}class Nd extends Od{}const Rd=new Nd(kd),Pd=new Od(Cd);let Dd=1;const Ld=(()=>Promise.resolve())(),Vd={};function Ud(t){return t in Vd&&(delete Vd[t],!0)}const Md={setImmediate(t){const e=Dd++;return Vd[e]=!0,Ld.then(()=>Ud(e)&&t()),e},clearImmediate(t){Ud(t)}};class jd extends Cd{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=Md.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(Md.clearImmediate(e),t.scheduled=void 0)}}class Fd extends Od{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const qd=new Fd(jd);class Hd extends y{constructor(t,e=0,n=qd){var r;super(),this.source=t,this.delayTime=e,this.scheduler=n,(u(r=e)||!(r-parseFloat(r)+1>=0)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=qd)}static create(t,e=0,n=qd){return new Hd(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(Hd.dispatch,this.delayTime,{source:this.source,subscriber:t})}}class Bd{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new Hd(e,this.delay,this.scheduler).subscribe(t)}}let zd=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return yc(this.value);case"E":return t=this.error,new y(e=>e.error(t));case"C":return Sc()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function Gd(t,e=0){return function(n){return n.lift(new Wd(t,e))}}class Wd{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new $d(t,this.scheduler,this.delay))}}class $d extends p{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule($d.dispatch,this.delay,new Kd(t,this.destination)))}_next(t){this.scheduleMessage(zd.createNext(t))}_error(t){this.scheduleMessage(zd.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(zd.createComplete()),this.unsubscribe()}}class Kd{constructor(t,e){this.notification=t,this.destination=e}}function Xd(){}class Zd{constructor(t,e=Rd){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule((function(e){r.runGuarded(()=>{t.apply(this,[e])})}),e,n)}}class Yd{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Xd,{},Xd,Xd)),e.pipe(il(n,n,n)).subscribe(t).add(n)}unscheduleTask(){null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)}}class Jd{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new Zd(Zone.current)),this.insideAngular=t.run(()=>new Zd(Zone.current,Pd))}}function Qd(t,e){return function(n){return Fu(e)&&(n=n.lift(new Yd(t.ngZone))),n.pipe(function(t,e=0){return function(n){return n.lift(new Bd(t,e))}}(t.outsideAngular),Gd(t.insideAngular))}}var tp,ep=n("Wcq6"),np=n.n(ep);const rp=new Vt("angularfire2.app.options"),ip=new Vt("angularfire2.app.nameOrConfig"),op=new ws("5.4.2");function sp(t,e,n){const r="object"==typeof n&&n||{};return r.name=r.name||"string"==typeof n&&n||"[DEFAULT]",np.a.apps.filter(t=>t&&t.name===r.name)[0]||e.runOutsideAngular(()=>np.a.initializeApp(t,r))}const ap={provide:class{},useFactory:sp,deps:[rp,ka,[new nt,ip]]};let up=(()=>{let t=tp=class{constructor(t){np.a.registerVersion&&(np.a.registerVersion("angularfire",op.full,t.toString()),np.a.registerVersion("angular",_s.full))}static initializeApp(t,e){return{ngModule:tp,providers:[{provide:rp,useValue:t},{provide:ip,useValue:e}]}}};return t.\u0275mod=pe({type:t}),t.\u0275inj=ct({factory:function(e){return new(e||t)($t(da))},providers:[ap]}),t})(),cp=(()=>{let t=class{constructor(t,e,n,r){const i=Qd(new Jd(r),n);this.auth=r.runOutsideAngular(()=>sp(t,r,e).auth()),this.authState=new y(t=>r.runOutsideAngular(()=>this.auth.onAuthStateChanged(t))).pipe(i),this.user=new y(t=>r.runOutsideAngular(()=>this.auth.onIdTokenChanged(t))).pipe(i),this.idToken=this.user.pipe(Hc(t=>t?j(t.getIdToken()):yc(null))),this.idTokenResult=this.user.pipe(Hc(t=>t?j(t.getIdTokenResult()):yc(null)))}};return t.\u0275fac=function(e){return new(e||t)($t(rp),$t(ip,8),$t(da),$t(ka))},t.\u0275prov=ut({token:t,factory:function(e){return t.\u0275fac(e)}}),t})(),lp=(()=>{class t{constructor(t){this.afAuth=t}resetPassword(t){return Sd(this,void 0,void 0,(function*(){try{return this.afAuth.auth.sendPasswordResetEmail(t)}catch(e){console.log(e)}}))}login(t,e){return Sd(this,void 0,void 0,(function*(){try{return yield this.afAuth.auth.signInWithEmailAndPassword(t,e)}catch(n){console.log(n)}}))}registrar(t,e){return Sd(this,void 0,void 0,(function*(){try{return yield this.afAuth.auth.createUserWithEmailAndPassword(t,e)}catch(n){console.log(n)}}))}logout(){return Sd(this,void 0,void 0,(function*(){try{yield this.afAuth.auth.signOut()}catch(t){console.log(t)}}))}}return t.\u0275fac=function(e){return new(e||t)($t(cp))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();function hp(t,e){if(1&t){const t=Uo();Do(0,"a",11),Do(1,"a",14),Fo("click",(function(){return tn(t),function(t=1){return function(t){return(Ze.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Ze.lFrame.contextLView))[8]}(t)}(2).onLogout()})),Qo(2,"Logout"),Lo(),Lo()}}function fp(t,e){if(1&t&&(Do(0,"div",10),Do(1,"a",11),Do(2,"a",12),Qo(3),Lo(),Lo(),xo(4,hp,3,0,"a",13),Lo()),2&t){const t=e.ngIf;Dr(3),ts(null==t?null:t.email),Dr(1),Ro("ngIf",t)}}function dp(t,e){1&t&&(Do(0,"div",10),Do(1,"a",15),Qo(2,"Login"),Lo(),Do(3,"a",16),Qo(4,"Reg\xedstrate"),Lo(),Do(5,"a",17),Qo(6,"Cont\xe1ctanos"),Lo(),Lo())}let pp=(()=>{class t{constructor(t,e){this.authSvc=t,this.router=e,this.user$=this.authSvc.afAuth.user}onLogout(){return Sd(this,void 0,void 0,(function*(){try{yield this.authSvc.logout(),this.router.navigate(["/login"])}catch(t){console.log(t)}}))}}return t.\u0275fac=function(e){return new(e||t)(No(lp),No(Cf))},t.\u0275cmp=le({type:t,selectors:[["app-navbar"]],features:[cs([lp])],decls:17,vars:4,consts:[["lang","en"],["charset","UTF-8"],["name","viewport","content","width=device-width, initial-scale=1.0"],["http-equiv","X-UA-Compatible","content","ie=edge"],["rel","stylesheet","href","https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css","integrity","sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh","crossorigin","anonymous"],[1,"navbar","navbar-dark",2,"background-color","#784212"],["href","#/home",1,"navbar-brand"],["src","assets/img/log.jpg","width","50","height","40","alt","","loading","lazy"],["class","navbar",4,"ngIf","ngIfElse"],["login",""],[1,"navbar"],[1,"nav-item"],[1,"navbar-brand"],["class","nav-item",4,"ngIf"],["href","#",1,"navbar-brand",3,"click"],["href","#/login",1,"navbar-brand"],["href","#/registrar",1,"navbar-brand"],["href","#/contactanos",1,"navbar-brand"]],template:function(t,e){if(1&t&&(Do(0,"html",0),Do(1,"head"),Vo(2,"meta",1),Vo(3,"meta",2),Vo(4,"meta",3),Vo(5,"link",4),Do(6,"title"),Qo(7,"Caffeetalk"),Lo(),Lo(),Do(8,"body"),Do(9,"nav",5),Do(10,"a",6),Vo(11,"img",7),Qo(12," CaffeeTalk "),Lo(),xo(13,fp,5,2,"div",8),function(t,e){const n=Qe();let r;n.firstCreatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}throw new Error("The pipe 'async' could not be found!")}("async",n.pipeRegistry),n.data[34]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(34,r.onDestroy)):r=n.data[34];const i=r.factory||(r.factory=be(r.type)),o=Gt(No);try{const t=Hn(!1),e=i();Hn(t),function(t,e,n,r){34>=t.data.length&&(t.data[34]=null,t.blueprint[34]=null),e[34]=r}(n,Je(),0,e)}finally{Gt(o)}}(),xo(15,dp,7,0,"ng-template",null,9,sa),Lo(),Lo(),Lo()),2&t){const t=Oo(16);Dr(13),Ro("ngIf",ia(14,2,e.user$))("ngIfElse",t)}},directives:[Nu],pipes:[Mu],styles:["body[_ngcontent-%COMP%]{font:oblique 700 120% cursive}"]}),t})(),gp=(()=>{class t{constructor(){this.title="caffeetalk"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=le({type:t,selectors:[["app-root"]],decls:3,vars:0,consts:[[1,"container","m-5"]],template:function(t,e){1&t&&(Vo(0,"app-navbar"),Do(1,"div",0),Vo(2,"router-outlet"),Lo())},directives:[pp,kf],styles:[""]}),t})();function vp(t,e){return new y(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let o=0,s=0;for(let a=0;a<r;a++){const u=j(t[a]);let c=!1;n.add(u.subscribe({next:t=>{c||(c=!0,s++),i[a]=t},error:t=>n.error(t),complete:()=>{o++,o!==r&&c||(s===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}const mp=new Vt("NgValueAccessor"),yp={provide:mp,useExisting:_t(()=>bp),multi:!0};let bp=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(No(ms),No(ds))},t.\u0275dir=ve({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&Fo("change",(function(t){return e.onChange(t.target.checked)}))("blur",(function(){return e.onTouched()}))},features:[cs([yp])]}),t})();const wp={provide:mp,useExisting:_t(()=>Ep),multi:!0},_p=new Vt("CompositionEventMode");let Ep=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=ou()?ou().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(No(ms),No(ds),No(_p,8))},t.\u0275dir=ve({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&Fo("input",(function(t){return e._handleInput(t.target.value)}))("blur",(function(){return e.onTouched()}))("compositionstart",(function(){return e._compositionStart()}))("compositionend",(function(t){return e._compositionEnd(t.target.value)}))},features:[cs([wp])]}),t})(),Ip=(()=>{class t{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=ve({type:t}),t})(),Tp=(()=>{class t extends Ip{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return Sp(e||t)},t.\u0275dir=ve({type:t,features:[mo]}),t})();const Sp=rr(Tp);class Ap extends Ip{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null,this._rawValidators=[],this._rawAsyncValidators=[]}get validator(){}get asyncValidator(){}}class Cp{constructor(t){this._cd=t}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}let kp=(()=>{class t extends Cp{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(No(Ap,2))},t.\u0275dir=ve({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&Ko("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[mo]}),t})(),xp=(()=>{class t extends Cp{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(No(Tp,2))},t.\u0275dir=ve({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&Ko("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[mo]}),t})();function Op(t){return null==t||0===t.length}function Np(t){return null!=t&&"number"==typeof t.length}const Rp=new Vt("NgValidators"),Pp=new Vt("NgAsyncValidators"),Dp=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Lp{static min(t){return e=>{if(Op(e.value)||Op(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(Op(e.value)||Op(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return Op(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return Op(t.value)||Dp.test(t.value)?null:{email:!0}}static minLength(t){return e=>Op(e.value)||!Np(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}static maxLength(t){return e=>Np(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}static pattern(t){if(!t)return Lp.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(Op(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(Vp);return 0==e.length?null:function(t){return Mp(jp(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter(Vp);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if(u(e))return vp(e,null);if(c(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return vp(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return vp(t=1===t.length&&u(t[0])?t[0]:t,null).pipe(L(t=>e(...t)))}return vp(t,null)}(jp(t,e).map(Up)).pipe(L(Mp))}}}function Vp(t){return null!=t}function Up(t){const e=Mo(t)?j(t):t;return jo(e),e}function Mp(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function jp(t,e){return e.map(e=>e(t))}function Fp(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}const qp={provide:mp,useExisting:_t(()=>Hp),multi:!0};let Hp=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(No(ms),No(ds))},t.\u0275dir=ve({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&Fo("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[cs([qp])]}),t})();const Bp={provide:mp,useExisting:_t(()=>Gp),multi:!0};let zp=(()=>{class t{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),Gp=(()=>{class t{constructor(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(Ap),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return t.\u0275fac=function(e){return new(e||t)(No(ms),No(ds),No(zp),No(fo))},t.\u0275dir=ve({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&Fo("change",(function(){return e.onChange()}))("blur",(function(){return e.onTouched()}))},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[cs([Bp])]}),t})();const Wp={provide:mp,useExisting:_t(()=>$p),multi:!0};let $p=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(No(ms),No(ds))},t.\u0275dir=ve({type:t,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&Fo("change",(function(t){return e.onChange(t.target.value)}))("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[cs([Wp])]}),t})();const Kp={provide:mp,useExisting:_t(()=>Xp),multi:!0};let Xp=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=function(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(No(ms),No(ds))},t.\u0275dir=ve({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&Fo("change",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[cs([Kp])]}),t})();const Zp={provide:mp,useExisting:_t(()=>Yp),multi:!0};let Yp=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(void 0!==e.selectedOptions){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(No(ms),No(ds))},t.\u0275dir=ve({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&Fo("change",(function(t){return e.onChange(t.target)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[cs([Zp])]}),t})();function Jp(t,e){return[...e.path,t]}function Qp(t,e){t.validator=Lp.compose([t.validator,e.validator]),t.asyncValidator=Lp.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&tg(t,e)})}(t,e),function(t,e){t.registerOnChange((t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&tg(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange(t=>{e.valueAccessor.setDisabledState(t)}),e._rawValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())}),e._rawAsyncValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())})}function tg(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function eg(t,e){t.validator=Lp.compose([t.validator,e.validator]),t.asyncValidator=Lp.composeAsync([t.asyncValidator,e.asyncValidator])}function ng(t){return null!=t?Lp.compose(Fp(t)):null}function rg(t){return null!=t?Lp.composeAsync(Fp(t)):null}function ig(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}const og=[bp,$p,Hp,Xp,Yp,Gp];function sg(t,e){t._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})}function ag(t,e){if(!e)return null;Array.isArray(e);let n=void 0,r=void 0,i=void 0;return e.forEach(t=>{var e;t.constructor===Ep?n=t:(e=t,og.some(t=>e.constructor===t)?r=t:i=t)}),i||r||n||null}function ug(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function cg(t,e,n,r){fr()&&"never"!==r&&((null!==r&&"once"!==r||e._ngModelWarningSentOnce)&&("always"!==r||n._ngModelWarningSent)||(e._ngModelWarningSentOnce=!0,n._ngModelWarningSent=!0))}const lg="VALID",hg="INVALID",fg="PENDING",dg="DISABLED";function pg(t){return(yg(t)?t.validators:t)||null}function gg(t){return Array.isArray(t)?ng(t):t||null}function vg(t,e){return(yg(e)?e.asyncValidators:t)||null}function mg(t){return Array.isArray(t)?rg(t):t||null}function yg(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class bg{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=gg(this._rawValidators),this._composedAsyncValidatorFn=mg(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===lg}get invalid(){return this.status===hg}get pending(){return this.status==fg}get disabled(){return this.status===dg}get enabled(){return this.status!==dg}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=gg(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=mg(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=fg,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=dg,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=lg,this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==lg&&this.status!==fg||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?dg:lg}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=fg,this._hasOwnPendingAsyncValidator=!0;const e=Up(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof _g?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof Eg&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new oa,this.statusChanges=new oa}_calculateStatus(){return this._allControlsDisabled()?dg:this.errors?hg:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(fg)?fg:this._anyControlsHaveStatus(hg)?hg:lg}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){yg(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}}class wg extends bg{constructor(t=null,e,n){super(pg(e),vg(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_clearChangeFns(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=()=>{}}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class _g extends bg{constructor(t,e,n){super(pg(e),vg(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof wg?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>t(this.controls[e],e))}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class Eg extends bg{constructor(t,e,n){super(pg(e),vg(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof wg?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const Ig={provide:Tp,useExisting:_t(()=>Sg)},Tg=(()=>Promise.resolve(null))();let Sg=(()=>{class t extends Tp{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new oa,this.form=new _g({},ng(t),rg(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Tg.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),Qp(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Tg.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),ug(this._directives,t)})}addFormGroup(t){Tg.then(()=>{const e=this._findContainer(t.path),n=new _g({});eg(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Tg.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){Tg.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,sg(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return t.\u0275fac=function(e){return new(e||t)(No(Rp,10),No(Pp,10))},t.\u0275dir=ve({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&Fo("submit",(function(t){return e.onSubmit(t)}))("reset",(function(){return e.onReset()}))},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[cs([Ig]),mo]}),t})();const Ag={provide:Ap,useExisting:_t(()=>kg)},Cg=(()=>Promise.resolve(null))();let kg=(()=>{class t extends Ap{constructor(t,e,n,r){super(),this.control=new wg,this._registered=!1,this.update=new oa,this._parent=t,this._rawValidators=e||[],this._rawAsyncValidators=n||[],this.valueAccessor=ag(0,r)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),ig(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?Jp(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return ng(this._rawValidators)}get asyncValidator(){return rg(this._rawAsyncValidators)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Qp(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){Cg.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;Cg.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(e){return new(e||t)(No(Tp,9),No(Rp,10),No(Pp,10),No(mp,10))},t.\u0275dir=ve({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[cs([Ag]),mo,Ne]}),t})(),xg=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=ve({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})();const Og=new Vt("NgModelWithFormControlWarning"),Ng={provide:Ap,useExisting:_t(()=>Rg)};let Rg=(()=>{class t extends Ap{constructor(t,e,n,r){super(),this._ngModelWarningConfig=r,this.update=new oa,this._ngModelWarningSent=!1,this._rawValidators=t||[],this._rawAsyncValidators=e||[],this.valueAccessor=ag(0,n)}set isDisabled(t){}ngOnChanges(e){this._isControlChanged(e)&&(Qp(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})),ig(e,this.viewModel)&&(cg(0,t,this,this._ngModelWarningConfig),this.form.setValue(this.model),this.viewModel=this.model)}get path(){return[]}get validator(){return ng(this._rawValidators)}get asyncValidator(){return rg(this._rawAsyncValidators)}get control(){return this.form}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_isControlChanged(t){return t.hasOwnProperty("form")}}return t.\u0275fac=function(e){return new(e||t)(No(Rp,10),No(Pp,10),No(mp,10),No(Og,8))},t.\u0275dir=ve({type:t,selectors:[["","formControl",""]],inputs:{isDisabled:["disabled","isDisabled"],form:["formControl","form"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[cs([Ng]),mo,Ne]}),t._ngModelWarningSentOnce=!1,t})();const Pg={provide:Tp,useExisting:_t(()=>Dg)};let Dg=(()=>{class t extends Tp{constructor(t,e){super(),this._validators=t,this._asyncValidators=e,this.submitted=!1,this.directives=[],this.form=null,this.ngSubmit=new oa}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return Qp(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){ug(this.directives,t)}addFormGroup(t){const e=this.form.get(t.path);eg(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormGroup(t){}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){const e=this.form.get(t.path);eg(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormArray(t){}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,sg(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=this.form.get(t.path);t.control!==e&&(function(t,e){const n=()=>{};e.valueAccessor.registerOnChange(n),e.valueAccessor.registerOnTouched(n),e._rawValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),e._rawAsyncValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),t&&t._clearChangeFns()}(t.control,t),e&&Qp(e,t),t.control=e)}),this.form._updateTreeValidity({emitEvent:!1})}_updateRegistrations(){this.form._registerOnCollectionChange(()=>this._updateDomValue()),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{}),this._oldForm=this.form}_updateValidators(){const t=ng(this._validators);this.form.validator=Lp.compose([this.form.validator,t]);const e=rg(this._asyncValidators);this.form.asyncValidator=Lp.composeAsync([this.form.asyncValidator,e])}_checkFormPresent(){}}return t.\u0275fac=function(e){return new(e||t)(No(Rp,10),No(Pp,10))},t.\u0275dir=ve({type:t,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&Fo("submit",(function(t){return e.onSubmit(t)}))("reset",(function(){return e.onReset()}))},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[cs([Pg]),mo,Ne]}),t})();const Lg={provide:Ap,useExisting:_t(()=>Vg)};let Vg=(()=>{class t extends Ap{constructor(t,e,n,r,i){super(),this._ngModelWarningConfig=i,this._added=!1,this.update=new oa,this._ngModelWarningSent=!1,this._parent=t,this._rawValidators=e||[],this._rawAsyncValidators=n||[],this.valueAccessor=ag(0,r)}set isDisabled(t){}ngOnChanges(e){this._added||this._setUpControl(),ig(e,this.viewModel)&&(cg(0,t,this,this._ngModelWarningConfig),this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return Jp(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return ng(this._rawValidators)}get asyncValidator(){return rg(this._rawAsyncValidators)}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t.\u0275fac=function(e){return new(e||t)(No(Tp,13),No(Rp,10),No(Pp,10),No(mp,10),No(Og,8))},t.\u0275dir=ve({type:t,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[cs([Lg]),mo,Ne]}),t._ngModelWarningSentOnce=!1,t})(),Ug=(()=>{class t{}return t.\u0275mod=pe({type:t}),t.\u0275inj=ct({factory:function(e){return new(e||t)}}),t})(),Mg=(()=>{class t{group(t,e=null){const n=this._reduceControls(t);let r=null,i=null,o=void 0;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(r=null!=e.validators?e.validators:null,i=null!=e.asyncValidators?e.asyncValidators:null,o=null!=e.updateOn?e.updateOn:void 0):(r=null!=e.validator?e.validator:null,i=null!=e.asyncValidator?e.asyncValidator:null)),new _g(n,{asyncValidators:i,updateOn:o,validators:r})}control(t,e,n){return new wg(t,e,n)}array(t,e,n){const r=t.map(t=>this._createControl(t));return new Eg(r,e,n)}_reduceControls(t){const e={};return Object.keys(t).forEach(n=>{e[n]=this._createControl(t[n])}),e}_createControl(t){return t instanceof wg||t instanceof _g||t instanceof Eg?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),jg=(()=>{class t{}return t.\u0275mod=pe({type:t}),t.\u0275inj=ct({factory:function(e){return new(e||t)},providers:[zp],imports:[Ug]}),t})(),Fg=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:Og,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275mod=pe({type:t}),t.\u0275inj=ct({factory:function(e){return new(e||t)},providers:[Mg,zp],imports:[Ug]}),t})(),qg=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=le({type:t,selectors:[["app-home"]],decls:0,vars:0,template:function(t,e){},styles:[""]}),t})(),Hg=(()=>{class t{constructor(t,e){this.authSvc=t,this.router=e,this.loginForm=new _g({email:new wg(""),password:new wg("")})}ngOnInit(){}onLogin(){return Sd(this,void 0,void 0,(function*(){const{email:t,password:e}=this.loginForm.value;try{(yield this.authSvc.login(t,e))&&this.router.navigate(["/index"])}catch(n){console.log(n)}}))}}return t.\u0275fac=function(e){return new(e||t)(No(lp),No(Cf))},t.\u0275cmp=le({type:t,selectors:[["app-login"]],features:[cs([lp])],decls:23,vars:1,consts:[[1,"row","justify-content-center"],[1,"card","text-center",2,"width","35rem"],[1,"card-body",2,"background-color","#784212"],["src","/assets/img/loginus.png","width","200","height","200","alt","..."],[1,"card-title",2,"color","#FFFFFF"],[1,"jumbotron"],[1,"container"],[3,"formGroup","ngSubmit"],[1,"form-group"],["src","assets/img/email.png","width","25","height","25","alt","",2,"margin-right","1mm"],["for","exampleInputEmail1"],["type","email","id","exampleInputEmail1","aria-describedby","emailHelp","placeholder","Email","formControlName","email",1,"form-control"],["src","assets/img/password.png","width","25","height","25","alt",""],["for","exampleInputPassword1"],["type","password","id","exampleInputPassword1","placeholder","Password","formControlName","password",1,"form-control"],["type","submit",1,"btn","btn-light"],["href","#/forgot-password",1,"btn","btn-link","text-white"]],template:function(t,e){1&t&&(Do(0,"div",0),Do(1,"div",1),Do(2,"div",2),Vo(3,"img",3),Do(4,"h1",4),Qo(5,"Login"),Lo(),Do(6,"div",5),Do(7,"div",6),Do(8,"form",7),Fo("ngSubmit",(function(){return e.onLogin()})),Do(9,"div",8),Vo(10,"img",9),Do(11,"label",10),Qo(12,"Email"),Lo(),Vo(13,"input",11),Lo(),Do(14,"div",8),Vo(15,"img",12),Do(16,"label",13),Qo(17,"Password"),Lo(),Vo(18,"input",14),Lo(),Do(19,"button",15),Qo(20,"Iniciar sesi\xf3n"),Lo(),Lo(),Lo(),Lo(),Do(21,"a",16),Qo(22,"Forgot Password?"),Lo(),Lo(),Lo(),Lo()),2&t&&(Dr(8),Ro("formGroup",e.loginForm))},directives:[xg,xp,Dg,Ep,kp,Vg],styles:[""]}),t})(),Bg=(()=>{class t{constructor(t,e){this.authSvc=t,this.router=e,this.registrarForm=new _g({nombre:new wg(""),celular:new wg(""),direccion:new wg(""),email:new wg(""),password:new wg("")})}ngOnInit(){}onRegistrar(){return Sd(this,void 0,void 0,(function*(){const{email:t,password:e}=this.registrarForm.value;try{(yield this.authSvc.registrar(t,e))&&this.router.navigate(["/index"])}catch(n){console.log(n)}}))}}return t.\u0275fac=function(e){return new(e||t)(No(lp),No(Cf))},t.\u0275cmp=le({type:t,selectors:[["app-registrar"]],features:[cs([lp])],decls:36,vars:1,consts:[[1,"row","justify-content-center"],[1,"card","text-center",2,"width","35rem"],[1,"card-body",2,"background-color","#784212"],["src","/assets/img/loginus.png","width","200","height","200","alt","..."],[1,"card-title",2,"color","#FFFFFF"],[1,"jumbotron"],[1,"container"],[3,"formGroup","ngSubmit"],[1,"form-group"],["src","assets/img/lo.png","width","25","height","25","alt","",2,"margin-right","2mm"],["for","exampleInputNombre1"],["type","nombre","id","exampleInputNombre1","aria-describedby","nombreHelp","placeholder","Nombre","formControlName","nombre",1,"form-control"],["src","assets/img/cel.png","width","25","height","25","alt","",2,"margin-right","2mm"],["for","exampleInputCelular1"],["type","celular","id","exampleInputCelular1","aria-describedby","celularHelp","placeholder","Celular","formControlName","celular",1,"form-control"],["src","assets/img/direccion.png","width","25","height","25","alt","",2,"margin-right","1mm"],["for","exampleInputDireccion1"],["type","direccion","id","exampleInputDireccion1","aria-describedby","direccionHelp","placeholder","Direcci\xf3n","formControlName","direccion",1,"form-control"],["src","assets/img/email.png","width","25","height","25","alt","",2,"margin-right","2mm"],["for","exampleInputEmail1"],["type","email","id","exampleInputEmail1","aria-describedby","emailHelp","placeholder","Email","formControlName","email",1,"form-control"],["src","assets/img/password.png","width","25","height","25","alt","",2,"margin-right","1mm"],["for","exampleInputPassword1"],["type","password","id","exampleInputPassword1","placeholder","Password","formControlName","password",1,"form-control"],["type","submit",1,"btn","btn-light"]],template:function(t,e){1&t&&(Do(0,"div",0),Do(1,"div",1),Do(2,"div",2),Vo(3,"img",3),Do(4,"h1",4),Qo(5,"Registrar"),Lo(),Do(6,"div",5),Do(7,"div",6),Do(8,"form",7),Fo("ngSubmit",(function(){return e.onRegistrar()})),Do(9,"div",8),Vo(10,"img",9),Do(11,"label",10),Qo(12,"Nombre"),Lo(),Vo(13,"input",11),Lo(),Do(14,"div",8),Vo(15,"img",12),Do(16,"label",13),Qo(17,"Celular"),Lo(),Vo(18,"input",14),Lo(),Do(19,"div",8),Vo(20,"img",15),Do(21,"label",16),Qo(22,"Direcci\xf3n"),Lo(),Vo(23,"input",17),Lo(),Do(24,"div",8),Vo(25,"img",18),Do(26,"label",19),Qo(27,"Email"),Lo(),Vo(28,"input",20),Lo(),Do(29,"div",8),Vo(30,"img",21),Do(31,"label",22),Qo(32,"Password"),Lo(),Vo(33,"input",23),Lo(),Do(34,"button",24),Qo(35,"Registrarse"),Lo(),Lo(),Lo(),Lo(),Lo(),Lo(),Lo()),2&t&&(Dr(8),Ro("formGroup",e.registrarForm))},directives:[xg,xp,Dg,Ep,kp,Vg],styles:[""]}),t})(),zg=(()=>{class t{constructor(t,e){this.authSvc=t,this.router=e,this.userEmail=new wg("")}ngOnInit(){}onReset(){return Sd(this,void 0,void 0,(function*(){try{const t=this.userEmail.value;yield this.authSvc.resetPassword(t),window.alert("\xa1Correo electr\xf3nico enviado, revise su bandeja de entrada!"),this.router.navigate(["/login"])}catch(t){console.log(t)}}))}}return t.\u0275fac=function(e){return new(e||t)(No(lp),No(Cf))},t.\u0275cmp=le({type:t,selectors:[["app-forgot-password"]],features:[cs([lp])],decls:16,vars:1,consts:[[1,"row","justify-content-center"],[1,"card","text-center",2,"width","35rem"],[1,"card-body",2,"background-color","#784212"],["src","/assets/img/loginus.png","width","200","height","200","alt","..."],[1,"card-title",2,"color","#FFFFFF"],[1,"jumbotron"],[1,"container"],[1,"form-group"],["src","assets/img/email.png","width","25","height","25","alt","",2,"margin-right","1mm"],["for","exampleInputEmail1"],["type","email","id","exampleInputEmail1","aria-describedby","emailHelp","placeholder","Email",1,"form-control",3,"formControl"],["type","submit",1,"btn","btn-light",3,"click"]],template:function(t,e){1&t&&(Do(0,"div",0),Do(1,"div",1),Do(2,"div",2),Vo(3,"img",3),Do(4,"h1",4),Qo(5,"Inserte Email"),Lo(),Do(6,"div",5),Do(7,"div",6),Do(8,"div",7),Vo(9,"img",8),Do(10,"label",9),Qo(11,"Email"),Lo(),Vo(12,"input",10),Lo(),Vo(13,"div",7),Do(14,"button",11),Fo("click",(function(){return e.onReset()})),Qo(15," Restablecer contrase\xf1a "),Lo(),Lo(),Lo(),Lo(),Lo(),Lo()),2&t&&(Dr(12),Ro("formControl",e.userEmail))},directives:[Ep,kp,Rg],styles:[""]}),t})();function Gg(t,e){return function(t,e=Pd){return new y(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot(n)}):r=t.onSnapshot(n),function(){null!=r&&r()}})}(t,e)}function Wg(t,e){return Gg(t,e).pipe(L(t=>({payload:t,type:"query"})))}function $g(t,e){return Wg(t,e).pipe(L(t=>t.payload.docChanges().map(t=>({type:t.type,payload:t}))))}function Kg(t,e,n){return Wg(t,n).pipe(L(t=>t.payload.docChanges()),Xc((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":t[e.newIndex]&&t[e.newIndex].doc.ref.isEqual(e.doc.ref)||t.splice(e.newIndex,0,e);break;case"modified":(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref))&&(e.oldIndex!==e.newIndex?(t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e)):t.splice(e.newIndex,1,e));break;case"removed":t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref)&&t.splice(e.oldIndex,1)}return t}(t,e))}),t}(t,n,e),[]),L(t=>t.map(t=>({type:t.type,payload:t}))))}function Xg(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}class Zg{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){return t&&0!==t.length?$g(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst,L(e=>e.filter(e=>t.indexOf(e.type)>-1)),kc(t=>t.length>0)):$g(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Xc((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Xg(t);return Kg(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return Wg(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst,L(e=>e.payload.docs.map(e=>t.idField?Object.assign({},e.data(),{[t.idField]:e.id}):e.data())))}get(t){return j(this.query.get(t)).pipe(Gd(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new Yg(this.ref.doc(t),this.afs)}}class Yg{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=sv(n,e);return new Zg(r,i,this.afs)}snapshotChanges(){return Gg(this.ref,this.afs.schedulers.outsideAngular).pipe(L(t=>({payload:t,type:"value"}))).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(){return this.snapshotChanges().pipe(L(t=>t.payload.data()))}get(t){return j(this.ref.get(t)).pipe(Gd(this.afs.schedulers.insideAngular))}}class Jg{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?$g(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst,L(e=>e.filter(e=>t.indexOf(e.type)>-1)),kc(t=>t.length>0)):$g(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Xc((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Xg(t);return Kg(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(){return Wg(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst,L(t=>t.payload.docs.map(t=>t.data())))}get(t){return j(this.query.get(t)).pipe(Gd(this.afs.schedulers.insideAngular))}}const Qg=new Vt("angularfire2.enableFirestorePersistence"),tv=new Vt("angularfire2.firestore.persistenceSettings"),ev=Qg,nv=tv,rv=new Vt("angularfire2.firestore.settings"),iv=parseInt(np.a.SDK_VERSION.split(".")[0]),ov=iv<5||5==iv&&parseInt(np.a.SDK_VERSION.split(".")[1])<8?{timestampsInSnapshots:!0}:{};function sv(t,e=(t=>t)){return{query:e(t),ref:t}}let av=(()=>{let t=class{constructor(t,e,n,r,i,o,s){this.schedulers=new Jd(o),this.keepUnstableUntilFirst=Qd(this.schedulers,i),this.firestore=o.runOutsideAngular(()=>{const n=sp(t,o,e).firestore();return n.settings(r||ov),n}),this.persistenceEnabled$=n&&!Fu(i)?o.runOutsideAngular(()=>{try{return j(this.firestore.enablePersistence(s||void 0).then(()=>!0,()=>!1))}catch(t){return yc(!1)}}):yc(!1)}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=sv(n,e);return new Zg(r,i,this)}collectionGroup(t,e){if(iv<6)throw"collection group queries require Firebase JS SDK >= 6.0";const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new Jg(n(r),this)}doc(t){let e;return e="string"==typeof t?this.firestore.doc(t):t,new Yg(e,this)}createId(){return this.firestore.collection("_").doc().id}};return t.\u0275fac=function(e){return new(e||t)($t(rp),$t(ip,8),$t(ev,8),$t(rv,8),$t(da),$t(ka),$t(nv,8))},t.\u0275prov=ut({token:t,factory:function(e){return t.\u0275fac(e)}}),t})(),uv=(()=>{class t{constructor(t){this.afs=t,this.selectedProducto={},this.productosCollection=t.collection("productos"),this.productos=this.productosCollection.valueChanges()}getAllProdutos(){return this.productos=this.productosCollection.snapshotChanges().pipe(L(t=>t.map(t=>{const e=t.payload.doc.data();return e.id=t.payload.doc.id,e})))}addProducto(t){this.productosCollection.add(t)}updateProducto(t){this.productoDoc=this.afs.doc("productos/"+t.id),this.productoDoc.update(t)}deleteProducto(t){this.productoDoc=this.afs.doc("productos/"+t),this.productoDoc.delete()}}return t.\u0275fac=function(e){return new(e||t)($t(av))},t.\u0275prov=ut({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function cv(t,e){if(1&t&&(Do(0,"div",4),Do(1,"div",5),Do(2,"div",6),Do(3,"div",7),Do(4,"p"),Vo(5,"img",8),Lo(),Do(6,"h4",9),Qo(7),Lo(),Do(8,"p",10),Do(9,"strong"),Qo(10,"Descripci\xf3n: "),Lo(),Qo(11),Lo(),Do(12,"div",11),Do(13,"strong"),Qo(14,"Precio: "),Lo(),Do(15,"p",12),Qo(16),Lo(),Lo(),Do(17,"a",13),Qo(18,"Agregar"),Lo(),Lo(),Lo(),Lo(),Vo(19,"br"),Lo()),2&t){const t=e.$implicit;Dr(5),Bo("src",t.image,vr),Bo("alt",t.name),Dr(2),es(" ",t.name,""),Dr(4),es(" ",t.descripcion," "),Dr(5),es(" $",t.price," ")}}let lv=(()=>{class t{constructor(t){this.data=t,this.productos=[],this.producto=""}ngOnInit(){this.data.getAllProdutos().subscribe(t=>{console.log("PRODUCTOS",t),this.productos=t})}}return t.\u0275fac=function(e){return new(e||t)(No(uv))},t.\u0275cmp=le({type:t,selectors:[["app-index"]],decls:4,vars:1,consts:[["id","productos",1,"mt-5"],[1,"container"],[1,"row"],["class","col-xs-12 col-sm-6 col-md-4",4,"ngFor","ngForOf"],[1,"col-xs-12","col-sm-6","col-md-4"],[1,"card_producto"],[1,"card"],[1,"card-body","text-justify"],[1,"img-fluid",3,"src","alt"],[1,"card-title","text-center"],[1,"card-text"],[1,"container-precio"],[1,"badge","badge-warning"],["href","#","target","_blank",1,"btn","btn-block"]],template:function(t,e){1&t&&(Do(0,"section",0),Do(1,"div",1),Do(2,"div",2),xo(3,cv,20,5,"div",3),Lo(),Lo(),Lo()),2&t&&(Dr(3),Ro("ngForOf",e.productos))},directives:[xu],styles:[".btn[_ngcontent-%COMP%]{color:#fff;background-color:#954d0d}"]}),t})();function hv(t,e){if(1&t&&(Do(0,"tr"),Do(1,"th",6),Qo(2),Lo(),Do(3,"td"),Qo(4),Lo(),Do(5,"td"),Qo(6),Lo(),Do(7,"td"),Qo(8),Lo(),Do(9,"td"),Do(10,"button",7),Qo(11,"Actualizar"),Lo(),Lo(),Do(12,"td"),Do(13,"button",8),Qo(14,"Eliminar"),Lo(),Lo(),Lo()),2&t){const t=e.$implicit,n=e.index;Dr(2),ts(n+1),Dr(2),ts(t.name),Dr(2),ts(t.descripcion),Dr(2),ts(t.price)}}let fv=(()=>{class t{constructor(t){this.data=t,this.productos=[],this.producto=""}ngOnInit(){this.getListProductos()}getListProductos(){this.data.getAllProdutos().subscribe(t=>{this.productos=t})}onDeleteProducto(){console.log("DELETE PRODUCTO")}}return t.\u0275fac=function(e){return new(e||t)(No(uv))},t.\u0275cmp=le({type:t,selectors:[["app-admin"]],decls:17,vars:1,consts:[[1,"row","mt-5"],[1,"col"],["href","#/modal","role","button",1,"btn","btn-warning","float-right","mb-3"],["bgcolor","#FFFFFF",1,"table","table-hover"],["scope","col"],[4,"ngFor","ngForOf"],["scope","row"],[1,"btn","btn-warning"],[1,"btn","btn-danger"]],template:function(t,e){1&t&&(Do(0,"section",0),Do(1,"div",1),Do(2,"a",2),Qo(3,"Nuevo Producto"),Lo(),Do(4,"table",3),Do(5,"thead"),Do(6,"tr"),Do(7,"th",4),Qo(8,"#"),Lo(),Do(9,"th",4),Qo(10,"Nombre"),Lo(),Do(11,"th",4),Qo(12,"Descripci\xf3n"),Lo(),Do(13,"th",4),Qo(14,"Precio"),Lo(),Lo(),Lo(),Do(15,"tbody"),xo(16,hv,15,4,"tr",5),Lo(),Lo(),Lo(),Lo()),2&t&&(Dr(16),Ro("ngForOf",e.productos))},directives:[xu],styles:[""]}),t})(),dv=(()=>{class t{constructor(t){this.data=t}ngOnInit(){}onSaveProducto(t){this.data.addProducto(t.value)}}return t.\u0275fac=function(e){return new(e||t)(No(uv))},t.\u0275cmp=le({type:t,selectors:[["app-modal"]],decls:29,vars:4,consts:[[1,"row","justify-content-center"],[1,"card","text-justify",2,"width","35rem"],[1,"jumbotron"],[1,"container"],[1,"text-center"],["name","formProducto",3,"ngSubmit"],["formProducto","ngForm"],["type","text","name","productoId"],[1,"form-group"],["for","name"],["type","text","name","name","placeholder","Americano",1,"form-control",3,"ngModel","ngModelChange"],["for","price"],["type","text","name","price","placeholder","$10000",1,"form-control",3,"ngModel","ngModelChange"],["for","descripcion",1,"col-form-label"],["name","descripcion",1,"form-control",3,"ngModel","ngModelChange"],["for","image"],["type","text","name","image","placeholder","Imagen",1,"form-control",3,"ngModel","ngModelChange"],["type","submit",1,"btn","btn-warning"]],template:function(t,e){if(1&t){const t=Uo();Do(0,"div",0),Do(1,"div",1),Do(2,"div",2),Do(3,"div",3),Do(4,"div",4),Do(5,"h1"),Qo(6,"Nuevo Producto"),Lo(),Lo(),Do(7,"form",5,6),Fo("ngSubmit",(function(){tn(t);const n=Oo(8);return e.onSaveProducto(n)})),Vo(9,"input",7),Do(10,"div",8),Do(11,"label",9),Qo(12,"Nombre:"),Lo(),Do(13,"input",10),Fo("ngModelChange",(function(t){return e.data.selectedProducto.name=t})),Lo(),Lo(),Do(14,"div",8),Do(15,"label",11),Qo(16,"Precio:"),Lo(),Do(17,"input",12),Fo("ngModelChange",(function(t){return e.data.selectedProducto.price=t})),Lo(),Lo(),Do(18,"div",8),Do(19,"label",13),Qo(20,"Descripci\xf3n:"),Lo(),Do(21,"textarea",14),Fo("ngModelChange",(function(t){return e.data.selectedProducto.descripcion=t})),Lo(),Lo(),Do(22,"div",8),Do(23,"label",15),Qo(24,"Imagen:"),Lo(),Do(25,"input",16),Fo("ngModelChange",(function(t){return e.data.selectedProducto.image=t})),Lo(),Lo(),Do(26,"div",4),Do(27,"button",17),Qo(28,"Guardar Producto"),Lo(),Lo(),Lo(),Lo(),Lo(),Lo(),Lo()}2&t&&(Dr(13),Ro("ngModel",e.data.selectedProducto.name),Dr(4),Ro("ngModel",e.data.selectedProducto.price),Dr(4),Ro("ngModel",e.data.selectedProducto.descripcion),Dr(4),Ro("ngModel",e.data.selectedProducto.image))},directives:[xg,xp,Sg,Ep,kp,kg],styles:[""]}),t})();const pv=[{path:"home",component:qg},{path:"",component:qg},{path:"login",component:Hg},{path:"",component:Hg},{path:"registrar",component:Bg},{path:"",component:Bg},{path:"forgot-password",component:zg},{path:"",component:zg},{path:"index",component:lv},{path:"",component:lv},{path:"admin",component:fv},{path:"",component:fv},{path:"modal",component:dv},{path:"",component:dv}];var gv;n("6Joi");let vv=(()=>{let t=gv=class{static enablePersistence(t){return{ngModule:gv,providers:[{provide:Qg,useValue:!0},{provide:tv,useValue:t}]}}};return t.\u0275mod=pe({type:t}),t.\u0275inj=ct({factory:function(e){return new(e||t)},providers:[av]}),t})();function mv(t){const e=function(t){return new y(e=>(t.on("state_changed",t=>e.next(t),t=>e.error(t),()=>e.complete()),()=>t.cancel()))}(t);return{task:t,then:t.then.bind(t),catch:t.catch.bind(t),pause:t.pause.bind(t),cancel:t.cancel.bind(t),resume:t.resume.bind(t),snapshotChanges:()=>e,percentageChanges:()=>e.pipe(L(t=>t.bytesTransferred/t.totalBytes*100))}}function yv(t,e,n){return{getDownloadURL:()=>j(t.getDownloadURL(),e.outsideAngular).pipe(n),getMetadata:()=>j(t.getMetadata()).pipe(n),delete:()=>j(t.delete()),child:r=>yv(t.child(r),e,n),updateMetatdata:e=>j(t.updateMetadata(e)),updateMetadata:e=>j(t.updateMetadata(e)),put:(e,n)=>mv(t.put(e,n)),putString:(e,n,r)=>mv(t.putString(e,n,r))}}const bv=new Vt("angularfire2.storageBucket"),wv=bv;let _v=(()=>{let t=class{constructor(t,e,n,r,i){this.schedulers=new Jd(i),this.keepUnstableUntilFirst=Qd(this.schedulers,r),this.storage=i.runOutsideAngular(()=>sp(t,i,e).storage(n||void 0))}ref(t){return yv(this.storage.ref(t),this.schedulers,this.keepUnstableUntilFirst)}upload(t,e,n){return yv(this.storage.ref(t),this.schedulers,this.keepUnstableUntilFirst).put(e,n)}};return t.\u0275fac=function(e){return new(e||t)($t(rp),$t(ip,8),$t(wv,8),$t(da),$t(ka))},t.\u0275prov=ut({token:t,factory:function(e){return t.\u0275fac(e)}}),t})();var Ev=n("wj3C"),Iv=n.n(Ev),Tv=n("uXP2"),Sv=n("S+S0"),Av="firebasestorage.googleapis.com",Cv=function(){function t(t,e){this.code_=xv(t),this.message_="Firebase Storage: "+e,this.serverResponse_=null,this.name_="FirebaseError"}return t.prototype.codeProp=function(){return this.code},t.prototype.codeEquals=function(t){return xv(t)===this.codeProp()},t.prototype.serverResponseProp=function(){return this.serverResponse_},t.prototype.setServerResponseProp=function(t){this.serverResponse_=t},Object.defineProperty(t.prototype,"name",{get:function(){return this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"code",{get:function(){return this.code_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"message",{get:function(){return this.serverResponse_?this.message_+"\n"+this.serverResponse_:this.message_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.serverResponse_},enumerable:!1,configurable:!0}),t}(),kv="canceled";function xv(t){return"storage/"+t}function Ov(){return new Cv("unknown","An unknown error occurred, please check the error payload for server response.")}function Nv(){return new Cv(kv,"User canceled the upload/download.")}function Rv(){return new Cv("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Pv(){return new Cv("no-download-url","The given file does not have any download URLs.")}function Dv(t,e,n){return new Cv("invalid-argument","Invalid argument in `"+e+"` at index "+t+": "+n)}function Lv(){return new Cv("app-deleted","The Firebase app was deleted.")}function Vv(t,e){return new Cv("invalid-format","String does not match format '"+t+"': "+e)}function Uv(t){throw new Cv("internal-error","Internal error: "+t)}var Mv={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};function jv(t){switch(t){case Mv.RAW:case Mv.BASE64:case Mv.BASE64URL:case Mv.DATA_URL:return;default:throw"Expected one of the event types: ["+Mv.RAW+", "+Mv.BASE64+", "+Mv.BASE64URL+", "+Mv.DATA_URL+"]."}}var Fv=function(){return function(t,e){this.data=t,this.contentType=e||null}}();function qv(t,e){switch(t){case Mv.RAW:return new Fv(Hv(e));case Mv.BASE64:case Mv.BASE64URL:return new Fv(Bv(t,e));case Mv.DATA_URL:return new Fv((n=new zv(e)).base64?Bv(Mv.BASE64,n.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(n){throw Vv(Mv.DATA_URL,"Malformed data URL.")}return Hv(e)}(n.rest),new zv(e).contentType)}var n;throw Ov()}function Hv(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|63&r);else if(55296==(64512&r))if(n<t.length-1&&56320==(64512&t.charCodeAt(n+1))){var i=r,o=t.charCodeAt(++n);e.push(240|(r=65536|(1023&i)<<10|1023&o)>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else e.push(239,191,189);else 56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function Bv(t,e){switch(t){case Mv.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r)throw Vv(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case Mv.BASE64URL:var i=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(i||o)throw Vv(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var s;try{s=atob(e)}catch(c){throw Vv(t,"Invalid character found")}for(var a=new Uint8Array(s.length),u=0;u<s.length;u++)a[u]=s.charCodeAt(u);return a}var zv=function(){return function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw Vv(Mv.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n,r,i=e[1]||null;null!=i&&(this.base64=(n=i).length>=(r=";base64").length&&n.substring(n.length-r.length)===r,this.contentType=this.base64?i.substring(0,i.length-";base64".length):i),this.rest=t.substring(t.indexOf(",")+1)}}(),Gv={STATE_CHANGED:"state_changed"},Wv="running",$v="pausing",Kv="paused",Xv="success",Zv="canceling",Yv="canceled",Jv="error",Qv={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function tm(t){switch(t){case Wv:case $v:case Zv:return Qv.RUNNING;case Kv:return Qv.PAUSED;case Xv:return Qv.SUCCESS;case Yv:return Qv.CANCELED;case Jv:default:return Qv.ERROR}}function em(t){return null!=t}function nm(t){return void 0!==t}function rm(t){return"function"==typeof t}function im(t){return"object"==typeof t}function om(t){return im(t)&&null!==t}function sm(t){return"string"==typeof t||t instanceof String}function am(t){return um(t)&&Number.isInteger(t)}function um(t){return"number"==typeof t||t instanceof Number}function cm(t){return lm()&&t instanceof Blob}function lm(){return"undefined"!=typeof Blob}var hm=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}({}),fm=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=hm.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=hm.ABORT,e(t)})),t.xhr_.addEventListener("error",(function(){t.errorCode_=hm.NETWORK_ERROR,e(t)})),t.xhr_.addEventListener("load",(function(){e(t)}))}))}return t.prototype.send=function(t,e,n,r){if(this.sent_)throw Uv("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),em(r))for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return em(n)?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw Uv("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw Uv("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw Uv("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){em(this.xhr_.upload)&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){em(this.xhr_.upload)&&this.xhr_.upload.removeEventListener("progress",t)},t}(),dm=function(){function t(){}return t.prototype.createXhrIo=function(){return new fm},t}();function pm(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function gm(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=pm();if(void 0!==n){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}if(lm())return new Blob(t);throw Error("This browser doesn't seem to support creating Blobs")}var vm=function(){function t(t,e){var n=0,r="";cm(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(cm(this.data_)){var r=(o=e,s=n,(i=this.data_).webkitSlice?i.webkitSlice(o,s):i.mozSlice?i.mozSlice(o,s):i.slice?i.slice(o,s):null);return null===r?null:new t(r)}var i,o,s;return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(lm()){var r=e.map((function(e){return e instanceof t?e.data_:e}));return new t(gm.apply(null,r))}var i=e.map((function(t){return sm(t)?qv(Mv.RAW,t).data:t.data_})),o=0;i.forEach((function(t){o+=t.byteLength}));var s=new Uint8Array(o),a=0;return i.forEach((function(t){for(var e=0;e<t.length;e++)s[a++]=t[e]})),new t(s,!0)},t.prototype.uploadData=function(){return this.data_},t}(),mm=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e){var n;try{n=t.makeFromUrl(e)}catch(r){return new t(e,"")}if(""===n.path)return n;throw new Cv("invalid-default-bucket","Invalid default bucket '"+e+"'.")},t.makeFromUrl=function(e){var n=null,r="([A-Za-z0-9.\\-_]+)",i=new RegExp("^gs://"+r+"(/(.*))?$","i");function o(t){t.path_=decodeURIComponent(t.path)}for(var s=Av.replace(/[.]/g,"\\."),a=[{regex:i,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+s+"/v[A-Za-z0-9_]+/b/"+r+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://(?:storage.googleapis.com|storage.cloud.google.com)/"+r+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:o}],u=0;u<a.length;u++){var c=a[u],l=c.regex.exec(e);if(l){var h=l[c.indices.path];h||(h=""),n=new t(l[c.indices.bucket],h),c.postModify(n);break}}if(null==n)throw function(t){return new Cv("invalid-url","Invalid URL '"+t+"'.")}(e);return n},t}();function ym(t){var e,n;try{e=JSON.parse(t)}catch(r){return null}return im(n=e)&&!Array.isArray(n)?e:null}function bm(t,e){var n=e.split("/").filter((function(t){return t.length>0})).join("/");return 0===t.length?n:t+"/"+n}function wm(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function _m(t){return"https://"+Av+"/v0"+t}function Em(t){var e=encodeURIComponent,n="?";for(var r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n.slice(0,-1)}function Im(t,e){return e}var Tm=function(){return function(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||Im}}(),Sm=null;function Am(t,e,n){var r=ym(e);return null===r?null:function(t,e,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var s=n[o];r[s.local]=s.xform(r,e[s.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var n=new mm(t.bucket,t.fullPath);return e.makeStorageReference(n)}})}(r,t),r}(t,r,n)}function Cm(t,e){for(var n={},r=e.length,i=0;i<r;i++){var o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}function km(t){if(!im(t)||!t)throw"Expected Metadata object.";for(var e in t)if(t.hasOwnProperty(e)){var n=t[e];if("customMetadata"===e){if(!im(n))throw"Expected object for 'customMetadata' mapping."}else if(om(n))throw"Mapping for '"+e+"' cannot be an object."}}function xm(t){if(!im(t)||!t)throw"Expected ListOptions object.";for(var e in t)if("maxResults"===e){if(!am(t.maxResults)||t.maxResults<=0)throw"Expected maxResults to be a positive number.";if(t.maxResults>1e3)throw"Expected maxResults to be less than or equal to 1000."}else{if("pageToken"!==e)throw"Unknown option: "+e;if(t.pageToken&&!sm(t.pageToken))throw"Expected pageToken to be string."}}var Om=function(){return function(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}();function Nm(t){if(!t)throw Ov()}function Rm(t,e){return function(n,r){var i=Am(t,r,e);return Nm(null!==i),i}}function Pm(t){return function(e,n){var r;return(r=401===e.getStatus()?new Cv("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?new Cv("quota-exceeded","Quota for bucket '"+t.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===e.getStatus()?new Cv("unauthorized","User does not have permission to access '"+t.path+"'."):n).setServerResponseProp(n.serverResponseProp()),r}}function Dm(t){var e=Pm(t);return function(n,r){var i=e(n,r);return 404===n.getStatus()&&(i=new Cv("object-not-found","Object '"+t.path+"' does not exist.")),i.setServerResponseProp(r.serverResponseProp()),i}}function Lm(t,e,n){var r=_m(e.fullServerUrl()),i=t.maxOperationRetryTime,o=new Om(r,"GET",Rm(t,n),i);return o.errorHandler=Dm(e),o}function Vm(t,e,n,r,i){var o={};o.prefix=e.isRoot?"":e.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var s=_m(e.bucketOnlyServerUrl()),a=t.maxOperationRetryTime,u=new Om(s,"GET",function(t,e){return function(n,r){var i=function(t,e,n){var r=ym(n);return null===r?null:function(t,e,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,o=n.prefixes;i<o.length;i++){var s=o[i].replace(/\/$/,""),a=t.makeStorageReference(new mm(e,s));r.prefixes.push(a)}if(n.items)for(var u=0,c=n.items;u<c.length;u++)a=t.makeStorageReference(new mm(e,c[u].name)),r.items.push(a);return r}(t,e,r)}(t,e,r);return Nm(null!==i),i}}(t,e.bucket),a);return u.urlParams=o,u.errorHandler=Pm(e),u}function Um(t,e,n){var r=_m(e.fullServerUrl()),i=t.maxOperationRetryTime,o=new Om(r,"GET",function(t,e){return function(n,r){var i=Am(t,r,e);return Nm(null!==i),function(t,e){var n=ym(e);if(null===n)return null;if(!sm(n.downloadTokens))return null;var r=n.downloadTokens;if(0===r.length)return null;var i=encodeURIComponent;return r.split(",").map((function(e){var n=t.fullPath;return _m("/b/"+i(t.bucket)+"/o/"+i(n))+Em({alt:"media",token:e})}))[0]}(i,r)}}(t,n),i);return o.errorHandler=Dm(e),o}function Mm(t,e,n,r){var i=_m(e.fullServerUrl()),o=Cm(n,r),s=t.maxOperationRetryTime,a=new Om(i,"PATCH",Rm(t,r),s);return a.headers={"Content-Type":"application/json; charset=utf-8"},a.body=o,a.errorHandler=Dm(e),a}function jm(t,e){var n=_m(e.fullServerUrl()),r=new Om(n,"DELETE",(function(t,e){}),t.maxOperationRetryTime);return r.successCodes=[200,204],r.errorHandler=Dm(e),r}function Fm(t,e,n){var r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function(t,e){return e&&e.type()||"application/octet-stream"}(0,e)),r}var qm=function(){return function(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null}}();function Hm(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(r){Nm(!1)}return Nm(!!n&&-1!==(e||["active"]).indexOf(n)),n}var Bm=262144,zm=function(){return function(t,e,n){if(rm(t)||em(e)||em(n))this.next=t,this.error=e||null,this.complete=n||null;else{var r=t;this.next=r.next||null,this.error=r.error||null,this.complete=r.complete||null}}}(),Gm=function(){return function(t,e,n,r,i,o){this.bytesTransferred=t,this.totalBytes=e,this.state=n,this.metadata=r,this.task=i,this.ref=o}}();function Wm(t,e,n){for(var r=e.length,i=e.length,o=0;o<e.length;o++)if(e[o].optional){r=o;break}if(!(r<=n.length&&n.length<=i))throw(s=r)===(a=i)?(u=s,c=1===s?"argument":"arguments"):(u="between "+s+" and "+a,c="arguments"),new Cv("invalid-argument-count","Invalid argument count in `"+t+"`: Expected "+u+" "+c+", received "+n.length+".");var s,a,u,c;for(o=0;o<n.length;o++)try{e[o].validator(n[o])}catch(l){throw l instanceof Error?Dv(o,t,l.message):Dv(o,t,l)}}var $m=function(){return function(t,e){var n=this;this.validator=function(e){n.optional&&!nm(e)||t(e)},this.optional=!!e}}();function Km(t,e){function n(t){if(!sm(t))throw"Expected string."}var r,i,o;return t?(i=n,o=t,r=function(t){i(t),o(t)}):r=n,new $m(r,e)}function Xm(){return new $m((function(t){if(!(t instanceof Uint8Array||t instanceof ArrayBuffer||lm()&&t instanceof Blob))throw"Expected Blob or File."}))}function Zm(t){return new $m(km,t)}function Ym(t){return new $m(xm,t)}function Jm(){return new $m((function(t){if(!(um(t)&&t>=0))throw"Expected a number 0 or greater."}))}function Qm(t,e){return new $m((function(e){if(!(null===e||em(e)&&e instanceof Object))throw"Expected an Object.";null!=t&&t(e)}),e)}function ty(t){return new $m((function(t){if(null!==t&&!rm(t))throw"Expected a Function."}),t)}function ey(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then((function(){return t.apply(void 0,e)}))}}var ny,ry,iy=function(){function t(t,e,n,r,i,o){var s=this;void 0===o&&(o=null),this.transferred_=0,this.needToFetchStatus_=!1,this.needToFetchMetadata_=!1,this.observers_=[],this.error_=null,this.uploadUrl_=null,this.request_=null,this.chunkMultiplier_=1,this.resolve_=null,this.reject_=null,this.ref_=t,this.service_=e,this.location_=n,this.blob_=i,this.metadata_=o,this.mappings_=r,this.resumable_=this.shouldDoResumable_(this.blob_),this.state_=Wv,this.errorHandler_=function(t){s.request_=null,s.chunkMultiplier_=1,t.codeEquals(kv)?(s.needToFetchStatus_=!0,s.completeTransitions_()):(s.error_=t,s.transition_(Jv))},this.metadataErrorHandler_=function(t){s.request_=null,t.codeEquals(kv)?s.completeTransitions_():(s.error_=t,s.transition_(Jv))},this.promise_=new Promise((function(t,e){s.resolve_=t,s.reject_=e,s.start_()})),this.promise_.then(null,(function(){}))}return t.prototype.makeProgressCallback_=function(){var t=this,e=this.transferred_;return function(n){return t.updateProgress_(e+n)}},t.prototype.shouldDoResumable_=function(t){return t.size()>262144},t.prototype.start_=function(){this.state_===Wv&&null===this.request_&&(this.resumable_?null===this.uploadUrl_?this.createResumable_():this.needToFetchStatus_?this.fetchStatus_():this.needToFetchMetadata_?this.fetchMetadata_():this.continueUpload_():this.oneShotUpload_())},t.prototype.resolveToken_=function(t){var e=this;this.service_.getAuthToken().then((function(n){switch(e.state_){case Wv:t(n);break;case Zv:e.transition_(Yv);break;case $v:e.transition_(Kv)}}))},t.prototype.createResumable_=function(){var t=this;this.resolveToken_((function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),s=Fm(e,r,i),a={name:s.fullPath},u=_m(o),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},l=Cm(s,n),h=new Om(u,"POST",(function(t){var e;Hm(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(n){Nm(!1)}return Nm(sm(e)),e}),t.maxUploadRetryTime);return h.urlParams=a,h.headers=c,h.body=l,h.errorHandler=Pm(e),h}(t.service_,t.location_,t.mappings_,t.blob_,t.metadata_),r=t.service_.makeRequest(n,e);t.request_=r,r.getPromise().then((function(e){t.request_=null,t.uploadUrl_=e,t.needToFetchStatus_=!1,t.completeTransitions_()}),t.errorHandler_)}))},t.prototype.fetchStatus_=function(){var t=this,e=this.uploadUrl_;this.resolveToken_((function(n){var r=function(t,e,n,r){var i=new Om(n,"POST",(function(t){var e=Hm(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(o){Nm(!1)}n||Nm(!1);var i=Number(n);return Nm(!isNaN(i)),new qm(i,r.size(),"final"===e)}),t.maxUploadRetryTime);return i.headers={"X-Goog-Upload-Command":"query"},i.errorHandler=Pm(e),i}(t.service_,t.location_,e,t.blob_),i=t.service_.makeRequest(r,n);t.request_=i,i.getPromise().then((function(e){e=e,t.request_=null,t.updateProgress_(e.current),t.needToFetchStatus_=!1,e.finalized&&(t.needToFetchMetadata_=!0),t.completeTransitions_()}),t.errorHandler_)}))},t.prototype.continueUpload_=function(){var t=this,e=Bm*this.chunkMultiplier_,n=new qm(this.transferred_,this.blob_.size()),r=this.uploadUrl_;this.resolveToken_((function(i){var o;try{o=function(t,e,n,r,i,o,s,a){var u=new qm(0,0);if(s?(u.current=s.current,u.total=s.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new Cv("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var h=u.current,f={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":u.current},d=r.slice(h,h+l);if(null===d)throw Rv();var p=new Om(n,"POST",(function(t,n){var i,s=Hm(t,["active","final"]),a=u.current+l,c=r.size();return i="final"===s?Rm(e,o)(t,n):null,new qm(a,c,"final"===s,i)}),e.maxUploadRetryTime);return p.headers=f,p.body=d.uploadData(),p.progressCallback=a||null,p.errorHandler=Pm(t),p}(t.location_,t.service_,r,t.blob_,e,t.mappings_,n,t.makeProgressCallback_())}catch(a){return t.error_=a,void t.transition_(Jv)}var s=t.service_.makeRequest(o,i);t.request_=s,s.getPromise().then((function(e){t.increaseMultiplier_(),t.request_=null,t.updateProgress_(e.current),e.finalized?(t.metadata_=e.metadata,t.transition_(Xv)):t.completeTransitions_()}),t.errorHandler_)}))},t.prototype.increaseMultiplier_=function(){Bm*this.chunkMultiplier_<33554432&&(this.chunkMultiplier_*=2)},t.prototype.fetchMetadata_=function(){var t=this;this.resolveToken_((function(e){var n=Lm(t.service_,t.location_,t.mappings_),r=t.service_.makeRequest(n,e);t.request_=r,r.getPromise().then((function(e){t.request_=null,t.metadata_=e,t.transition_(Xv)}),t.metadataErrorHandler_)}))},t.prototype.oneShotUpload_=function(){var t=this;this.resolveToken_((function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"},a=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();s["Content-Type"]="multipart/related; boundary="+a;var u=Fm(e,r,i),c=Cm(u,n),l=vm.getBlob("--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+c+"\r\n--"+a+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",r,"\r\n--"+a+"--");if(null===l)throw Rv();var h={name:u.fullPath},f=_m(o),d=t.maxUploadRetryTime,p=new Om(f,"POST",Rm(t,n),d);return p.urlParams=h,p.headers=s,p.body=l.uploadData(),p.errorHandler=Pm(e),p}(t.service_,t.location_,t.mappings_,t.blob_,t.metadata_),r=t.service_.makeRequest(n,e);t.request_=r,r.getPromise().then((function(e){t.request_=null,t.metadata_=e,t.updateProgress_(t.blob_.size()),t.transition_(Xv)}),t.errorHandler_)}))},t.prototype.updateProgress_=function(t){var e=this.transferred_;this.transferred_=t,this.transferred_!==e&&this.notifyObservers_()},t.prototype.transition_=function(t){if(this.state_!==t)switch(t){case Zv:case $v:this.state_=t,null!==this.request_&&this.request_.cancel();break;case Wv:var e=this.state_===Kv;this.state_=t,e&&(this.notifyObservers_(),this.start_());break;case Kv:this.state_=t,this.notifyObservers_();break;case Yv:this.error_=Nv(),this.state_=t,this.notifyObservers_();break;case Jv:case Xv:this.state_=t,this.notifyObservers_()}},t.prototype.completeTransitions_=function(){switch(this.state_){case $v:this.transition_(Kv);break;case Zv:this.transition_(Yv);break;case Wv:this.start_()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=tm(this.state_);return new Gm(this.transferred_,this.blob_.size(),t,this.metadata_,this,this.ref_)},enumerable:!1,configurable:!0}),t.prototype.on=function(t,e,n,r){function i(){if(t!==Gv.STATE_CHANGED)throw"Expected one of the event types: ["+Gv.STATE_CHANGED+"]."}var o="Expected a function or an Object with one of `next`, `error`, `complete` properties.",s=ty(!0).validator,a=Qm(null,!0).validator;function u(t){try{return void s(t)}catch(e){}try{if(a(t),!(nm(t.next)||nm(t.error)||nm(t.complete)))throw"";return}catch(e){throw o}}var c=[Km(i),Qm(u,!0),ty(!0),ty(!0)];Wm("on",c,arguments);var l=this;function h(t){return function(e,n,i){null!==t&&Wm("on",t,arguments);var o=new zm(e,n,r);return l.addObserver_(o),function(){l.removeObserver_(o)}}}function f(t){if(null===t)throw o;u(t)}var d=[Qm(f),ty(!0),ty(!0)],p=!(nm(e)||nm(n)||nm(r));return p?h(d):h(null)(e,n,r)},t.prototype.then=function(t,e){return this.promise_.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype.addObserver_=function(t){this.observers_.push(t),this.notifyObserver_(t)},t.prototype.removeObserver_=function(t){var e=this.observers_.indexOf(t);-1!==e&&this.observers_.splice(e,1)},t.prototype.notifyObservers_=function(){var t=this;this.finishPromise_(),this.observers_.slice().forEach((function(e){t.notifyObserver_(e)}))},t.prototype.finishPromise_=function(){if(null!==this.resolve_){var t=!0;switch(tm(this.state_)){case Qv.SUCCESS:ey(this.resolve_.bind(null,this.snapshot))();break;case Qv.CANCELED:case Qv.ERROR:ey(this.reject_.bind(null,this.error_))();break;default:t=!1}t&&(this.resolve_=null,this.reject_=null)}},t.prototype.notifyObserver_=function(t){switch(tm(this.state_)){case Qv.RUNNING:case Qv.PAUSED:t.next&&ey(t.next.bind(t,this.snapshot))();break;case Qv.SUCCESS:t.complete&&ey(t.complete.bind(t))();break;case Qv.CANCELED:case Qv.ERROR:t.error&&ey(t.error.bind(t,this.error_))();break;default:t.error&&ey(t.error.bind(t,this.error_))()}},t.prototype.resume=function(){Wm("resume",[],arguments);var t=this.state_===Kv||this.state_===$v;return t&&this.transition_(Wv),t},t.prototype.pause=function(){Wm("pause",[],arguments);var t=this.state_===Wv;return t&&this.transition_($v),t},t.prototype.cancel=function(){Wm("cancel",[],arguments);var t=this.state_===Wv||this.state_===$v;return t&&this.transition_(Zv),t},t}(),oy=function(){function t(t,e){this.service=t,this.location=e instanceof mm?e:mm.makeFromUrl(e)}return t.prototype.toString=function(){return Wm("toString",[],arguments),"gs://"+this.location.bucket+"/"+this.location.path},t.prototype.newRef=function(e,n){return new t(e,n)},t.prototype.mappings=function(){return function(){if(Sm)return Sm;var t=[];t.push(new Tm("bucket")),t.push(new Tm("generation")),t.push(new Tm("metageneration")),t.push(new Tm("name","fullPath",!0));var e=new Tm("name");e.xform=function(t,e){return function(t){return!sm(t)||t.length<2?t:wm(t)}(e)},t.push(e);var n=new Tm("size");return n.xform=function(t,e){return em(e)?Number(e):e},t.push(n),t.push(new Tm("timeCreated")),t.push(new Tm("updated")),t.push(new Tm("md5Hash",null,!0)),t.push(new Tm("cacheControl",null,!0)),t.push(new Tm("contentDisposition",null,!0)),t.push(new Tm("contentEncoding",null,!0)),t.push(new Tm("contentLanguage",null,!0)),t.push(new Tm("contentType",null,!0)),t.push(new Tm("metadata","customMetadata",!0)),Sm=t}()},t.prototype.child=function(t){Wm("child",[Km()],arguments);var e=bm(this.location.path,t),n=new mm(this.location.bucket,e);return this.newRef(this.service,n)},Object.defineProperty(t.prototype,"parent",{get:function(){var t=function(t){if(0===t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this.location.path);if(null===t)return null;var e=new mm(this.location.bucket,t);return this.newRef(this.service,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){var t=new mm(this.location.bucket,"");return this.newRef(this.service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this.location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this.location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return wm(this.location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this.service},enumerable:!1,configurable:!0}),t.prototype.put=function(t,e){return void 0===e&&(e=null),Wm("put",[Xm(),Zm(!0)],arguments),this.throwIfRoot_("put"),new iy(this,this.service,this.location,this.mappings(),new vm(t),e)},t.prototype.putString=function(t,e,n){void 0===e&&(e=Mv.RAW),Wm("putString",[Km(),Km(jv,!0),Zm(!0)],arguments),this.throwIfRoot_("putString");var r=qv(e,t),i=Object.assign({},n);return!em(i.contentType)&&em(r.contentType)&&(i.contentType=r.contentType),new iy(this,this.service,this.location,this.mappings(),new vm(r.data,!0),i)},t.prototype.delete=function(){var t=this;return Wm("delete",[],arguments),this.throwIfRoot_("delete"),this.service.getAuthToken().then((function(e){var n=jm(t.service,t.location);return t.service.makeRequest(n,e).getPromise()}))},t.prototype.listAll=function(){Wm("listAll",[],arguments);var t={prefixes:[],items:[]};return this.listAllHelper(t).then((function(){return t}))},t.prototype.listAllHelper=function(t,e){return Object(Tv.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return Object(Tv.__generator)(this,(function(o){switch(o.label){case 0:return[4,this.list({pageToken:e})];case 1:return n=o.sent(),(r=t.prefixes).push.apply(r,n.prefixes),(i=t.items).push.apply(i,n.items),null==n.nextPageToken?[3,3]:[4,this.listAllHelper(t,n.nextPageToken)];case 2:o.sent(),o.label=3;case 3:return[2]}}))}))},t.prototype.list=function(t){Wm("list",[Ym(!0)],arguments);var e=this;return this.service.getAuthToken().then((function(n){var r=t||{},i=Vm(e.service,e.location,"/",r.pageToken,r.maxResults);return e.service.makeRequest(i,n).getPromise()}))},t.prototype.getMetadata=function(){var t=this;return Wm("getMetadata",[],arguments),this.throwIfRoot_("getMetadata"),this.service.getAuthToken().then((function(e){var n=Lm(t.service,t.location,t.mappings());return t.service.makeRequest(n,e).getPromise()}))},t.prototype.updateMetadata=function(t){var e=this;return Wm("updateMetadata",[Zm()],arguments),this.throwIfRoot_("updateMetadata"),this.service.getAuthToken().then((function(n){var r=Mm(e.service,e.location,t,e.mappings());return e.service.makeRequest(r,n).getPromise()}))},t.prototype.getDownloadURL=function(){var t=this;return Wm("getDownloadURL",[],arguments),this.throwIfRoot_("getDownloadURL"),this.service.getAuthToken().then((function(e){var n=Um(t.service,t.location,t.mappings());return t.service.makeRequest(n,e).getPromise().then((function(t){if(null===t)throw Pv();return t}))}))},t.prototype.throwIfRoot_=function(t){if(""===this.location.path)throw function(t){return new Cv("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(t)},t}(),sy=function(){function t(t){this.promise_=Promise.reject(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){},t}(),ay=function(){function t(t,e,n,r,i,o,s,a,u,c,l){var h=this;this.pendingXhr_=null,this.backoffId_=null,this.resolve_=null,this.reject_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=s,this.errorCallback_=a,this.progressCallback_=c,this.timeout_=u,this.pool_=l,this.promise_=new Promise((function(t,e){h.resolve_=t,h.reject_=e,h.start_()}))}return t.prototype.start_=function(){var t=this;function e(e,n){var r,i=t.resolve_,o=t.reject_,s=n.xhr;if(n.wasSuccessCode)try{var a=t.callback_(s,s.getResponseText());nm(a)?i(a):i()}catch(u){o(u)}else null!==s?((r=Ov()).setServerResponseProp(s.getResponseText()),o(t.errorCallback_?t.errorCallback_(s,r):r)):o(r=n.canceled?t.appDelete_?Lv():Nv():new Cv("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?e(0,new uy(!1,null,!0)):this.backoffId_=function(e,n,r){var i=1,o=null,s=!1,a=0;function u(){return 2===a}var c=!1;function l(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];c||(c=!0,n.apply(null,t))}function h(e){o=setTimeout((function(){o=null,function(e,n){if(n)e(!1,new uy(!1,null,!0));else{var r=t.pool_.createXhrIo();t.pendingXhr_=r,null!==t.progressCallback_&&r.addUploadProgressListener(i),r.send(t.url_,t.method_,t.body_,t.headers_).then((function(n){null!==t.progressCallback_&&n.removeUploadProgressListener(i),t.pendingXhr_=null;var r=(n=n).getErrorCode()===hm.NO_ERROR,o=n.getStatus();if(r&&!t.isRetryStatusCode_(o)){var s=-1!==t.successCodes_.indexOf(o);e(!0,new uy(s,n))}else{var a=n.getErrorCode()===hm.ABORT;e(!1,new uy(!1,null,a))}}))}function i(e){null!==t.progressCallback_&&t.progressCallback_(e.loaded,e.lengthComputable?e.total:-1)}}(f,u())}),e)}function f(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!c)if(t)l.call.apply(l,Object(Tv.__spreadArrays)([null,t],e));else{var r;u()||s?l.call.apply(l,Object(Tv.__spreadArrays)([null,t],e)):(i<64&&(i*=2),1===a?(a=2,r=0):r=1e3*(i+Math.random()),h(r))}}var d=!1;function p(t){d||(d=!0,c||(null!==o?(t||(a=2),clearTimeout(o),h(0)):t||(a=1)))}return h(0),setTimeout((function(){s=!0,p(!0)}),r),p}(0,e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingXhr_&&this.pendingXhr_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=-1!==[408,429].indexOf(t),r=-1!==this.additionalRetryCodes_.indexOf(t);return e||n||r},t}(),uy=function(){return function(t,e,n){this.wasSuccessCode=t,this.xhr=e,this.canceled=!!n}}(),cy=function(){function t(e,n,r,i){var o;this.bucket_=null,this.appId_=null,this.deleted_=!1,this.app_=e,this.authProvider_=n,this.maxOperationRetryTime_=12e4,this.maxUploadRetryTime_=6e5,this.requests_=new Set,this.pool_=r,this.bucket_=null!=i?mm.makeFromBucketSpec(i):t.extractBucket_(null===(o=this.app_)||void 0===o?void 0:o.options),this.internals_=new ly(this)}return t.extractBucket_=function(t){var e=null==t?void 0:t.storageBucket;return null==e?null:mm.makeFromBucketSpec(e)},t.prototype.getAuthToken=function(){return Object(Tv.__awaiter)(this,void 0,void 0,(function(){var t,e;return Object(Tv.__generator)(this,(function(n){switch(n.label){case 0:return(t=this.authProvider_.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:if(null!==(e=n.sent()))return[2,e.accessToken];n.label=2;case 2:return[2,null]}}))}))},t.prototype.deleteApp=function(){this.deleted_=!0,this.app_=null,this.requests_.forEach((function(t){return t.cancel()})),this.requests_.clear()},t.prototype.makeStorageReference=function(t){return new oy(this,t)},t.prototype.makeRequest=function(t,e){var n=this;if(this.deleted_)return new sy(Lv());var r=function(t,e,n,r){var i=Em(t.urlParams),o=t.url+i,s=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(s,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(s,n),function(t){t["X-Firebase-Storage-Version"]="webjs/"+(void 0!==Iv.a?Iv.a.SDK_VERSION:"AppManager")}(s),new ay(o,t.method,s,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r)}(t,this.appId_,e,this.pool_);return this.requests_.add(r),r.getPromise().then((function(){return n.requests_.delete(r)}),(function(){return n.requests_.delete(r)})),r},t.prototype.ref=function(t){function e(t){if("string"!=typeof t)throw"Path is not a string.";if(/^[A-Za-z]+:\/\//.test(t))throw"Expected child path but got a URL, use refFromURL instead."}if(Wm("ref",[Km(e,!0)],arguments),null==this.bucket_)throw new Error("No Storage Bucket defined in Firebase Options.");var n=new oy(this,this.bucket_);return null!=t?n.child(t):n},t.prototype.refFromURL=function(t){function e(t){if("string"!=typeof t)throw"Path is not a string.";if(!/^[A-Za-z]+:\/\//.test(t))throw"Expected full URL but got a child path, use ref instead.";try{mm.makeFromUrl(t)}catch(e){throw"Expected valid full URL but got an invalid one."}}return Wm("refFromURL",[Km(e,!1)],arguments),new oy(this,t)},Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this.maxUploadRetryTime_},enumerable:!1,configurable:!0}),t.prototype.setMaxUploadRetryTime=function(t){Wm("setMaxUploadRetryTime",[Jm()],arguments),this.maxUploadRetryTime_=t},Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this.maxOperationRetryTime_},enumerable:!1,configurable:!0}),t.prototype.setMaxOperationRetryTime=function(t){Wm("setMaxOperationRetryTime",[Jm()],arguments),this.maxOperationRetryTime_=t},Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"INTERNAL",{get:function(){return this.internals_},enumerable:!1,configurable:!0}),t}(),ly=function(){function t(t){this.service_=t}return t.prototype.delete=function(){return this.service_.deleteApp(),Promise.resolve()},t}();ry={TaskState:Qv,TaskEvent:Gv,StringFormat:Mv,Storage:cy,Reference:oy},(ny=Iv.a).INTERNAL.registerComponent(new Sv.Component("storage",(function(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal");return new cy(n,r,new dm,e)}),"PUBLIC").setServiceProps(ry).setMultipleInstances(!0)),ny.registerVersion("@firebase/storage","0.3.42");let hy=(()=>{let t=class{};return t.\u0275mod=pe({type:t}),t.\u0275inj=ct({factory:function(e){return new(e||t)},providers:[_v]}),t})();n("LOEa");let fy=(()=>{let t=class{};return t.\u0275mod=pe({type:t}),t.\u0275inj=ct({factory:function(e){return new(e||t)},providers:[cp]}),t})(),dy=(()=>{class t{}return t.\u0275mod=pe({type:t,bootstrap:[gp]}),t.\u0275inj=ct({factory:function(e){return new(e||t)},providers:[{provide:bv,useValue:"gs://caffeetalk-cb81f.appspot.com"},av],imports:[[mc,Fg,up.initializeApp(ru.firebaseConfig),fy,vv,hy,Mf.forRoot(pv,{useHash:!0}),Td,jg]]}),t})();ru.production&&function(){if(hr)throw new Error("Cannot enable prod mode after platform setup.");lr=!1}(),gc().bootstrapModule(dy).catch(t=>console.error(t))},zVF4:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("uXP2"),i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},o=function(t,e){if(!t)throw s(e)},s=function(t){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},a=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},u={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=(15&a)<<2|c>>6,h=63&c;u||(h=64,s||(l=64)),r.push(n[o>>2],n[(3&o)<<4|a>>4],n[l],n[h])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(a(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var s=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(s>>10)),e[r++]=String.fromCharCode(56320+(1023&s))}else{o=t[n++];var a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0,a=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==s||null==a||null==u)throw Error();r.push(o<<2|s>>4),64!==a&&(r.push(s<<4&240|a>>2),64!==u&&r.push(a<<6&192|u))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},c=function(t){try{return u.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function l(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&(t[n]=l(t[n],e[n]));return t}var h=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();function f(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function d(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}var p=function(t){function e(n,r){var i=t.call(this,r)||this;return i.code=n,i.name="FirebaseError",Object.setPrototypeOf(i,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(i,g.prototype.create),i}return r.__extends(e,t),e}(Error),g=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?v(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new p(i,a),c=0,l=Object.keys(r);c<l.length;c++){var h=l[c];"_"!==h.slice(-1)&&(h in u&&console.warn('Overwriting FirebaseError base field "'+h+'" can cause unexpected behavior.'),u[h]=r[h])}return u},t}();function v(t,e){return t.replace(m,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var m=/\{\$([^}]+)}/g;function y(t){return JSON.parse(t)}var b=function(t){var e={},n={},r={},i="";try{var o=t.split(".");e=y(c(o[0])||""),n=y(c(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(s){}return{header:e,claims:n,data:r,signature:i}},w=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++)n[r]=4294967295&((h=n[r-3]^n[r-8]^n[r-14]^n[r-16])<<1|h>>>31);var i,o,s=this.chain_[0],a=this.chain_[1],u=this.chain_[2],c=this.chain_[3],l=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(i=c^a&(u^c),o=1518500249):(i=a^u^c,o=1859775393):r<60?(i=a&u|c&(a|u),o=2400959708):(i=a^u^c,o=3395469782);var h=(s<<5|s>>>27)+i+l+o+n[r]&4294967295;l=c,c=u,u=4294967295&(a<<30|a>>>2),a=s,s=h}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},t}(),_=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=E),void 0===r.error&&(r.error=E),void 0===r.complete&&(r.complete=E);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function E(){}function I(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return t+" failed: "+r+" argument "}e.CONSTANTS=i,e.Deferred=h,e.ErrorFactory=g,e.FirebaseError=p,e.Sha1=w,e.areCookiesEnabled=function(){return!(!navigator||!navigator.cookieEnabled)},e.assert=o,e.assertionError=s,e.async=function(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then((function(){t.apply(void 0,n)})).catch((function(t){e&&e(t)}))}},e.base64=u,e.base64Decode=c,e.base64Encode=function(t){var e=a(t);return u.encodeByteArray(e,!0)},e.contains=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.createSubscribe=function(t,e){var n=new _(t,e);return n.subscribe.bind(n)},e.decode=b,e.deepCopy=function(t){return l(void 0,t)},e.deepExtend=l,e.errorPrefix=I,e.getUA=f,e.isAdmin=function(t){var e=b(t).claims;return"object"==typeof e&&!0===e.admin},e.isBrowser=function(){return"object"==typeof self&&self.self===self},e.isBrowserExtension=function(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id},e.isElectron=function(){return f().indexOf("Electron/")>=0},e.isEmpty=function(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0},e.isIE=function(){var t=f();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0},e.isIndexedDBAvailable=function(){return"indexedDB"in self&&null!==indexedDB},e.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(f())},e.isNode=d,e.isNodeSdk=function(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN},e.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},e.isSafari=function(){return!d()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")},e.isUWP=function(){return f().indexOf("MSAppHost/")>=0},e.isValidFormat=function(t){var e=b(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")},e.isValidTimestamp=function(t){var e=b(t).claims,n=Math.floor((new Date).getTime()/1e3),r=0,i=0;return"object"==typeof e&&(e.hasOwnProperty("nbf")?r=e.nbf:e.hasOwnProperty("iat")&&(r=e.iat),i=e.hasOwnProperty("exp")?e.exp:r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},e.issuedAtTime=function(t){var e=b(t).claims;return"object"==typeof e&&e.hasOwnProperty("iat")?e.iat:null},e.jsonEval=y,e.map=function(t,e,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r},e.querystring=function(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach((function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))})):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},r=0,i=Object.entries(t);r<i.length;r++){var o=i[r];n(o[0],o[1])}return e.length?"&"+e.join("&"):""},e.querystringDecode=function(t){var e={};return t.replace(/^\?/,"").split("&").forEach((function(t){if(t){var n=t.split("=");e[n[0]]=n[1]}})),e},e.safeGet=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0},e.stringLength=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e},e.stringToByteArray=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);if(i>=55296&&i<=56319){var s=i-55296;r++,o(r<t.length,"Surrogate pair missing trail surrogate."),i=65536+(s<<10)+(t.charCodeAt(r)-56320)}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},e.stringify=function(t){return JSON.stringify(t)},e.validateArgCount=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")},e.validateCallback=function(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(I(t,e,r)+"must be a valid function.")},e.validateContextObject=function(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(I(t,e,r)+"must be a valid context object.")},e.validateIndexedDBOpenable=function(){return new Promise((function(t,e){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=window.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||window.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var t;e((null===(t=i.error)||void 0===t?void 0:t.message)||"")}}catch(o){e(o)}}))},e.validateNamespace=function(t,e,n,r){if((!r||n)&&"string"!=typeof n)throw new Error(I(t,e,r)+"must be a valid firebase namespace.")}},zn8P:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"}},[[0,0]]]);